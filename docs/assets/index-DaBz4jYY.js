(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var j_={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=Symbol.for("react.transitional.element"),U1=Symbol.for("react.fragment");function q_(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:P1,type:e,key:i,ref:t!==void 0?t:null,props:n}}Hu.Fragment=U1;Hu.jsx=q_;Hu.jsxs=q_;j_.exports=Hu;var U=j_.exports,H_={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld=Symbol.for("react.transitional.element"),L1=Symbol.for("react.portal"),z1=Symbol.for("react.fragment"),B1=Symbol.for("react.strict_mode"),j1=Symbol.for("react.profiler"),q1=Symbol.for("react.consumer"),H1=Symbol.for("react.context"),G1=Symbol.for("react.forward_ref"),F1=Symbol.for("react.suspense"),Q1=Symbol.for("react.memo"),G_=Symbol.for("react.lazy"),Kg=Symbol.iterator;function K1(e){return e===null||typeof e!="object"?null:(e=Kg&&e[Kg]||e["@@iterator"],typeof e=="function"?e:null)}var F_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q_=Object.assign,K_={};function Ns(e,t,n){this.props=e,this.context=t,this.refs=K_,this.updater=n||F_}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Y_(){}Y_.prototype=Ns.prototype;function ud(e,t,n){this.props=e,this.context=t,this.refs=K_,this.updater=n||F_}var cd=ud.prototype=new Y_;cd.constructor=ud;Q_(cd,Ns.prototype);cd.isPureReactComponent=!0;var Yg=Array.isArray,wt={H:null,A:null,T:null,S:null,V:null},X_=Object.prototype.hasOwnProperty;function hd(e,t,n,i,r,s){return n=s.ref,{$$typeof:ld,type:e,key:t,ref:n!==void 0?n:null,props:s}}function Y1(e,t){return hd(e.type,t,void 0,void 0,void 0,e.props)}function fd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ld}function X1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xg=/\/+/g;function Kc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?X1(""+e.key):t.toString(36)}function $g(){}function $1(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then($g,$g):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Vr(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ld:case L1:a=!0;break;case G_:return a=e._init,Vr(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+Kc(e,0):i,Yg(r)?(n="",a!=null&&(n=a.replace(Xg,"$&/")+"/"),Vr(r,t,n,"",function(h){return h})):r!=null&&(fd(r)&&(r=Y1(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Xg,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(Yg(e))for(var u=0;u<e.length;u++)i=e[u],s=l+Kc(i,u),a+=Vr(i,t,n,s,r);else if(u=K1(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+Kc(i,u++),a+=Vr(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Vr($1(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function il(e,t,n){if(e==null)return e;var i=[],r=0;return Vr(e,i,"","",function(s){return t.call(n,s,r++)}),i}function Z1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function J1(){}J.Children={map:il,forEach:function(e,t,n){il(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return il(e,function(){t++}),t},toArray:function(e){return il(e,function(t){return t})||[]},only:function(e){if(!fd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Ns;J.Fragment=z1;J.Profiler=j1;J.PureComponent=ud;J.StrictMode=B1;J.Suspense=F1;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wt;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return wt.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Q_({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!X_.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return hd(e.type,r,void 0,void 0,s,i)};J.createContext=function(e){return e={$$typeof:H1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:q1,_context:e},e};J.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)X_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return hd(e,s,void 0,void 0,null,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:G1,render:e}};J.isValidElement=fd;J.lazy=function(e){return{$$typeof:G_,_payload:{_status:-1,_result:e},_init:Z1}};J.memo=function(e,t){return{$$typeof:Q1,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=wt.T,n={};wt.T=n;try{var i=e(),r=wt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(J1,Zg)}catch(s){Zg(s)}finally{wt.T=t}};J.unstable_useCacheRefresh=function(){return wt.H.useCacheRefresh()};J.use=function(e){return wt.H.use(e)};J.useActionState=function(e,t,n){return wt.H.useActionState(e,t,n)};J.useCallback=function(e,t){return wt.H.useCallback(e,t)};J.useContext=function(e){return wt.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return wt.H.useDeferredValue(e,t)};J.useEffect=function(e,t,n){var i=wt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};J.useId=function(){return wt.H.useId()};J.useImperativeHandle=function(e,t,n){return wt.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return wt.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return wt.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return wt.H.useMemo(e,t)};J.useOptimistic=function(e,t){return wt.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return wt.H.useReducer(e,t,n)};J.useRef=function(e){return wt.H.useRef(e)};J.useState=function(e){return wt.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return wt.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return wt.H.useTransition()};J.version="19.1.1";H_.exports=J;var _t=H_.exports,$_={exports:{}},Gu={},Z_={exports:{}},J_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,G){var Q=B.length;B.push(G);t:for(;0<Q;){var gt=Q-1>>>1,St=B[gt];if(0<r(St,G))B[gt]=G,B[Q]=St,Q=gt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],Q=B.pop();if(Q!==G){B[0]=Q;t:for(var gt=0,St=B.length,An=St>>>1;gt<An;){var ge=2*(gt+1)-1,Pt=B[ge],Sn=ge+1,nn=B[Sn];if(0>r(Pt,Q))Sn<St&&0>r(nn,Pt)?(B[gt]=nn,B[Sn]=Q,gt=Sn):(B[gt]=Pt,B[ge]=Q,gt=ge);else if(Sn<St&&0>r(nn,Q))B[gt]=nn,B[Sn]=Q,gt=Sn;else break t}}return G}function r(B,G){var Q=B.sortIndex-G.sortIndex;return Q!==0?Q:B.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,p=null,m=3,_=!1,N=!1,M=!1,O=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var G=n(h);G!==null;){if(G.callback===null)i(h);else if(G.startTime<=B)i(h),G.sortIndex=G.expirationTime,t(u,G);else break;G=n(h)}}function L(B){if(M=!1,D(B),!N)if(n(u)!==null)N=!0,q||(q=!0,I());else{var G=n(h);G!==null&&Te(L,G.startTime-B)}}var q=!1,E=-1,y=5,T=-1;function b(){return O?!0:!(e.unstable_now()-T<y)}function R(){if(O=!1,q){var B=e.unstable_now();T=B;var G=!0;try{t:{N=!1,M&&(M=!1,v(E),E=-1),_=!0;var Q=m;try{e:{for(D(B),p=n(u);p!==null&&!(p.expirationTime>B&&b());){var gt=p.callback;if(typeof gt=="function"){p.callback=null,m=p.priorityLevel;var St=gt(p.expirationTime<=B);if(B=e.unstable_now(),typeof St=="function"){p.callback=St,D(B),G=!0;break e}p===n(u)&&i(u),D(B)}else i(u);p=n(u)}if(p!==null)G=!0;else{var An=n(h);An!==null&&Te(L,An.startTime-B),G=!1}}break t}finally{p=null,m=Q,_=!1}G=void 0}}finally{G?I():q=!1}}}var I;if(typeof w=="function")I=function(){w(R)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Jt=A.port2;A.port1.onmessage=R,I=function(){Jt.postMessage(null)}}else I=function(){S(R,0)};function Te(B,G){E=S(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var Q=m;m=G;try{return B()}finally{m=Q}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=m;m=B;try{return G()}finally{m=Q}},e.unstable_scheduleCallback=function(B,G,Q){var gt=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?gt+Q:gt):Q=gt,B){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=Q+St,B={id:d++,callback:G,priorityLevel:B,startTime:Q,expirationTime:St,sortIndex:-1},Q>gt?(B.sortIndex=Q,t(h,B),n(u)===null&&B===n(h)&&(M?(v(E),E=-1):M=!0,Te(L,Q-gt))):(B.sortIndex=St,t(u,B),N||_||(N=!0,q||(q=!0,I()))),B},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(B){var G=m;return function(){var Q=m;m=G;try{return B.apply(this,arguments)}finally{m=Q}}}})(J_);Z_.exports=J_;var W1=Z_.exports,W_={exports:{}},Ee={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=_t;function tv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ti(){}var ve={d:{f:ti,r:function(){throw Error(tv(522))},D:ti,C:ti,L:ti,m:ti,X:ti,S:ti,M:ti},p:0,findDOMNode:null},eS=Symbol.for("react.portal");function nS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var va=tS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Fu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ve;Ee.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(tv(299));return nS(e,t,null,n)};Ee.flushSync=function(e){var t=va.T,n=ve.p;try{if(va.T=null,ve.p=2,e)return e()}finally{va.T=t,ve.p=n,ve.d.f()}};Ee.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ve.d.C(e,t))};Ee.prefetchDNS=function(e){typeof e=="string"&&ve.d.D(e)};Ee.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Fu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ve.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&ve.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ee.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Fu(t.as,t.crossOrigin);ve.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ve.d.M(e)};Ee.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Fu(n,t.crossOrigin);ve.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ee.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Fu(t.as,t.crossOrigin);ve.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ve.d.m(e)};Ee.requestFormReset=function(e){ve.d.r(e)};Ee.unstable_batchedUpdates=function(e,t){return e(t)};Ee.useFormState=function(e,t,n){return va.H.useFormState(e,t,n)};Ee.useFormStatus=function(){return va.H.useHostTransitionStatus()};Ee.version="19.1.1";function ev(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ev)}catch(e){console.error(e)}}ev(),W_.exports=Ee;var iS=W_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=W1,nv=_t,rS=iS;function k(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function iv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ho(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jg(e){if(ho(e)!==e)throw Error(k(188))}function sS(e){var t=e.alternate;if(!t){if(t=ho(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Jg(r),e;if(s===i)return Jg(r),t;s=s.sibling}throw Error(k(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(k(189))}}if(n.alternate!==i)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function sv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=sv(e),t!==null)return t;e=e.sibling}return null}var At=Object.assign,aS=Symbol.for("react.element"),rl=Symbol.for("react.transitional.element"),ha=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),oS=Symbol.for("react.provider"),ov=Symbol.for("react.consumer"),Nn=Symbol.for("react.context"),dd=Symbol.for("react.forward_ref"),jh=Symbol.for("react.suspense"),qh=Symbol.for("react.suspense_list"),md=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),Hh=Symbol.for("react.activity"),lS=Symbol.for("react.memo_cache_sentinel"),Wg=Symbol.iterator;function ia(e){return e===null||typeof e!="object"?null:(e=Wg&&e[Wg]||e["@@iterator"],typeof e=="function"?e:null)}var uS=Symbol.for("react.client.reference");function Gh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===uS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case Bh:return"Profiler";case av:return"StrictMode";case jh:return"Suspense";case qh:return"SuspenseList";case Hh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ha:return"Portal";case Nn:return(e.displayName||"Context")+".Provider";case ov:return(e._context.displayName||"Context")+".Consumer";case dd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case md:return t=e.displayName||null,t!==null?t:Gh(e.type)||"Memo";case ri:t=e._payload,e=e._init;try{return Gh(e(t))}catch{}}return null}var fa=Array.isArray,Y=nv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=rS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,er={pending:!1,data:null,method:null,action:null},Fh=[],jr=-1;function En(e){return{current:e}}function Zt(e){0>jr||(e.current=Fh[jr],Fh[jr]=null,jr--)}function Rt(e,t){jr++,Fh[jr]=e.current,e.current=t}var ln=En(null),ja=En(null),vi=En(null),Kl=En(null);function Yl(e,t){switch(Rt(vi,t),Rt(ja,e),Rt(ln,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ry(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ry(t),e=bT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Zt(ln),Rt(ln,e)}function fs(){Zt(ln),Zt(ja),Zt(vi)}function Qh(e){e.memoizedState!==null&&Rt(Kl,e);var t=ln.current,n=bT(t,e.type);t!==n&&(Rt(ja,e),Rt(ln,n))}function Xl(e){ja.current===e&&(Zt(ln),Zt(ja)),Kl.current===e&&(Zt(Kl),Za._currentValue=er)}var Kh=Object.prototype.hasOwnProperty,gd=Ft.unstable_scheduleCallback,Yc=Ft.unstable_cancelCallback,cS=Ft.unstable_shouldYield,hS=Ft.unstable_requestPaint,un=Ft.unstable_now,fS=Ft.unstable_getCurrentPriorityLevel,lv=Ft.unstable_ImmediatePriority,uv=Ft.unstable_UserBlockingPriority,$l=Ft.unstable_NormalPriority,dS=Ft.unstable_LowPriority,cv=Ft.unstable_IdlePriority,mS=Ft.log,gS=Ft.unstable_setDisableYieldValue,fo=null,Me=null;function mi(e){if(typeof mS=="function"&&gS(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(fo,e)}catch{}}var xe=Math.clz32?Math.clz32:_S,pS=Math.log,yS=Math.LN2;function _S(e){return e>>>=0,e===0?32:31-(pS(e)/yS|0)|0}var sl=256,al=4194304;function $i(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=$i(i):(a&=l,a!==0?r=$i(a):n||(n=l&~e,n!==0&&(r=$i(n))))):(l=i&~s,l!==0?r=$i(l):a!==0?r=$i(a):n||(n=i&~e,n!==0&&(r=$i(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function mo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hv(){var e=sl;return sl<<=1,!(sl&4194048)&&(sl=256),e}function fv(){var e=al;return al<<=1,!(al&62914560)&&(al=4194304),e}function Xc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function go(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ES(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-xe(n),p=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~p}i!==0&&dv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function dv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-xe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function mv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function pd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function gv(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:xT(e.type))}function TS(e,t){var n=ut.p;try{return ut.p=e,t()}finally{ut.p=n}}var Hi=Math.random().toString(36).slice(2),fe="__reactFiber$"+Hi,Re="__reactProps$"+Hi,Os="__reactContainer$"+Hi,Yh="__reactEvents$"+Hi,AS="__reactListeners$"+Hi,SS="__reactHandles$"+Hi,tp="__reactResources$"+Hi,po="__reactMarker$"+Hi;function _d(e){delete e[fe],delete e[Re],delete e[Yh],delete e[AS],delete e[SS]}function qr(e){var t=e[fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Os]||n[fe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=oy(e);e!==null;){if(n=e[fe])return n;e=oy(e)}return t}e=n,n=e.parentNode}return null}function Vs(e){if(e=e[fe]||e[Os]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function da(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(k(33))}function Wr(e){var t=e[tp];return t||(t=e[tp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Yt(e){e[po]=!0}var pv=new Set,yv={};function _r(e,t){ds(e,t),ds(e+"Capture",t)}function ds(e,t){for(yv[e]=t,e=0;e<t.length;e++)pv.add(t[e])}var bS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ep={},np={};function wS(e){return Kh.call(np,e)?!0:Kh.call(ep,e)?!1:bS.test(e)?np[e]=!0:(ep[e]=!0,!1)}function bl(e,t,n){if(wS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ol(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Rn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var $c,ip;function Mr(e){if($c===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$c=t&&t[1]||"",ip=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$c+e+ip}var Zc=!1;function Jc(e,t){if(!e||Zc)return"";Zc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(_){var m=_}Reflect.construct(e,[],p)}else{try{p.call()}catch(_){m=_}e.call(p.prototype)}}else{try{throw Error()}catch(_){m=_}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{Zc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Mr(n):""}function RS(e){switch(e.tag){case 26:case 27:case 5:return Mr(e.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return Jc(e.type,!1);case 11:return Jc(e.type.render,!1);case 1:return Jc(e.type,!0);case 31:return Mr("Activity");default:return""}}function rp(e){try{var t="";do t+=RS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _v(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IS(e){var t=_v(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zl(e){e._valueTracker||(e._valueTracker=IS(e))}function vv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=_v(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var CS=/[\n"\\]/g;function qe(e){return e.replace(CS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xh(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ze(t)):e.value!==""+ze(t)&&(e.value=""+ze(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?$h(e,a,ze(t)):n!=null?$h(e,a,ze(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+ze(l):e.removeAttribute("name")}function Ev(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+ze(n):"",t=t!=null?""+ze(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function $h(e,t,n){t==="number"&&Jl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ts(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ze(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Tv(e,t,n){if(t!=null&&(t=""+ze(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ze(n):""}function Av(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(k(92));if(fa(i)){if(1<i.length)throw Error(k(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ze(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var DS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||DS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Sv(e,t,n){if(t!=null&&typeof t!="object")throw Error(k(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&sp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&sp(e,s,t[s])}function vd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(e){return OS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zh=null;function Ed(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hr=null,es=null;function ap(e){var t=Vs(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;t:switch(e=t.stateNode,t.type){case"input":if(Xh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Re]||null;if(!r)throw Error(k(90));Xh(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&vv(i)}break t;case"textarea":Tv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&ts(e,!!n.multiple,t,!1)}}}var Wc=!1;function bv(e,t,n){if(Wc)return e(t,n);Wc=!0;try{var i=e(t);return i}finally{if(Wc=!1,(Hr!==null||es!==null)&&(nc(),Hr&&(t=Hr,e=es,es=Hr=null,ap(t),e)))for(t=0;t<e.length;t++)ap(e[t])}}function qa(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=!1;if(Bn)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Jh=!1}var gi=null,Td=null,Rl=null;function wv(){if(Rl)return Rl;var e,t=Td,n=t.length,i,r="value"in gi?gi.value:gi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return Rl=r.slice(e,1<i?1-i:void 0)}function Il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function op(){return!1}function Ie(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ll:op,this.isPropagationStopped=op,this}return At(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=Ie(vr),yo=At({},vr,{view:0,detail:0}),VS=Ie(yo),th,eh,sa,Yu=At({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(th=e.screenX-sa.screenX,eh=e.screenY-sa.screenY):eh=th=0,sa=e),th)},movementY:function(e){return"movementY"in e?e.movementY:eh}}),lp=Ie(Yu),MS=At({},Yu,{dataTransfer:0}),xS=Ie(MS),kS=At({},yo,{relatedTarget:0}),nh=Ie(kS),PS=At({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),US=Ie(PS),LS=At({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zS=Ie(LS),BS=At({},vr,{data:0}),up=Ie(BS),jS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HS[e])?!!t[e]:!1}function Ad(){return GS}var FS=At({},yo,{key:function(e){if(e.key){var t=jS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(e){return e.type==="keypress"?Il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QS=Ie(FS),KS=At({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=Ie(KS),YS=At({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),XS=Ie(YS),$S=At({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZS=Ie($S),JS=At({},Yu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WS=Ie(JS),tb=At({},vr,{newState:0,oldState:0}),eb=Ie(tb),nb=[9,13,27,32],Sd=Bn&&"CompositionEvent"in window,Ea=null;Bn&&"documentMode"in document&&(Ea=document.documentMode);var ib=Bn&&"TextEvent"in window&&!Ea,Rv=Bn&&(!Sd||Ea&&8<Ea&&11>=Ea),hp=" ",fp=!1;function Iv(e,t){switch(e){case"keyup":return nb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function rb(e,t){switch(e){case"compositionend":return Cv(t);case"keypress":return t.which!==32?null:(fp=!0,hp);case"textInput":return e=t.data,e===hp&&fp?null:e;default:return null}}function sb(e,t){if(Gr)return e==="compositionend"||!Sd&&Iv(e,t)?(e=wv(),Rl=Td=gi=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rv&&t.locale!=="ko"?null:t.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ab[e.type]:t==="textarea"}function Dv(e,t,n,i){Hr?es?es.push(i):es=[i]:Hr=i,t=pu(t,"onChange"),0<t.length&&(n=new Ku("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ta=null,Ha=null;function ob(e){TT(e,0)}function Xu(e){var t=da(e);if(vv(t))return e}function mp(e,t){if(e==="change")return t}var Nv=!1;if(Bn){var ih;if(Bn){var rh="oninput"in document;if(!rh){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),rh=typeof gp.oninput=="function"}ih=rh}else ih=!1;Nv=ih&&(!document.documentMode||9<document.documentMode)}function pp(){Ta&&(Ta.detachEvent("onpropertychange",Ov),Ha=Ta=null)}function Ov(e){if(e.propertyName==="value"&&Xu(Ha)){var t=[];Dv(t,Ha,e,Ed(e)),bv(ob,t)}}function lb(e,t,n){e==="focusin"?(pp(),Ta=t,Ha=n,Ta.attachEvent("onpropertychange",Ov)):e==="focusout"&&pp()}function ub(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(Ha)}function cb(e,t){if(e==="click")return Xu(t)}function hb(e,t){if(e==="input"||e==="change")return Xu(t)}function fb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ue=typeof Object.is=="function"?Object.is:fb;function Ga(e,t){if(Ue(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Kh.call(t,r)||!Ue(e[r],t[r]))return!1}return!0}function yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _p(e,t){var n=yp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=yp(n)}}function Vv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jl(e.document)}return t}function bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var db=Bn&&"documentMode"in document&&11>=document.documentMode,Fr=null,Wh=null,Aa=null,tf=!1;function vp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tf||Fr==null||Fr!==Jl(i)||(i=Fr,"selectionStart"in i&&bd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Aa&&Ga(Aa,i)||(Aa=i,i=pu(Wh,"onSelect"),0<i.length&&(t=new Ku("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Fr)))}function Xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qr={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},sh={},xv={};Bn&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function Er(e){if(sh[e])return sh[e];if(!Qr[e])return e;var t=Qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xv)return sh[e]=t[n];return e}var kv=Er("animationend"),Pv=Er("animationiteration"),Uv=Er("animationstart"),mb=Er("transitionrun"),gb=Er("transitionstart"),pb=Er("transitioncancel"),Lv=Er("transitionend"),zv=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function en(e,t){zv.set(e,t),_r(t,[e])}var Ep=new WeakMap;function He(e,t){if(typeof e=="object"&&e!==null){var n=Ep.get(e);return n!==void 0?n:(t={value:e,source:t,stack:rp(t)},Ep.set(e,t),t)}return{value:e,source:t,stack:rp(t)}}var Le=[],Kr=0,wd=0;function $u(){for(var e=Kr,t=wd=Kr=0;t<e;){var n=Le[t];Le[t++]=null;var i=Le[t];Le[t++]=null;var r=Le[t];Le[t++]=null;var s=Le[t];if(Le[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&Bv(n,r,s)}}function Zu(e,t,n,i){Le[Kr++]=e,Le[Kr++]=t,Le[Kr++]=n,Le[Kr++]=i,wd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Rd(e,t,n,i){return Zu(e,t,n,i),Wl(e)}function Ms(e,t){return Zu(e,null,null,t),Wl(e)}function Bv(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-xe(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Wl(e){if(50<Va)throw Va=0,Sf=null,Error(k(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yr={};function yb(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,i){return new yb(e,t,n,i)}function Id(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cl(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Id(e)&&(a=1);else if(typeof e=="string")a=vw(e,n,ln.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Hh:return e=Ve(31,n,t,r),e.elementType=Hh,e.lanes=s,e;case Br:return nr(n.children,r,s,t);case av:a=8,r|=24;break;case Bh:return e=Ve(12,n,t,r|2),e.elementType=Bh,e.lanes=s,e;case jh:return e=Ve(13,n,t,r),e.elementType=jh,e.lanes=s,e;case qh:return e=Ve(19,n,t,r),e.elementType=qh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oS:case Nn:a=10;break t;case ov:a=9;break t;case dd:a=11;break t;case md:a=14;break t;case ri:a=16,i=null;break t}a=29,n=Error(k(130,e===null?"null":typeof e,"")),i=null}return t=Ve(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function nr(e,t,n,i){return e=Ve(7,e,i,t),e.lanes=n,e}function ah(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function oh(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xr=[],$r=0,tu=null,eu=0,Be=[],je=0,ir=null,On=1,Vn="";function Zi(e,t){Xr[$r++]=eu,Xr[$r++]=tu,tu=e,eu=t}function qv(e,t,n){Be[je++]=On,Be[je++]=Vn,Be[je++]=ir,ir=e;var i=On;e=Vn;var r=32-xe(i)-1;i&=~(1<<r),n+=1;var s=32-xe(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,On=1<<32-xe(t)+r|n<<r|i,Vn=s+e}else On=1<<s|n<<r|i,Vn=e}function Cd(e){e.return!==null&&(Zi(e,1),qv(e,1,0))}function Dd(e){for(;e===tu;)tu=Xr[--$r],Xr[$r]=null,eu=Xr[--$r],Xr[$r]=null;for(;e===ir;)ir=Be[--je],Be[je]=null,Vn=Be[--je],Be[je]=null,On=Be[--je],Be[je]=null}var _e=null,Ot=null,lt=!1,rr=null,an=!1,nf=Error(k(519));function ur(e){var t=Error(k(418,""));throw Fa(He(t,e)),nf}function Tp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[fe]=e,t[Re]=i,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<Ya.length;n++)tt(Ya[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),Ev(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Zl(t);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),Av(t,i.value,i.defaultValue,i.children),Zl(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||ST(t.textContent,n)?(i.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),i.onScroll!=null&&tt("scroll",t),i.onScrollEnd!=null&&tt("scrollend",t),i.onClick!=null&&(t.onclick=sc),t=!0):t=!1,t||ur(e)}function Ap(e){for(_e=e.return;_e;)switch(_e.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:_e=_e.return}}function aa(e){if(e!==_e)return!1;if(!lt)return Ap(e),lt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Df(e.type,e.memoizedProps)),n=!n),n&&Ot&&ur(e),Ap(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ot=tn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ot=null}}else t===27?(t=Ot,Gi(e.type)?(e=Vf,Vf=null,Ot=e):Ot=t):Ot=_e?tn(e.stateNode.nextSibling):null;return!0}function _o(){Ot=_e=null,lt=!1}function Sp(){var e=rr;return e!==null&&(be===null?be=e:be.push.apply(be,e),rr=null),e}function Fa(e){rr===null?rr=[e]:rr.push(e)}var rf=En(null),Tr=null,Mn=null;function ai(e,t,n){Rt(rf,t._currentValue),t._currentValue=n}function Ln(e){e._currentValue=rf.current,Zt(rf)}function sf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function af(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),sf(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(k(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),sf(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function vo(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(k(387));if(a=a.memoizedProps,a!==null){var l=r.type;Ue(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===Kl.current){if(a=r.alternate,a===null)throw Error(k(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Za):e=[Za])}r=r.return}e!==null&&af(t,e,n,i),t.flags|=262144}function nu(e){for(e=e.firstContext;e!==null;){if(!Ue(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cr(e){Tr=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function de(e){return Hv(Tr,e)}function ul(e,t){return Tr===null&&cr(e),Hv(e,t)}function Hv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Mn===null){if(e===null)throw Error(k(308));Mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mn=Mn.next=t;return n}var _b=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},vb=Ft.unstable_scheduleCallback,Eb=Ft.unstable_NormalPriority,jt={$$typeof:Nn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nd(){return{controller:new _b,data:new Map,refCount:0}}function Eo(e){e.refCount--,e.refCount===0&&vb(Eb,function(){e.controller.abort()})}var Sa=null,of=0,gs=0,ns=null;function Tb(e,t){if(Sa===null){var n=Sa=[];of=0,gs=Wd(),ns={status:"pending",value:void 0,then:function(i){n.push(i)}}}return of++,t.then(bp,bp),t}function bp(){if(--of===0&&Sa!==null){ns!==null&&(ns.status="fulfilled");var e=Sa;Sa=null,gs=0,ns=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ab(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var wp=Y.S;Y.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Tb(e,t),wp!==null&&wp(e,t)};var sr=En(null);function Od(){var e=sr.current;return e!==null?e:vt.pooledCache}function Dl(e,t){t===null?Rt(sr,sr.current):Rt(sr,t.pool)}function Gv(){var e=Od();return e===null?null:{parent:jt._currentValue,pool:e}}var To=Error(k(460)),Fv=Error(k(474)),Ju=Error(k(542)),lf={then:function(){}};function Rp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cl(){}function Qv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(cl,cl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cp(e),e;default:if(typeof t.status=="string")t.then(cl,cl);else{if(e=vt,e!==null&&100<e.shellSuspendCounter)throw Error(k(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cp(e),e}throw ba=t,To}}var ba=null;function Ip(){if(ba===null)throw Error(k(459));var e=ba;return ba=null,e}function Cp(e){if(e===To||e===Ju)throw Error(k(483))}var si=!1;function Vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ft&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Wl(e),Bv(e,null,n),t}return Zu(e,i,t,n),Wl(e)}function wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,mv(e,n)}}function lh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cf=!1;function Ra(){if(cf){var e=ns;if(e!==null)throw e}}function Ia(e,t,n,i){cf=!1;var r=e.updateQueue;si=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(at&m)===m:(i&m)===m){m!==0&&m===gs&&(cf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var N=e,M=l;m=t;var O=n;switch(M.tag){case 1:if(N=M.payload,typeof N=="function"){p=N.call(O,p,m);break t}p=N;break t;case 3:N.flags=N.flags&-65537|128;case 0:if(N=M.payload,m=typeof N=="function"?N.call(O,p,m):N,m==null)break t;p=At({},p,m);break t;case 2:si=!0}}m=l.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=p):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=p),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),ki|=a,e.lanes=a,e.memoizedState=p}}function Kv(e,t){if(typeof e!="function")throw Error(k(191,e));e.call(t)}function Yv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Kv(n[e],t)}var ps=En(null),iu=En(0);function Dp(e,t){e=Hn,Rt(iu,e),Rt(ps,t),Hn=e|t.baseLanes}function hf(){Rt(iu,Hn),Rt(ps,ps.current)}function Md(){Hn=iu.current,Zt(ps),Zt(iu)}var Mi=0,W=null,mt=null,Lt=null,ru=!1,is=!1,hr=!1,su=0,Qa=0,rs=null,Sb=0;function Mt(){throw Error(k(321))}function xd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ue(e[n],t[n]))return!1;return!0}function kd(e,t,n,i,r,s){return Mi=s,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?wE:RE,hr=!1,s=n(i,r),hr=!1,is&&(s=$v(t,n,i,r)),Xv(e),s}function Xv(e){Y.H=au;var t=mt!==null&&mt.next!==null;if(Mi=0,Lt=mt=W=null,ru=!1,Qa=0,rs=null,t)throw Error(k(300));e===null||Xt||(e=e.dependencies,e!==null&&nu(e)&&(Xt=!0))}function $v(e,t,n,i){W=e;var r=0;do{if(is&&(rs=null),Qa=0,is=!1,25<=r)throw Error(k(301));if(r+=1,Lt=mt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=Nb,s=t(n,i)}while(is);return s}function bb(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?Ao(t):t,e=e.useState()[0],(mt!==null?mt.memoizedState:null)!==e&&(W.flags|=1024),t}function Pd(){var e=su!==0;return su=0,e}function Ud(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ld(e){if(ru){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ru=!1}Mi=0,Lt=mt=W=null,is=!1,Qa=su=0,rs=null}function Ae(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?W.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Bt(){if(mt===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=Lt===null?W.memoizedState:Lt.next;if(t!==null)Lt=t,mt=e;else{if(e===null)throw W.alternate===null?Error(k(467)):Error(k(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Lt===null?W.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(e){var t=Qa;return Qa+=1,rs===null&&(rs=[]),e=Qv(rs,e,t),t=W,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?wE:RE),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ao(e);if(e.$$typeof===Nn)return de(e)}throw Error(k(438,String(e)))}function Bd(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=zd(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=lS;return t.index++,n}function jn(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=Bt();return jd(t,mt,e)}function jd(e,t,n){var i=e.queue;if(i===null)throw Error(k(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(at&p)===p:(Mi&p)===p){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===gs&&(d=!0);else if((Mi&m)===m){h=h.next,m===gs&&(d=!0);continue}else p={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,W.lanes|=m,ki|=m;p=h.action,hr&&n(s,p),s=h.hasEagerState?h.eagerState:n(s,p)}else m={lane:p,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,W.lanes|=p,ki|=p;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Ue(s,e.memoizedState)&&(Xt=!0,d&&(n=ns,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function uh(e){var t=Bt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Ue(s,t.memoizedState)||(Xt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Zv(e,t,n){var i=W,r=Bt(),s=lt;if(s){if(n===void 0)throw Error(k(407));n=n()}else n=t();var a=!Ue((mt||r).memoizedState,n);a&&(r.memoizedState=n,Xt=!0),r=r.queue;var l=tE.bind(null,i,r,e);if(So(2048,8,l,[e]),r.getSnapshot!==t||a||Lt!==null&&Lt.memoizedState.tag&1){if(i.flags|=2048,ys(9,tc(),Wv.bind(null,i,r,n,t),null),vt===null)throw Error(k(349));s||Mi&124||Jv(i,t,n)}return n}function Jv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=zd(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wv(e,t,n,i){t.value=n,t.getSnapshot=i,eE(t)&&nE(e)}function tE(e,t,n){return n(function(){eE(t)&&nE(e)})}function eE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ue(e,n)}catch{return!0}}function nE(e){var t=Ms(e,2);t!==null&&Pe(t,e,2)}function ff(e){var t=Ae();if(typeof e=="function"){var n=e;if(e=n(),hr){mi(!0);try{n()}finally{mi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:e},t}function iE(e,t,n,i){return e.baseState=n,jd(e,mt,typeof i=="function"?i:jn)}function wb(e,t,n,i,r){if(ec(e))throw Error(k(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Y.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,rE(t,s)):(s.next=n.next,t.pending=n.next=s)}}function rE(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Y.T,a={};Y.T=a;try{var l=n(r,i),u=Y.S;u!==null&&u(a,l),Np(e,t,l)}catch(h){df(e,t,h)}finally{Y.T=s}}else try{s=n(r,i),Np(e,t,s)}catch(h){df(e,t,h)}}function Np(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Op(e,t,i)},function(i){return df(e,t,i)}):Op(e,t,n)}function Op(e,t,n){t.status="fulfilled",t.value=n,sE(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,rE(e,n)))}function df(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,sE(t),t=t.next;while(t!==i)}e.action=null}function sE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function aE(e,t){return t}function Vp(e,t){if(lt){var n=vt.formState;if(n!==null){t:{var i=W;if(lt){if(Ot){e:{for(var r=Ot,s=an;r.nodeType!==8;){if(!s){r=null;break e}if(r=tn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ot=tn(r.nextSibling),i=r.data==="F!";break t}}ur(i)}i=!1}i&&(t=n[0])}}return n=Ae(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aE,lastRenderedState:t},n.queue=i,n=AE.bind(null,W,i),i.dispatch=n,i=ff(!1),s=Fd.bind(null,W,!1,i.queue),i=Ae(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=wb.bind(null,W,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Mp(e){var t=Bt();return oE(t,mt,e)}function oE(e,t,n){if(t=jd(e,t,aE)[0],e=Nl(jn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ao(t)}catch(a){throw a===To?Ju:a}else i=t;t=Bt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(W.flags|=2048,ys(9,tc(),Rb.bind(null,r,n),null)),[i,s,e]}function Rb(e,t){e.action=t}function xp(e){var t=Bt(),n=mt;if(n!==null)return oE(t,n,e);Bt(),t=t.memoizedState,n=Bt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function ys(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=W.updateQueue,t===null&&(t=zd(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function tc(){return{destroy:void 0,resource:void 0}}function lE(){return Bt().memoizedState}function Ol(e,t,n,i){var r=Ae();i=i===void 0?null:i,W.flags|=e,r.memoizedState=ys(1|t,tc(),n,i)}function So(e,t,n,i){var r=Bt();i=i===void 0?null:i;var s=r.memoizedState.inst;mt!==null&&i!==null&&xd(i,mt.memoizedState.deps)?r.memoizedState=ys(t,s,n,i):(W.flags|=e,r.memoizedState=ys(1|t,s,n,i))}function kp(e,t){Ol(8390656,8,e,t)}function uE(e,t){So(2048,8,e,t)}function cE(e,t){return So(4,2,e,t)}function hE(e,t){return So(4,4,e,t)}function fE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dE(e,t,n){n=n!=null?n.concat([e]):null,So(4,4,fE.bind(null,t,e),n)}function qd(){}function mE(e,t){var n=Bt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&xd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function gE(e,t){var n=Bt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&xd(t,i[1]))return i[0];if(i=e(),hr){mi(!0);try{e()}finally{mi(!1)}}return n.memoizedState=[i,t],i}function Hd(e,t,n){return n===void 0||Mi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=sT(),W.lanes|=e,ki|=e,n)}function pE(e,t,n,i){return Ue(n,t)?n:ps.current!==null?(e=Hd(e,n,i),Ue(e,t)||(Xt=!0),e):Mi&42?(e=sT(),W.lanes|=e,ki|=e,t):(Xt=!0,e.memoizedState=n)}function yE(e,t,n,i,r){var s=ut.p;ut.p=s!==0&&8>s?s:8;var a=Y.T,l={};Y.T=l,Fd(e,!1,t,n);try{var u=r(),h=Y.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=Ab(u,i);Ca(e,t,d,ke(e))}else Ca(e,t,i,ke(e))}catch(p){Ca(e,t,{then:function(){},status:"rejected",reason:p},ke())}finally{ut.p=s,Y.T=a}}function Ib(){}function mf(e,t,n,i){if(e.tag!==5)throw Error(k(476));var r=_E(e).queue;yE(e,r,t,er,n===null?Ib:function(){return vE(e),n(i)})}function _E(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:er,baseState:er,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:er},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function vE(e){var t=_E(e).next.queue;Ca(e,t,{},ke())}function Gd(){return de(Za)}function EE(){return Bt().memoizedState}function TE(){return Bt().memoizedState}function Cb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ke();e=Ei(n);var i=Ti(t,e,n);i!==null&&(Pe(i,t,n),wa(i,t,n)),t={cache:Nd()},e.payload=t;return}t=t.return}}function Db(e,t,n){var i=ke();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ec(e)?SE(t,n):(n=Rd(e,t,n,i),n!==null&&(Pe(n,e,i),bE(n,t,i)))}function AE(e,t,n){var i=ke();Ca(e,t,n,i)}function Ca(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ec(e))SE(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ue(l,a))return Zu(e,t,r,0),vt===null&&$u(),!1}catch{}finally{}if(n=Rd(e,t,r,i),n!==null)return Pe(n,e,i),bE(n,t,i),!0}return!1}function Fd(e,t,n,i){if(i={lane:2,revertLane:Wd(),action:i,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(t)throw Error(k(479))}else t=Rd(e,n,i,2),t!==null&&Pe(t,e,2)}function ec(e){var t=e.alternate;return e===W||t!==null&&t===W}function SE(e,t){is=ru=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bE(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,mv(e,n)}}var au={readContext:de,use:Wu,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt},wE={readContext:de,use:Wu,useCallback:function(e,t){return Ae().memoizedState=[e,t===void 0?null:t],e},useContext:de,useEffect:kp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ol(4194308,4,fE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){Ol(4,2,e,t)},useMemo:function(e,t){var n=Ae();t=t===void 0?null:t;var i=e();if(hr){mi(!0);try{e()}finally{mi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ae();if(n!==void 0){var r=n(t);if(hr){mi(!0);try{n(t)}finally{mi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Db.bind(null,W,e),[i.memoizedState,e]},useRef:function(e){var t=Ae();return e={current:e},t.memoizedState=e},useState:function(e){e=ff(e);var t=e.queue,n=AE.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qd,useDeferredValue:function(e,t){var n=Ae();return Hd(n,e,t)},useTransition:function(){var e=ff(!1);return e=yE.bind(null,W,e.queue,!0,!1),Ae().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=W,r=Ae();if(lt){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),vt===null)throw Error(k(349));at&124||Jv(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,kp(tE.bind(null,i,s,e),[e]),i.flags|=2048,ys(9,tc(),Wv.bind(null,i,s,n,t),null),n},useId:function(){var e=Ae(),t=vt.identifierPrefix;if(lt){var n=Vn,i=On;n=(i&~(1<<32-xe(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=su++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Sb++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Gd,useFormState:Vp,useActionState:Vp,useOptimistic:function(e){var t=Ae();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fd.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bd,useCacheRefresh:function(){return Ae().memoizedState=Cb.bind(null,W)}},RE={readContext:de,use:Wu,useCallback:mE,useContext:de,useEffect:uE,useImperativeHandle:dE,useInsertionEffect:cE,useLayoutEffect:hE,useMemo:gE,useReducer:Nl,useRef:lE,useState:function(){return Nl(jn)},useDebugValue:qd,useDeferredValue:function(e,t){var n=Bt();return pE(n,mt.memoizedState,e,t)},useTransition:function(){var e=Nl(jn)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Ao(e),t]},useSyncExternalStore:Zv,useId:EE,useHostTransitionStatus:Gd,useFormState:Mp,useActionState:Mp,useOptimistic:function(e,t){var n=Bt();return iE(n,mt,e,t)},useMemoCache:Bd,useCacheRefresh:TE},Nb={readContext:de,use:Wu,useCallback:mE,useContext:de,useEffect:uE,useImperativeHandle:dE,useInsertionEffect:cE,useLayoutEffect:hE,useMemo:gE,useReducer:uh,useRef:lE,useState:function(){return uh(jn)},useDebugValue:qd,useDeferredValue:function(e,t){var n=Bt();return mt===null?Hd(n,e,t):pE(n,mt.memoizedState,e,t)},useTransition:function(){var e=uh(jn)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Ao(e),t]},useSyncExternalStore:Zv,useId:EE,useHostTransitionStatus:Gd,useFormState:xp,useActionState:xp,useOptimistic:function(e,t){var n=Bt();return mt!==null?iE(n,mt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Bd,useCacheRefresh:TE},ss=null,Ka=0;function hl(e){var t=Ka;return Ka+=1,ss===null&&(ss=[]),Qv(ss,e,t)}function oa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fl(e,t){throw t.$$typeof===aS?Error(k(525)):(e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pp(e){var t=e._init;return t(e._payload)}function IE(e){function t(S,v){if(e){var w=S.deletions;w===null?(S.deletions=[v],S.flags|=16):w.push(v)}}function n(S,v){if(!e)return null;for(;v!==null;)t(S,v),v=v.sibling;return null}function i(S){for(var v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function r(S,v){return S=Un(S,v),S.index=0,S.sibling=null,S}function s(S,v,w){return S.index=w,e?(w=S.alternate,w!==null?(w=w.index,w<v?(S.flags|=67108866,v):w):(S.flags|=67108866,v)):(S.flags|=1048576,v)}function a(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function l(S,v,w,D){return v===null||v.tag!==6?(v=ah(w,S.mode,D),v.return=S,v):(v=r(v,w),v.return=S,v)}function u(S,v,w,D){var L=w.type;return L===Br?d(S,v,w.props.children,D,w.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ri&&Pp(L)===v.type)?(v=r(v,w.props),oa(v,w),v.return=S,v):(v=Cl(w.type,w.key,w.props,null,S.mode,D),oa(v,w),v.return=S,v)}function h(S,v,w,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=oh(w,S.mode,D),v.return=S,v):(v=r(v,w.children||[]),v.return=S,v)}function d(S,v,w,D,L){return v===null||v.tag!==7?(v=nr(w,S.mode,D,L),v.return=S,v):(v=r(v,w),v.return=S,v)}function p(S,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=ah(""+v,S.mode,w),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rl:return w=Cl(v.type,v.key,v.props,null,S.mode,w),oa(w,v),w.return=S,w;case ha:return v=oh(v,S.mode,w),v.return=S,v;case ri:var D=v._init;return v=D(v._payload),p(S,v,w)}if(fa(v)||ia(v))return v=nr(v,S.mode,w,null),v.return=S,v;if(typeof v.then=="function")return p(S,hl(v),w);if(v.$$typeof===Nn)return p(S,ul(S,v),w);fl(S,v)}return null}function m(S,v,w,D){var L=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return L!==null?null:l(S,v,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rl:return w.key===L?u(S,v,w,D):null;case ha:return w.key===L?h(S,v,w,D):null;case ri:return L=w._init,w=L(w._payload),m(S,v,w,D)}if(fa(w)||ia(w))return L!==null?null:d(S,v,w,D,null);if(typeof w.then=="function")return m(S,v,hl(w),D);if(w.$$typeof===Nn)return m(S,v,ul(S,w),D);fl(S,w)}return null}function _(S,v,w,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return S=S.get(w)||null,l(v,S,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case rl:return S=S.get(D.key===null?w:D.key)||null,u(v,S,D,L);case ha:return S=S.get(D.key===null?w:D.key)||null,h(v,S,D,L);case ri:var q=D._init;return D=q(D._payload),_(S,v,w,D,L)}if(fa(D)||ia(D))return S=S.get(w)||null,d(v,S,D,L,null);if(typeof D.then=="function")return _(S,v,w,hl(D),L);if(D.$$typeof===Nn)return _(S,v,w,ul(v,D),L);fl(v,D)}return null}function N(S,v,w,D){for(var L=null,q=null,E=v,y=v=0,T=null;E!==null&&y<w.length;y++){E.index>y?(T=E,E=null):T=E.sibling;var b=m(S,E,w[y],D);if(b===null){E===null&&(E=T);break}e&&E&&b.alternate===null&&t(S,E),v=s(b,v,y),q===null?L=b:q.sibling=b,q=b,E=T}if(y===w.length)return n(S,E),lt&&Zi(S,y),L;if(E===null){for(;y<w.length;y++)E=p(S,w[y],D),E!==null&&(v=s(E,v,y),q===null?L=E:q.sibling=E,q=E);return lt&&Zi(S,y),L}for(E=i(E);y<w.length;y++)T=_(E,S,y,w[y],D),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?y:T.key),v=s(T,v,y),q===null?L=T:q.sibling=T,q=T);return e&&E.forEach(function(R){return t(S,R)}),lt&&Zi(S,y),L}function M(S,v,w,D){if(w==null)throw Error(k(151));for(var L=null,q=null,E=v,y=v=0,T=null,b=w.next();E!==null&&!b.done;y++,b=w.next()){E.index>y?(T=E,E=null):T=E.sibling;var R=m(S,E,b.value,D);if(R===null){E===null&&(E=T);break}e&&E&&R.alternate===null&&t(S,E),v=s(R,v,y),q===null?L=R:q.sibling=R,q=R,E=T}if(b.done)return n(S,E),lt&&Zi(S,y),L;if(E===null){for(;!b.done;y++,b=w.next())b=p(S,b.value,D),b!==null&&(v=s(b,v,y),q===null?L=b:q.sibling=b,q=b);return lt&&Zi(S,y),L}for(E=i(E);!b.done;y++,b=w.next())b=_(E,S,y,b.value,D),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?y:b.key),v=s(b,v,y),q===null?L=b:q.sibling=b,q=b);return e&&E.forEach(function(I){return t(S,I)}),lt&&Zi(S,y),L}function O(S,v,w,D){if(typeof w=="object"&&w!==null&&w.type===Br&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rl:t:{for(var L=w.key;v!==null;){if(v.key===L){if(L=w.type,L===Br){if(v.tag===7){n(S,v.sibling),D=r(v,w.props.children),D.return=S,S=D;break t}}else if(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ri&&Pp(L)===v.type){n(S,v.sibling),D=r(v,w.props),oa(D,w),D.return=S,S=D;break t}n(S,v);break}else t(S,v);v=v.sibling}w.type===Br?(D=nr(w.props.children,S.mode,D,w.key),D.return=S,S=D):(D=Cl(w.type,w.key,w.props,null,S.mode,D),oa(D,w),D.return=S,S=D)}return a(S);case ha:t:{for(L=w.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(S,v.sibling),D=r(v,w.children||[]),D.return=S,S=D;break t}else{n(S,v);break}else t(S,v);v=v.sibling}D=oh(w,S.mode,D),D.return=S,S=D}return a(S);case ri:return L=w._init,w=L(w._payload),O(S,v,w,D)}if(fa(w))return N(S,v,w,D);if(ia(w)){if(L=ia(w),typeof L!="function")throw Error(k(150));return w=L.call(w),M(S,v,w,D)}if(typeof w.then=="function")return O(S,v,hl(w),D);if(w.$$typeof===Nn)return O(S,v,ul(S,w),D);fl(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(S,v.sibling),D=r(v,w),D.return=S,S=D):(n(S,v),D=ah(w,S.mode,D),D.return=S,S=D),a(S)):n(S,v)}return function(S,v,w,D){try{Ka=0;var L=O(S,v,w,D);return ss=null,L}catch(E){if(E===To||E===Ju)throw E;var q=Ve(29,E,null,S.mode);return q.lanes=D,q.return=S,q}finally{}}}var _s=IE(!0),CE=IE(!1),Ke=En(null),cn=null;function oi(e){var t=e.alternate;Rt(qt,qt.current&1),Rt(Ke,e),cn===null&&(t===null||ps.current!==null||t.memoizedState!==null)&&(cn=e)}function DE(e){if(e.tag===22){if(Rt(qt,qt.current),Rt(Ke,e),cn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(cn=e)}}else li()}function li(){Rt(qt,qt.current),Rt(Ke,Ke.current)}function xn(e){Zt(Ke),cn===e&&(cn=null),Zt(qt)}var qt=En(0);function ou(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Of(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ch(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:At({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ke(),r=Ei(i);r.payload=t,n!=null&&(r.callback=n),t=Ti(e,r,i),t!==null&&(Pe(t,e,i),wa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ke(),r=Ei(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ti(e,r,i),t!==null&&(Pe(t,e,i),wa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),i=Ei(n);i.tag=2,t!=null&&(i.callback=t),t=Ti(e,i,n),t!==null&&(Pe(t,e,n),wa(t,e,n))}};function Up(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ga(n,i)||!Ga(r,s):!0}function Lp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function fr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=At({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function NE(e){lu(e)}function OE(e){console.error(e)}function VE(e){lu(e)}function uu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function zp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function pf(e,t,n){return n=Ei(n),n.tag=3,n.payload={element:null},n.callback=function(){uu(e,t)},n}function ME(e){return e=Ei(e),e.tag=3,e}function xE(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){zp(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){zp(t,n,i),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Ob(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&vo(t,n,r,!0),n=Ke.current,n!==null){switch(n.tag){case 13:return cn===null?bf():n.alternate===null&&Vt===0&&(Vt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===lf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Th(e,i,r)),!1;case 22:return n.flags|=65536,i===lf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Th(e,i,r)),!1}throw Error(k(435,n.tag))}return Th(e,i,r),bf(),!1}if(lt)return t=Ke.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==nf&&(e=Error(k(422),{cause:i}),Fa(He(e,n)))):(i!==nf&&(t=Error(k(423),{cause:i}),Fa(He(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=He(i,n),r=pf(e.stateNode,i,r),lh(e,r),Vt!==4&&(Vt=2)),!1;var s=Error(k(520),{cause:i});if(s=He(s,n),Oa===null?Oa=[s]:Oa.push(s),Vt!==4&&(Vt=2),t===null)return!0;i=He(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=pf(n.stateNode,i,e),lh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ai===null||!Ai.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=ME(r),xE(r,e,n,i),lh(n,r),!1}n=n.return}while(n!==null);return!1}var kE=Error(k(461)),Xt=!1;function te(e,t,n,i){t.child=e===null?CE(t,null,n,i):_s(t,e.child,n,i)}function Bp(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return cr(t),i=kd(e,t,n,a,s,r),l=Pd(),e!==null&&!Xt?(Ud(e,t,r),qn(e,t,r)):(lt&&l&&Cd(t),t.flags|=1,te(e,t,i,r),t.child)}function jp(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Id(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,PE(e,t,s,i,r)):(e=Cl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Qd(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(a,i)&&e.ref===t.ref)return qn(e,t,r)}return t.flags|=1,e=Un(s,i),e.ref=t.ref,e.return=t,t.child=e}function PE(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ga(s,i)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=i=s,Qd(e,r))e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,qn(e,t,r)}return yf(e,t,n,i,r)}function UE(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return qp(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(t,s!==null?s.cachePool:null),s!==null?Dp(t,s):hf(),DE(t);else return t.lanes=t.childLanes=536870912,qp(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Dl(t,s.cachePool),Dp(t,s),li(),t.memoizedState=null):(e!==null&&Dl(t,null),hf(),li());return te(e,t,r,n),t.child}function qp(e,t,n,i){var r=Od();return r=r===null?null:{parent:jt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Dl(t,null),hf(),DE(t),e!==null&&vo(e,t,i,!0),null}function Vl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(k(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function yf(e,t,n,i,r){return cr(t),n=kd(e,t,n,i,void 0,r),i=Pd(),e!==null&&!Xt?(Ud(e,t,r),qn(e,t,r)):(lt&&i&&Cd(t),t.flags|=1,te(e,t,n,r),t.child)}function Hp(e,t,n,i,r,s){return cr(t),t.updateQueue=null,n=$v(t,i,n,r),Xv(e),i=Pd(),e!==null&&!Xt?(Ud(e,t,s),qn(e,t,s)):(lt&&i&&Cd(t),t.flags|=1,te(e,t,n,s),t.child)}function Gp(e,t,n,i,r){if(cr(t),t.stateNode===null){var s=Yr,a=n.contextType;typeof a=="object"&&a!==null&&(s=de(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=gf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Vd(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?de(a):Yr,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(ch(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&gf.enqueueReplaceState(s,s.state,null),Ia(t,i,s,r),Ra(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=fr(n,l);s.props=u;var h=s.context,d=n.contextType;a=Yr,typeof d=="object"&&d!==null&&(a=de(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&Lp(t,s,i,a),si=!1;var m=t.memoizedState;s.state=m,Ia(t,i,s,r),Ra(),h=t.memoizedState,l||m!==h||si?(typeof p=="function"&&(ch(t,n,p,i),h=t.memoizedState),(u=si||Up(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,uf(e,t),a=t.memoizedProps,d=fr(n,a),s.props=d,p=t.pendingProps,m=s.context,h=n.contextType,u=Yr,typeof h=="object"&&h!==null&&(u=de(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==u)&&Lp(t,s,i,u),si=!1,m=t.memoizedState,s.state=m,Ia(t,i,s,r),Ra();var _=t.memoizedState;a!==p||m!==_||si||e!==null&&e.dependencies!==null&&nu(e.dependencies)?(typeof l=="function"&&(ch(t,n,l,i),_=t.memoizedState),(d=si||Up(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&nu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Vl(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=_s(t,e.child,null,r),t.child=_s(t,null,n,r)):te(e,t,n,r),t.memoizedState=s.state,e=t.child):e=qn(e,t,r),e}function Fp(e,t,n,i){return _o(),t.flags|=256,te(e,t,n,i),t.child}var hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(e){return{baseLanes:e,cachePool:Gv()}}function dh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Qe),e}function LE(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(qt.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(lt){if(r?oi(t):li(),lt){var l=Ot,u;if(u=l){t:{for(u=l,l=an;u.nodeType!==8;){if(!l){l=null;break t}if(u=tn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:ir!==null?{id:On,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},u=Ve(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,_e=t,Ot=null,u=!0):u=!1}u||ur(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Of(l)?t.lanes=32:t.lanes=536870912,null;xn(t)}return l=i.children,i=i.fallback,r?(li(),r=t.mode,l=cu({mode:"hidden",children:l},r),i=nr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=fh(n),r.childLanes=dh(e,a,n),t.memoizedState=hh,i):(oi(t),_f(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(oi(t),t.flags&=-257,t=mh(e,t,n)):t.memoizedState!==null?(li(),t.child=e.child,t.flags|=128,t=null):(li(),r=i.fallback,l=t.mode,i=cu({mode:"visible",children:i.children},l),r=nr(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,_s(t,e.child,null,n),i=t.child,i.memoizedState=fh(n),i.childLanes=dh(e,a,n),t.memoizedState=hh,t=r);else if(oi(t),Of(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(k(419)),i.stack="",i.digest=a,Fa({value:i,source:null,stack:null}),t=mh(e,t,n)}else if(Xt||vo(e,t,n,!1),a=(n&e.childLanes)!==0,Xt||a){if(a=vt,a!==null&&(i=n&-n,i=i&42?1:pd(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Ms(e,i),Pe(a,e,i),kE;l.data==="$?"||bf(),t=mh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ot=tn(l.nextSibling),_e=t,lt=!0,rr=null,an=!1,e!==null&&(Be[je++]=On,Be[je++]=Vn,Be[je++]=ir,On=e.id,Vn=e.overflow,ir=t),t=_f(t,i.children),t.flags|=4096);return t}return r?(li(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=Un(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=Un(h,r):(r=nr(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=fh(n):(u=l.cachePool,u!==null?(h=jt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=Gv(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=dh(e,a,n),t.memoizedState=hh,i):(oi(t),n=e.child,e=n.sibling,n=Un(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function _f(e,t){return t=cu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cu(e,t){return e=Ve(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function mh(e,t,n){return _s(t,e.child,null,n),e=_f(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),sf(e.return,t,n)}function gh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function zE(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(te(e,t,i.children,n),i=qt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,n,t);else if(e.tag===19)Qp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Rt(qt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ou(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),gh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ou(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}gh(t,!0,n,null,s);break;case"together":gh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(n&t.childLanes))if(e!==null){if(vo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&nu(e)))}function Vb(e,t,n){switch(t.tag){case 3:Yl(t,t.stateNode.containerInfo),ai(t,jt,e.memoizedState.cache),_o();break;case 27:case 5:Qh(t);break;case 4:Yl(t,t.stateNode.containerInfo);break;case 10:ai(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(oi(t),t.flags|=128,null):n&t.child.childLanes?LE(e,t,n):(oi(t),e=qn(e,t,n),e!==null?e.sibling:null);oi(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(vo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return zE(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Rt(qt,qt.current),i)break;return null;case 22:case 23:return t.lanes=0,UE(e,t,n);case 24:ai(t,jt,e.memoizedState.cache)}return qn(e,t,n)}function BE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xt=!0;else{if(!Qd(e,n)&&!(t.flags&128))return Xt=!1,Vb(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,lt&&t.flags&1048576&&qv(t,eu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Id(i)?(e=fr(i,e),t.tag=1,t=Gp(null,t,i,e,n)):(t.tag=0,t=yf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===dd){t.tag=11,t=Bp(null,t,i,e,n);break t}else if(r===md){t.tag=14,t=jp(null,t,i,e,n);break t}}throw t=Gh(i)||i,Error(k(306,t,""))}}return t;case 0:return yf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=fr(i,t.pendingProps),Gp(e,t,i,r,n);case 3:t:{if(Yl(t,t.stateNode.containerInfo),e===null)throw Error(k(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,uf(e,t),Ia(t,i,null,n);var a=t.memoizedState;if(i=a.cache,ai(t,jt,i),i!==s.cache&&af(t,[jt],n,!0),Ra(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Fp(e,t,i,n);break t}else if(i!==r){r=He(Error(k(424)),t),Fa(r),t=Fp(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ot=tn(e.firstChild),_e=t,lt=!0,rr=null,an=!0,n=CE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(_o(),i===r){t=qn(e,t,n);break t}te(e,t,i,n)}t=t.child}return t;case 26:return Vl(e,t),e===null?(n=uy(t.type,null,t.pendingProps,null))?t.memoizedState=n:lt||(n=t.type,e=t.pendingProps,i=yu(vi.current).createElement(n),i[fe]=t,i[Re]=e,re(i,n,e),Yt(i),t.stateNode=i):t.memoizedState=uy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qh(t),e===null&&lt&&(i=t.stateNode=RT(t.type,t.pendingProps,vi.current),_e=t,an=!0,r=Ot,Gi(t.type)?(Vf=r,Ot=tn(i.firstChild)):Ot=r),te(e,t,t.pendingProps.children,n),Vl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&lt&&((r=i=Ot)&&(i=aw(i,t.type,t.pendingProps,an),i!==null?(t.stateNode=i,_e=t,Ot=tn(i.firstChild),an=!1,r=!0):r=!1),r||ur(t)),Qh(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Df(r,s)?i=null:a!==null&&Df(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=kd(e,t,bb,null,null,n),Za._currentValue=r),Vl(e,t),te(e,t,i,n),t.child;case 6:return e===null&&lt&&((e=n=Ot)&&(n=ow(n,t.pendingProps,an),n!==null?(t.stateNode=n,_e=t,Ot=null,e=!0):e=!1),e||ur(t)),null;case 13:return LE(e,t,n);case 4:return Yl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=_s(t,null,i,n):te(e,t,i,n),t.child;case 11:return Bp(e,t,t.type,t.pendingProps,n);case 7:return te(e,t,t.pendingProps,n),t.child;case 8:return te(e,t,t.pendingProps.children,n),t.child;case 12:return te(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ai(t,t.type,i.value),te(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,cr(t),r=de(r),i=i(r),t.flags|=1,te(e,t,i,n),t.child;case 14:return jp(e,t,t.type,t.pendingProps,n);case 15:return PE(e,t,t.type,t.pendingProps,n);case 19:return zE(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=cu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Un(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return UE(e,t,n);case 24:return cr(t),i=de(jt),e===null?(r=Od(),r===null&&(r=vt,s=Nd(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Vd(t),ai(t,jt,r)):(e.lanes&n&&(uf(e,t),Ia(t,null,null,n),Ra()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ai(t,jt,i)):(i=s.cache,ai(t,jt,i),i!==r.cache&&af(t,[jt],n,!0))),te(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function In(e){e.flags|=4}function Kp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!DT(t)){if(t=Ke.current,t!==null&&((at&4194048)===at?cn!==null:(at&62914560)!==at&&!(at&536870912)||t!==cn))throw ba=lf,Fv;e.flags|=8192}}function dl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fv():536870912,e.lanes|=t,vs|=t)}function la(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Mb(e,t,n){var i=t.pendingProps;switch(Dd(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return It(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(jt),fs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(aa(t)?In(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sp())),It(t),null;case 26:return n=t.memoizedState,e===null?(In(t),n!==null?(It(t),Kp(t,n)):(It(t),t.flags&=-16777217)):n?n!==e.memoizedState?(In(t),It(t),Kp(t,n)):(It(t),t.flags&=-16777217):(e.memoizedProps!==i&&In(t),It(t),t.flags&=-16777217),null;case 27:Xl(t),n=vi.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return It(t),null}e=ln.current,aa(t)?Tp(t):(e=RT(r,i,n),t.stateNode=e,In(t))}return It(t),null;case 5:if(Xl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return It(t),null}if(e=ln.current,aa(t))Tp(t);else{switch(r=yu(vi.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[fe]=t,e[Re]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(re(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&In(t)}}return It(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(k(166));if(e=vi.current,aa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=_e,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[fe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||ST(e.nodeValue,n)),e||ur(t)}else e=yu(e).createTextNode(i),e[fe]=t,t.stateNode=e}return It(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=aa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(k(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(k(317));r[fe]=t}else _o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),r=!1}else r=Sp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(xn(t),t):(xn(t),null)}if(xn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),It(t),null;case 4:return fs(),e===null&&tm(t.stateNode.containerInfo),It(t),null;case 10:return Ln(t.type),It(t),null;case 19:if(Zt(qt),r=t.memoizedState,r===null)return It(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)la(r,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ou(e),s!==null){for(t.flags|=128,la(r,!1),e=s.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jv(n,e),n=n.sibling;return Rt(qt,qt.current&1|2),t.child}e=e.sibling}r.tail!==null&&un()>fu&&(t.flags|=128,i=!0,la(r,!1),t.lanes=4194304)}else{if(!i)if(e=ou(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),la(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!lt)return It(t),null}else 2*un()-r.renderingStartTime>fu&&n!==536870912&&(t.flags|=128,i=!0,la(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=un(),t.sibling=null,e=qt.current,Rt(qt,i?e&1|2:e&1),t):(It(t),null);case 22:case 23:return xn(t),Md(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),n=t.updateQueue,n!==null&&dl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Zt(sr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ln(jt),It(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function xb(e,t){switch(Dd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(jt),fs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xl(t),null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));_o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(qt),null;case 4:return fs(),null;case 10:return Ln(t.type),null;case 22:case 23:return xn(t),Md(),e!==null&&Zt(sr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(jt),null;case 25:return null;default:return null}}function jE(e,t){switch(Dd(t),t.tag){case 3:Ln(jt),fs();break;case 26:case 27:case 5:Xl(t);break;case 4:fs();break;case 13:xn(t);break;case 19:Zt(qt);break;case 10:Ln(t.type);break;case 22:case 23:xn(t),Md(),e!==null&&Zt(sr);break;case 24:Ln(jt)}}function bo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){yt(t,t.return,l)}}function xi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){yt(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){yt(t,t.return,d)}}function qE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Yv(t,n)}catch(i){yt(e,e.return,i)}}}function HE(e,t,n){n.props=fr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){yt(e,t,i)}}function Da(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){yt(e,t,r)}}function on(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){yt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function GE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){yt(e,e.return,r)}}function ph(e,t,n){try{var i=e.stateNode;ew(i,e.type,n,t),i[Re]=t}catch(r){yt(e,e.return,r)}}function FE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gi(e.type)||e.tag===4}function yh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||FE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sc));else if(i!==4&&(i===27&&Gi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vf(e,t,n),e=e.sibling;e!==null;)vf(e,t,n),e=e.sibling}function hu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Gi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(hu(e,t,n),e=e.sibling;e!==null;)hu(e,t,n),e=e.sibling}function QE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);re(t,i,n),t[fe]=e,t[Re]=n}catch(s){yt(e,e.return,s)}}var Dn=!1,xt=!1,_h=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function kb(e,t){if(e=e.containerInfo,If=Tu,e=Mv(e),bd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,p=e,m=null;e:for(;;){for(var _;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cf={focusedElem:e,selectionRange:n},Tu=!1,Kt=t;Kt!==null;)if(t=Kt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Kt=e;else for(;Kt!==null;){switch(t=Kt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var N=fr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(N,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){yt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Nf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(k(163))}if(e=t.sibling,e!==null){e.return=t.return,Kt=e;break}Kt=t.return}}function KE(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n),i&4&&bo(5,n);break;case 1:if(ei(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){yt(n,n.return,a)}else{var r=fr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){yt(n,n.return,a)}}i&64&&qE(n),i&512&&Da(n,n.return);break;case 3:if(ei(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Yv(e,t)}catch(a){yt(n,n.return,a)}}break;case 27:t===null&&i&4&&QE(n);case 26:case 5:ei(e,n),t===null&&i&4&&GE(n),i&512&&Da(n,n.return);break;case 12:ei(e,n);break;case 13:ei(e,n),i&4&&$E(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Gb.bind(null,n),lw(e,n))));break;case 22:if(i=n.memoizedState!==null||Dn,!i){t=t!==null&&t.memoizedState!==null||xt,r=Dn;var s=xt;Dn=i,(xt=t)&&!s?ii(e,n,(n.subtreeFlags&8772)!==0):ei(e,n),Dn=r,xt=s}break;case 30:break;default:ei(e,n)}}function YE(e){var t=e.alternate;t!==null&&(e.alternate=null,YE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_d(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,Se=!1;function Cn(e,t,n){for(n=n.child;n!==null;)XE(e,t,n),n=n.sibling}function XE(e,t,n){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(fo,n)}catch{}switch(n.tag){case 26:xt||on(n,t),Cn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:xt||on(n,t);var i=bt,r=Se;Gi(n.type)&&(bt=n.stateNode,Se=!1),Cn(e,t,n),Ma(n.stateNode),bt=i,Se=r;break;case 5:xt||on(n,t);case 6:if(i=bt,r=Se,bt=null,Cn(e,t,n),bt=i,Se=r,bt!==null)if(Se)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(n.stateNode)}catch(s){yt(n,t,s)}else try{bt.removeChild(n.stateNode)}catch(s){yt(n,t,s)}break;case 18:bt!==null&&(Se?(e=bt,ay(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),to(e)):ay(bt,n.stateNode));break;case 4:i=bt,r=Se,bt=n.stateNode.containerInfo,Se=!0,Cn(e,t,n),bt=i,Se=r;break;case 0:case 11:case 14:case 15:xt||xi(2,n,t),xt||xi(4,n,t),Cn(e,t,n);break;case 1:xt||(on(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&HE(n,t,i)),Cn(e,t,n);break;case 21:Cn(e,t,n);break;case 22:xt=(i=xt)||n.memoizedState!==null,Cn(e,t,n),xt=i;break;default:Cn(e,t,n)}}function $E(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{to(e)}catch(n){yt(t,t.return,n)}}function Pb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yp),t;default:throw Error(k(435,e.tag))}}function vh(e,t){var n=Pb(e);t.forEach(function(i){var r=Fb.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function De(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(Gi(l.type)){bt=l.stateNode,Se=!1;break t}break;case 5:bt=l.stateNode,Se=!1;break t;case 3:case 4:bt=l.stateNode.containerInfo,Se=!0;break t}l=l.return}if(bt===null)throw Error(k(160));XE(s,a,r),bt=null,Se=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)ZE(t,e),t=t.sibling}var $e=null;function ZE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:De(t,e),Ne(e),i&4&&(xi(3,e,e.return),bo(3,e),xi(5,e,e.return));break;case 1:De(t,e),Ne(e),i&512&&(xt||n===null||on(n,n.return)),i&64&&Dn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=$e;if(De(t,e),Ne(e),i&512&&(xt||n===null||on(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[po]||s[fe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),re(s,i,n),s[fe]=e,Yt(s),i=s;break t;case"link":var a=hy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),re(s,i,n),r.head.appendChild(s);break;case"meta":if(a=hy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),re(s,i,n),r.head.appendChild(s);break;default:throw Error(k(468,i))}s[fe]=e,Yt(s),i=s}e.stateNode=i}else fy(r,e.type,e.stateNode);else e.stateNode=cy(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?fy(r,e.type,e.stateNode):cy(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ph(e,e.memoizedProps,n.memoizedProps)}break;case 27:De(t,e),Ne(e),i&512&&(xt||n===null||on(n,n.return)),n!==null&&i&4&&ph(e,e.memoizedProps,n.memoizedProps);break;case 5:if(De(t,e),Ne(e),i&512&&(xt||n===null||on(n,n.return)),e.flags&32){r=e.stateNode;try{ms(r,"")}catch(_){yt(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,ph(e,r,n!==null?n.memoizedProps:r)),i&1024&&(_h=!0);break;case 6:if(De(t,e),Ne(e),i&4){if(e.stateNode===null)throw Error(k(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){yt(e,e.return,_)}}break;case 3:if(kl=null,r=$e,$e=_u(t.containerInfo),De(t,e),$e=r,Ne(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{to(t.containerInfo)}catch(_){yt(e,e.return,_)}_h&&(_h=!1,JE(e));break;case 4:i=$e,$e=_u(e.stateNode.containerInfo),De(t,e),Ne(e),$e=i;break;case 12:De(t,e),Ne(e);break;case 13:De(t,e),Ne(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zd=un()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Dn,d=xt;if(Dn=h||r,xt=d||u,De(t,e),xt=d,Dn=h,Ne(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Dn||xt||Ji(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){yt(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){yt(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,vh(e,n))));break;case 19:De(t,e),Ne(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vh(e,i)));break;case 30:break;case 21:break;default:De(t,e),Ne(e)}}function Ne(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(FE(i)){n=i;break}i=i.return}if(n==null)throw Error(k(160));switch(n.tag){case 27:var r=n.stateNode,s=yh(e);hu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(ms(a,""),n.flags&=-33);var l=yh(e);hu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=yh(e);vf(e,h,u);break;default:throw Error(k(161))}}catch(d){yt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;JE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ei(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)KE(e,t.alternate,t),t=t.sibling}function Ji(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xi(4,t,t.return),Ji(t);break;case 1:on(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&HE(t,t.return,n),Ji(t);break;case 27:Ma(t.stateNode);case 26:case 5:on(t,t.return),Ji(t);break;case 22:t.memoizedState===null&&Ji(t);break;case 30:Ji(t);break;default:Ji(t)}e=e.sibling}}function ii(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:ii(r,s,n),bo(4,s);break;case 1:if(ii(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){yt(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)Kv(u[r],l)}catch(h){yt(i,i.return,h)}}n&&a&64&&qE(s),Da(s,s.return);break;case 27:QE(s);case 26:case 5:ii(r,s,n),n&&i===null&&a&4&&GE(s),Da(s,s.return);break;case 12:ii(r,s,n);break;case 13:ii(r,s,n),n&&a&4&&$E(r,s);break;case 22:s.memoizedState===null&&ii(r,s,n),Da(s,s.return);break;case 30:break;default:ii(r,s,n)}t=t.sibling}}function Kd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Eo(n))}function Yd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Eo(e))}function rn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)WE(e,t,n,i),t=t.sibling}function WE(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:rn(e,t,n,i),r&2048&&bo(9,t);break;case 1:rn(e,t,n,i);break;case 3:rn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Eo(e)));break;case 12:if(r&2048){rn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){yt(t,t.return,u)}}else rn(e,t,n,i);break;case 13:rn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?rn(e,t,n,i):Na(e,t):s._visibility&2?rn(e,t,n,i):(s._visibility|=2,xr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&Kd(a,t);break;case 24:rn(e,t,n,i),r&2048&&Yd(t.alternate,t);break;default:rn(e,t,n,i)}}function xr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:xr(s,a,l,u,r),bo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?xr(s,a,l,u,r):Na(s,a):(d._visibility|=2,xr(s,a,l,u,r)),r&&h&2048&&Kd(a.alternate,a);break;case 24:xr(s,a,l,u,r),r&&h&2048&&Yd(a.alternate,a);break;default:xr(s,a,l,u,r)}t=t.sibling}}function Na(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Na(n,i),r&2048&&Kd(i.alternate,i);break;case 24:Na(n,i),r&2048&&Yd(i.alternate,i);break;default:Na(n,i)}t=t.sibling}}var ma=8192;function Nr(e){if(e.subtreeFlags&ma)for(e=e.child;e!==null;)tT(e),e=e.sibling}function tT(e){switch(e.tag){case 26:Nr(e),e.flags&ma&&e.memoizedState!==null&&Tw($e,e.memoizedState,e.memoizedProps);break;case 5:Nr(e);break;case 3:case 4:var t=$e;$e=_u(e.stateNode.containerInfo),Nr(e),$e=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ma,ma=16777216,Nr(e),ma=t):Nr(e));break;default:Nr(e)}}function eT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ua(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,iT(i,e)}eT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nT(e),e=e.sibling}function nT(e){switch(e.tag){case 0:case 11:case 15:ua(e),e.flags&2048&&xi(9,e,e.return);break;case 3:ua(e);break;case 12:ua(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ml(e)):ua(e);break;default:ua(e)}}function Ml(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,iT(i,e)}eT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xi(8,t,t.return),Ml(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ml(t));break;default:Ml(t)}e=e.sibling}}function iT(e,t){for(;Kt!==null;){var n=Kt;switch(n.tag){case 0:case 11:case 15:xi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Eo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Kt=i;else t:for(n=e;Kt!==null;){i=Kt;var r=i.sibling,s=i.return;if(YE(i),i===n){Kt=null;break t}if(r!==null){r.return=s,Kt=r;break t}Kt=s}}}var Ub={getCacheForType:function(e){var t=de(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Lb=typeof WeakMap=="function"?WeakMap:Map,ft=0,vt=null,et=null,at=0,ht=0,Oe=null,pi=!1,xs=!1,Xd=!1,Hn=0,Vt=0,ki=0,ar=0,$d=0,Qe=0,vs=0,Oa=null,be=null,Ef=!1,Zd=0,fu=1/0,du=null,Ai=null,ne=0,Si=null,Es=null,as=0,Tf=0,Af=null,rT=null,Va=0,Sf=null;function ke(){if(ft&2&&at!==0)return at&-at;if(Y.T!==null){var e=gs;return e!==0?e:Wd()}return gv()}function sT(){Qe===0&&(Qe=!(at&536870912)||lt?hv():536870912);var e=Ke.current;return e!==null&&(e.flags|=32),Qe}function Pe(e,t,n){(e===vt&&(ht===2||ht===9)||e.cancelPendingCommit!==null)&&(Ts(e,0),yi(e,at,Qe,!1)),go(e,n),(!(ft&2)||e!==vt)&&(e===vt&&(!(ft&2)&&(ar|=n),Vt===4&&yi(e,at,Qe,!1)),Tn(e))}function aT(e,t,n){if(ft&6)throw Error(k(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||mo(e,t),r=i?jb(e,t):Eh(e,t,!0),s=i;do{if(r===0){xs&&!i&&yi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!zb(n)){r=Eh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=Oa;var u=l.current.memoizedState.isDehydrated;if(u&&(Ts(l,a).flags|=256),a=Eh(l,a,!1),a!==2){if(Xd&&!u){l.errorRecoveryDisabledLanes|=s,ar|=s,r=4;break t}s=be,be=r,s!==null&&(be===null?be=s:be.push.apply(be,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ts(e,0),yi(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:yi(i,t,Qe,!pi);break t;case 2:be=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(r=Zd+300-un(),10<r)){if(yi(i,t,Qe,!pi),Qu(i,0,!0)!==0)break t;i.timeoutHandle=wT(Xp.bind(null,i,n,be,du,Ef,t,Qe,ar,vs,pi,s,2,-0,0),r);break t}Xp(i,n,be,du,Ef,t,Qe,ar,vs,pi,s,0,-0,0)}}break}while(!0);Tn(e)}function Xp(e,t,n,i,r,s,a,l,u,h,d,p,m,_){if(e.timeoutHandle=-1,p=t.subtreeFlags,(p&8192||(p&16785408)===16785408)&&($a={stylesheets:null,count:0,unsuspend:Ew},tT(t),p=Aw(),p!==null)){e.cancelPendingCommit=p(Zp.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,_)),yi(e,s,a,!h);return}Zp(e,t,s,n,i,r,a,l,u)}function zb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ue(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yi(e,t,n,i){t&=~$d,t&=~ar,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-xe(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&dv(e,n,t)}function nc(){return ft&6?!0:(wo(0),!1)}function Jd(){if(et!==null){if(ht===0)var e=et.return;else e=et,Mn=Tr=null,Ld(e),ss=null,Ka=0,e=et;for(;e!==null;)jE(e.alternate,e),e=e.return;et=null}}function Ts(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,iw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Jd(),vt=e,et=n=Un(e.current,null),at=t,ht=0,Oe=null,pi=!1,xs=mo(e,t),Xd=!1,vs=Qe=$d=ar=ki=Vt=0,be=Oa=null,Ef=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-xe(i),s=1<<r;t|=e[r],i&=~s}return Hn=t,$u(),n}function oT(e,t){W=null,Y.H=au,t===To||t===Ju?(t=Ip(),ht=3):t===Fv?(t=Ip(),ht=4):ht=t===kE?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Oe=t,et===null&&(Vt=1,uu(e,He(t,e.current)))}function lT(){var e=Y.H;return Y.H=au,e===null?au:e}function uT(){var e=Y.A;return Y.A=Ub,e}function bf(){Vt=4,pi||(at&4194048)!==at&&Ke.current!==null||(xs=!0),!(ki&134217727)&&!(ar&134217727)||vt===null||yi(vt,at,Qe,!1)}function Eh(e,t,n){var i=ft;ft|=2;var r=lT(),s=uT();(vt!==e||at!==t)&&(du=null,Ts(e,t)),t=!1;var a=Vt;t:do try{if(ht!==0&&et!==null){var l=et,u=Oe;switch(ht){case 8:Jd(),a=6;break t;case 3:case 2:case 9:case 6:Ke.current===null&&(t=!0);var h=ht;if(ht=0,Oe=null,Zr(e,l,u,h),n&&xs){a=0;break t}break;default:h=ht,ht=0,Oe=null,Zr(e,l,u,h)}}Bb(),a=Vt;break}catch(d){oT(e,d)}while(!0);return t&&e.shellSuspendCounter++,Mn=Tr=null,ft=i,Y.H=r,Y.A=s,et===null&&(vt=null,at=0,$u()),a}function Bb(){for(;et!==null;)cT(et)}function jb(e,t){var n=ft;ft|=2;var i=lT(),r=uT();vt!==e||at!==t?(du=null,fu=un()+500,Ts(e,t)):xs=mo(e,t);t:do try{if(ht!==0&&et!==null){t=et;var s=Oe;e:switch(ht){case 1:ht=0,Oe=null,Zr(e,t,s,1);break;case 2:case 9:if(Rp(s)){ht=0,Oe=null,$p(t);break}t=function(){ht!==2&&ht!==9||vt!==e||(ht=7),Tn(e)},s.then(t,t);break t;case 3:ht=7;break t;case 4:ht=5;break t;case 7:Rp(s)?(ht=0,Oe=null,$p(t)):(ht=0,Oe=null,Zr(e,t,s,7));break;case 5:var a=null;switch(et.tag){case 26:a=et.memoizedState;case 5:case 27:var l=et;if(!a||DT(a)){ht=0,Oe=null;var u=l.sibling;if(u!==null)et=u;else{var h=l.return;h!==null?(et=h,ic(h)):et=null}break e}}ht=0,Oe=null,Zr(e,t,s,5);break;case 6:ht=0,Oe=null,Zr(e,t,s,6);break;case 8:Jd(),Vt=6;break t;default:throw Error(k(462))}}qb();break}catch(d){oT(e,d)}while(!0);return Mn=Tr=null,Y.H=i,Y.A=r,ft=n,et!==null?0:(vt=null,at=0,$u(),Vt)}function qb(){for(;et!==null&&!cS();)cT(et)}function cT(e){var t=BE(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?ic(e):et=t}function $p(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hp(n,t,t.pendingProps,t.type,void 0,at);break;case 11:t=Hp(n,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:Ld(t);default:jE(n,t),t=et=jv(t,Hn),t=BE(n,t,Hn)}e.memoizedProps=e.pendingProps,t===null?ic(e):et=t}function Zr(e,t,n,i){Mn=Tr=null,Ld(t),ss=null,Ka=0;var r=t.return;try{if(Ob(e,r,t,n,at)){Vt=1,uu(e,He(n,e.current)),et=null;return}}catch(s){if(r!==null)throw et=r,s;Vt=1,uu(e,He(n,e.current)),et=null;return}t.flags&32768?(lt||i===1?e=!0:xs||at&536870912?e=!1:(pi=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ke.current,i!==null&&i.tag===13&&(i.flags|=16384))),hT(t,e)):ic(t)}function ic(e){var t=e;do{if(t.flags&32768){hT(t,pi);return}e=t.return;var n=Mb(t.alternate,t,Hn);if(n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);Vt===0&&(Vt=5)}function hT(e,t){do{var n=xb(e.alternate,e);if(n!==null){n.flags&=32767,et=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){et=e;return}et=e=n}while(e!==null);Vt=6,et=null}function Zp(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do rc();while(ne!==0);if(ft&6)throw Error(k(327));if(t!==null){if(t===e.current)throw Error(k(177));if(s=t.lanes|t.childLanes,s|=wd,ES(e,n,s,a,l,u),e===vt&&(et=vt=null,at=0),Es=t,Si=e,as=n,Tf=s,Af=r,rT=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Qb($l,function(){return pT(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=ut.p,ut.p=2,a=ft,ft|=4;try{kb(e,t,n)}finally{ft=a,ut.p=r,Y.T=i}}ne=1,fT(),dT(),mT()}}function fT(){if(ne===1){ne=0;var e=Si,t=Es,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=ut.p;ut.p=2;var r=ft;ft|=4;try{ZE(t,e);var s=Cf,a=Mv(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&Vv(l.ownerDocument.documentElement,l)){if(u!==null&&bd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var p=l.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var _=m.getSelection(),N=l.textContent.length,M=Math.min(u.start,N),O=u.end===void 0?M:Math.min(u.end,N);!_.extend&&M>O&&(a=O,O=M,M=a);var S=_p(l,M),v=_p(l,O);if(S&&v&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var w=p.createRange();w.setStart(S.node,S.offset),_.removeAllRanges(),M>O?(_.addRange(w),_.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),_.addRange(w))}}}}for(p=[],_=l;_=_.parentNode;)_.nodeType===1&&p.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var D=p[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Tu=!!If,Cf=If=null}finally{ft=r,ut.p=i,Y.T=n}}e.current=t,ne=2}}function dT(){if(ne===2){ne=0;var e=Si,t=Es,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=ut.p;ut.p=2;var r=ft;ft|=4;try{KE(e,t.alternate,t)}finally{ft=r,ut.p=i,Y.T=n}}ne=3}}function mT(){if(ne===4||ne===3){ne=0,hS();var e=Si,t=Es,n=as,i=rT;t.subtreeFlags&10256||t.flags&10256?ne=5:(ne=0,Es=Si=null,gT(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ai=null),yd(n),t=t.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(fo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Y.T,r=ut.p,ut.p=2,Y.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Y.T=t,ut.p=r}}as&3&&rc(),Tn(e),r=e.pendingLanes,n&4194090&&r&42?e===Sf?Va++:(Va=0,Sf=e):Va=0,wo(0)}}function gT(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Eo(t)))}function rc(e){return fT(),dT(),mT(),pT()}function pT(){if(ne!==5)return!1;var e=Si,t=Tf;Tf=0;var n=yd(as),i=Y.T,r=ut.p;try{ut.p=32>n?32:n,Y.T=null,n=Af,Af=null;var s=Si,a=as;if(ne=0,Es=Si=null,as=0,ft&6)throw Error(k(331));var l=ft;if(ft|=4,nT(s.current),WE(s,s.current,a,n),ft=l,wo(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(fo,s)}catch{}return!0}finally{ut.p=r,Y.T=i,gT(e,t)}}function Jp(e,t,n){t=He(n,t),t=pf(e.stateNode,t,2),e=Ti(e,t,2),e!==null&&(go(e,2),Tn(e))}function yt(e,t,n){if(e.tag===3)Jp(e,e,n);else for(;t!==null;){if(t.tag===3){Jp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ai===null||!Ai.has(i))){e=He(n,e),n=ME(2),i=Ti(t,n,2),i!==null&&(xE(n,i,t,e),go(i,2),Tn(i));break}}t=t.return}}function Th(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Lb;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Xd=!0,r.add(n),e=Hb.bind(null,e,t,n),t.then(e,e))}function Hb(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,vt===e&&(at&n)===n&&(Vt===4||Vt===3&&(at&62914560)===at&&300>un()-Zd?!(ft&2)&&Ts(e,0):$d|=n,vs===at&&(vs=0)),Tn(e)}function yT(e,t){t===0&&(t=fv()),e=Ms(e,t),e!==null&&(go(e,t),Tn(e))}function Gb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yT(e,n)}function Fb(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(k(314))}i!==null&&i.delete(t),yT(e,n)}function Qb(e,t){return gd(e,t)}var mu=null,kr=null,wf=!1,gu=!1,Ah=!1,or=0;function Tn(e){e!==kr&&e.next===null&&(kr===null?mu=kr=e:kr=kr.next=e),gu=!0,wf||(wf=!0,Yb())}function wo(e,t){if(!Ah&&gu){Ah=!0;do for(var n=!1,i=mu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Wp(i,s))}else s=at,s=Qu(i,i===vt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||mo(i,s)||(n=!0,Wp(i,s));i=i.next}while(n);Ah=!1}}function Kb(){_T()}function _T(){gu=wf=!1;var e=0;or!==0&&(nw()&&(e=or),or=0);for(var t=un(),n=null,i=mu;i!==null;){var r=i.next,s=vT(i,t);s===0?(i.next=null,n===null?mu=r:n.next=r,r===null&&(kr=n)):(n=i,(e!==0||s&3)&&(gu=!0)),i=r}wo(e)}function vT(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-xe(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=vS(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=vt,n=at,n=Qu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ht===2||ht===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Yc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||mo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Yc(i),yd(n)){case 2:case 8:n=uv;break;case 32:n=$l;break;case 268435456:n=cv;break;default:n=$l}return i=ET.bind(null,e),n=gd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Yc(i),e.callbackPriority=2,e.callbackNode=null,2}function ET(e,t){if(ne!==0&&ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(rc()&&e.callbackNode!==n)return null;var i=at;return i=Qu(e,e===vt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(aT(e,i,t),vT(e,un()),e.callbackNode!=null&&e.callbackNode===n?ET.bind(null,e):null)}function Wp(e,t){if(rc())return null;aT(e,t,!0)}function Yb(){rw(function(){ft&6?gd(lv,Kb):_T()})}function Wd(){return or===0&&(or=hv()),or}function ty(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wl(""+e)}function ey(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Xb(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=ty((r[Re]||null).action),a=i.submitter;a&&(t=(t=a[Re]||null)?ty(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new Ku("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(or!==0){var u=a?ey(r,a):new FormData(r);mf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?ey(r,a):new FormData(r),mf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Sh=0;Sh<ef.length;Sh++){var bh=ef[Sh],$b=bh.toLowerCase(),Zb=bh[0].toUpperCase()+bh.slice(1);en($b,"on"+Zb)}en(kv,"onAnimationEnd");en(Pv,"onAnimationIteration");en(Uv,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(mb,"onTransitionRun");en(gb,"onTransitionStart");en(pb,"onTransitionCancel");en(Lv,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ya));function TT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){lu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){lu(d)}r.currentTarget=null,s=u}}}}function tt(e,t){var n=t[Yh];n===void 0&&(n=t[Yh]=new Set);var i=e+"__bubble";n.has(i)||(AT(t,e,2,!1),n.add(i))}function wh(e,t,n){var i=0;t&&(i|=4),AT(n,e,i,t)}var ml="_reactListening"+Math.random().toString(36).slice(2);function tm(e){if(!e[ml]){e[ml]=!0,pv.forEach(function(n){n!=="selectionchange"&&(Jb.has(n)||wh(n,!1,e),wh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ml]||(t[ml]=!0,wh("selectionchange",!1,t))}}function AT(e,t,n,i){switch(xT(t)){case 2:var r=ww;break;case 8:r=Rw;break;default:r=rm}n=r.bind(null,t,n,e),r=void 0,!Jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Rh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=qr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}bv(function(){var h=s,d=Ed(n),p=[];t:{var m=zv.get(e);if(m!==void 0){var _=Ku,N=e;switch(e){case"keypress":if(Il(n)===0)break t;case"keydown":case"keyup":_=QS;break;case"focusin":N="focus",_=nh;break;case"focusout":N="blur",_=nh;break;case"beforeblur":case"afterblur":_=nh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=xS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=XS;break;case kv:case Pv:case Uv:_=US;break;case Lv:_=ZS;break;case"scroll":case"scrollend":_=VS;break;case"wheel":_=WS;break;case"copy":case"cut":case"paste":_=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=cp;break;case"toggle":case"beforetoggle":_=eb}var M=(t&4)!==0,O=!M&&(e==="scroll"||e==="scrollend"),S=M?m!==null?m+"Capture":null:m;M=[];for(var v=h,w;v!==null;){var D=v;if(w=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||w===null||S===null||(D=qa(v,S),D!=null&&M.push(Xa(v,D,w))),O)break;v=v.return}0<M.length&&(m=new _(m,N,null,n,d),p.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==Zh&&(N=n.relatedTarget||n.fromElement)&&(qr(N)||N[Os]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(N=n.relatedTarget||n.toElement,_=h,N=N?qr(N):null,N!==null&&(O=ho(N),M=N.tag,N!==O||M!==5&&M!==27&&M!==6)&&(N=null)):(_=null,N=h),_!==N)){if(M=lp,D="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=cp,D="onPointerLeave",S="onPointerEnter",v="pointer"),O=_==null?m:da(_),w=N==null?m:da(N),m=new M(D,v+"leave",_,n,d),m.target=O,m.relatedTarget=w,D=null,qr(d)===h&&(M=new M(S,v+"enter",N,n,d),M.target=w,M.relatedTarget=O,D=M),O=D,_&&N)e:{for(M=_,S=N,v=0,w=M;w;w=Or(w))v++;for(w=0,D=S;D;D=Or(D))w++;for(;0<v-w;)M=Or(M),v--;for(;0<w-v;)S=Or(S),w--;for(;v--;){if(M===S||S!==null&&M===S.alternate)break e;M=Or(M),S=Or(S)}M=null}else M=null;_!==null&&ny(p,m,_,M,!1),N!==null&&O!==null&&ny(p,O,N,M,!0)}}t:{if(m=h?da(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var L=mp;else if(dp(m))if(Nv)L=hb;else{L=ub;var q=lb}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&vd(h.elementType)&&(L=mp):L=cb;if(L&&(L=L(e,h))){Dv(p,L,n,d);break t}q&&q(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&$h(m,"number",m.value)}switch(q=h?da(h):window,e){case"focusin":(dp(q)||q.contentEditable==="true")&&(Fr=q,Wh=h,Aa=null);break;case"focusout":Aa=Wh=Fr=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,vp(p,n,d);break;case"selectionchange":if(db)break;case"keydown":case"keyup":vp(p,n,d)}var E;if(Sd)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Gr?Iv(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Rv&&n.locale!=="ko"&&(Gr||y!=="onCompositionStart"?y==="onCompositionEnd"&&Gr&&(E=wv()):(gi=d,Td="value"in gi?gi.value:gi.textContent,Gr=!0)),q=pu(h,y),0<q.length&&(y=new up(y,e,null,n,d),p.push({event:y,listeners:q}),E?y.data=E:(E=Cv(n),E!==null&&(y.data=E)))),(E=ib?rb(e,n):sb(e,n))&&(y=pu(h,"onBeforeInput"),0<y.length&&(q=new up("onBeforeInput","beforeinput",null,n,d),p.push({event:q,listeners:y}),q.data=E)),Xb(p,e,h,n,d)}TT(p,t)})}function Xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=qa(e,n),r!=null&&i.unshift(Xa(e,r,s)),r=qa(e,t),r!=null&&i.push(Xa(e,r,s))),e.tag===3)return i;e=e.return}return[]}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ny(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=qa(n,s),h!=null&&a.unshift(Xa(n,h,u))):r||(h=qa(n,s),h!=null&&a.push(Xa(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Wb=/\r\n?/g,tw=/\u0000|\uFFFD/g;function iy(e){return(typeof e=="string"?e:""+e).replace(Wb,`
`).replace(tw,"")}function ST(e,t){return t=iy(t),iy(e)===t}function sc(){}function dt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ms(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ms(e,""+i);break;case"className":ol(e,"class",i);break;case"tabIndex":ol(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ol(e,n,i);break;case"style":Sv(e,i,s);break;case"data":if(t!=="object"){ol(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=wl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&dt(e,t,"name",r.name,r,null),dt(e,t,"formEncType",r.formEncType,r,null),dt(e,t,"formMethod",r.formMethod,r,null),dt(e,t,"formTarget",r.formTarget,r,null)):(dt(e,t,"encType",r.encType,r,null),dt(e,t,"method",r.method,r,null),dt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=wl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=sc);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=wl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":tt("beforetoggle",e),tt("toggle",e),bl(e,"popover",i);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":bl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=NS.get(n)||n,bl(e,n,i))}}function Rf(e,t,n,i,r,s){switch(n){case"style":Sv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ms(e,i):(typeof i=="number"||typeof i=="bigint")&&ms(e,""+i);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Re]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):bl(e,n,i)}}}function re(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:dt(e,t,s,a,n,null)}}r&&dt(e,t,"srcSet",n.srcSet,n,null),i&&dt(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(k(137,t));break;default:dt(e,t,i,d,n,null)}}Ev(e,s,l,u,h,a,r,!1),Zl(e);return;case"select":tt("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:dt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?ts(e,!!i,t,!1):n!=null&&ts(e,!!i,n,!0);return;case"textarea":tt("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(k(91));break;default:dt(e,t,a,l,n,null)}Av(e,i,r,s),Zl(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:dt(e,t,u,i,n,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(i=0;i<Ya.length;i++)tt(Ya[i],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:dt(e,t,h,i,n,null)}return;default:if(vd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Rf(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&dt(e,t,l,i,n,null))}function ew(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var p=n[_];if(n.hasOwnProperty(_)&&p!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(_)||dt(e,t,_,null,i,p)}}for(var m in i){var _=i[m];if(p=n[m],i.hasOwnProperty(m)&&(_!=null||p!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(k(137,t));break;default:_!==p&&dt(e,t,m,_,i,p)}}Xh(e,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||dt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&dt(e,t,r,s,i,u)}t=l,n=a,i=_,m!=null?ts(e,!!n,m,!1):!!i!=!!n&&(t!=null?ts(e,!!n,t,!0):ts(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:dt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(k(91));break;default:r!==s&&dt(e,t,a,r,i,s)}Tv(e,m,_);return;case"option":for(var N in n)if(m=n[N],n.hasOwnProperty(N)&&m!=null&&!i.hasOwnProperty(N))switch(N){case"selected":e.selected=!1;break;default:dt(e,t,N,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:dt(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&dt(e,t,M,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(k(137,t));break;default:dt(e,t,h,m,i,_)}return;default:if(vd(t)){for(var O in n)m=n[O],n.hasOwnProperty(O)&&m!==void 0&&!i.hasOwnProperty(O)&&Rf(e,t,O,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||Rf(e,t,d,m,i,_);return}}for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S)&&dt(e,t,S,null,i,m);for(p in i)m=i[p],_=n[p],!i.hasOwnProperty(p)||m===_||m==null&&_==null||dt(e,t,p,m,i,_)}var If=null,Cf=null;function yu(e){return e.nodeType===9?e:e.ownerDocument}function ry(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bT(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Df(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ih=null;function nw(){var e=window.event;return e&&e.type==="popstate"?e===Ih?!1:(Ih=e,!0):(Ih=null,!1)}var wT=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,rw=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(e){return sy.resolve(null).then(e).catch(sw)}:wT;function sw(e){setTimeout(function(){throw e})}function Gi(e){return e==="head"}function ay(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&Ma(a.documentElement),n&2&&Ma(a.body),n&4)for(n=a.head,Ma(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[po]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),to(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);to(t)}function Nf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Nf(n),_d(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function aw(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[po])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function ow(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tn(e.nextSibling),e===null))return null;return e}function Of(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function lw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Vf=null;function oy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function RT(e,t,n){switch(t=yu(n),e){case"html":if(e=t.documentElement,!e)throw Error(k(452));return e;case"head":if(e=t.head,!e)throw Error(k(453));return e;case"body":if(e=t.body,!e)throw Error(k(454));return e;default:throw Error(k(451))}}function Ma(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_d(e)}var Ye=new Map,ly=new Set;function _u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=ut.d;ut.d={f:uw,r:cw,D:hw,C:fw,L:dw,m:mw,X:pw,S:gw,M:yw};function uw(){var e=Xn.f(),t=nc();return e||t}function cw(e){var t=Vs(e);t!==null&&t.tag===5&&t.type==="form"?vE(t):Xn.r(e)}var ks=typeof document>"u"?null:document;function IT(e,t,n){var i=ks;if(i&&typeof t=="string"&&t){var r=qe(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),ly.has(r)||(ly.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),re(t,"link",e),Yt(t),i.head.appendChild(t)))}}function hw(e){Xn.D(e),IT("dns-prefetch",e,null)}function fw(e,t){Xn.C(e,t),IT("preconnect",e,t)}function dw(e,t,n){Xn.L(e,t,n);var i=ks;if(i&&e&&t){var r='link[rel="preload"][as="'+qe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+qe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+qe(n.imageSizes)+'"]')):r+='[href="'+qe(e)+'"]';var s=r;switch(t){case"style":s=As(e);break;case"script":s=Ps(e)}Ye.has(s)||(e=At({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ye.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Ro(s))||t==="script"&&i.querySelector(Io(s))||(t=i.createElement("link"),re(t,"link",e),Yt(t),i.head.appendChild(t)))}}function mw(e,t){Xn.m(e,t);var n=ks;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+qe(i)+'"][href="'+qe(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ps(e)}if(!Ye.has(s)&&(e=At({rel:"modulepreload",href:e},t),Ye.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Io(s)))return}i=n.createElement("link"),re(i,"link",e),Yt(i),n.head.appendChild(i)}}}function gw(e,t,n){Xn.S(e,t,n);var i=ks;if(i&&e){var r=Wr(i).hoistableStyles,s=As(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Ro(s)))l.loading=5;else{e=At({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ye.get(s))&&em(e,n);var u=a=i.createElement("link");Yt(u),re(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,xl(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function pw(e,t){Xn.X(e,t);var n=ks;if(n&&e){var i=Wr(n).hoistableScripts,r=Ps(e),s=i.get(r);s||(s=n.querySelector(Io(r)),s||(e=At({src:e,async:!0},t),(t=Ye.get(r))&&nm(e,t),s=n.createElement("script"),Yt(s),re(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function yw(e,t){Xn.M(e,t);var n=ks;if(n&&e){var i=Wr(n).hoistableScripts,r=Ps(e),s=i.get(r);s||(s=n.querySelector(Io(r)),s||(e=At({src:e,async:!0,type:"module"},t),(t=Ye.get(r))&&nm(e,t),s=n.createElement("script"),Yt(s),re(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function uy(e,t,n,i){var r=(r=vi.current)?_u(r):null;if(!r)throw Error(k(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=As(n.href),n=Wr(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=As(n.href);var s=Wr(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(Ro(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Ye.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ye.set(e,n),s||_w(r,e,n,a.state))),t&&i===null)throw Error(k(528,""));return a}if(t&&i!==null)throw Error(k(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ps(n),n=Wr(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,e))}}function As(e){return'href="'+qe(e)+'"'}function Ro(e){return'link[rel="stylesheet"]['+e+"]"}function CT(e){return At({},e,{"data-precedence":e.precedence,precedence:null})}function _w(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),re(t,"link",n),Yt(t),e.head.appendChild(t))}function Ps(e){return'[src="'+qe(e)+'"]'}function Io(e){return"script[async]"+e}function cy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+qe(n.href)+'"]');if(i)return t.instance=i,Yt(i),i;var r=At({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Yt(i),re(i,"style",r),xl(i,n.precedence,e),t.instance=i;case"stylesheet":r=As(n.href);var s=e.querySelector(Ro(r));if(s)return t.state.loading|=4,t.instance=s,Yt(s),s;i=CT(n),(r=Ye.get(r))&&em(i,r),s=(e.ownerDocument||e).createElement("link"),Yt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),re(s,"link",i),t.state.loading|=4,xl(s,n.precedence,e),t.instance=s;case"script":return s=Ps(n.src),(r=e.querySelector(Io(s)))?(t.instance=r,Yt(r),r):(i=n,(r=Ye.get(s))&&(i=At({},n),nm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Yt(r),re(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,xl(i,n.precedence,e));return t.instance}function xl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function em(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var kl=null;function hy(e,t,n){if(kl===null){var i=new Map,r=kl=new Map;r.set(n,i)}else r=kl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[po]||s[fe]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function fy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function vw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function DT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var $a=null;function Ew(){}function Tw(e,t,n){if($a===null)throw Error(k(475));var i=$a;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=As(n.href),s=e.querySelector(Ro(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=vu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,Yt(s);return}s=e.ownerDocument||e,n=CT(n),(r=Ye.get(r))&&em(n,r),s=s.createElement("link"),Yt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),re(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=vu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Aw(){if($a===null)throw Error(k(475));var e=$a;return e.stylesheets&&e.count===0&&Mf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Mf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function vu(){if(this.count--,this.count===0){if(this.stylesheets)Mf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Eu=null;function Mf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Eu=new Map,t.forEach(Sw,e),Eu=null,vu.call(e))}function Sw(e,t){if(!(t.state.loading&4)){var n=Eu.get(e);if(n)var i=n.get(null);else{n=new Map,Eu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=vu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Za={$$typeof:Nn,Provider:null,Consumer:null,_currentValue:er,_currentValue2:er,_threadCount:0};function bw(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.hiddenUpdates=Xc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function NT(e,t,n,i,r,s,a,l,u,h,d,p){return e=new bw(e,t,n,a,l,u,h,p),t=1,s===!0&&(t|=24),s=Ve(3,null,null,t),e.current=s,s.stateNode=e,t=Nd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Vd(s),e}function OT(e){return e?(e=Yr,e):Yr}function VT(e,t,n,i,r,s){r=OT(r),i.context===null?i.context=r:i.pendingContext=r,i=Ei(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ti(e,i,t),n!==null&&(Pe(n,e,t),wa(n,e,t))}function dy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function im(e,t){dy(e,t),(e=e.alternate)&&dy(e,t)}function MT(e){if(e.tag===13){var t=Ms(e,67108864);t!==null&&Pe(t,e,67108864),im(e,67108864)}}var Tu=!0;function ww(e,t,n,i){var r=Y.T;Y.T=null;var s=ut.p;try{ut.p=2,rm(e,t,n,i)}finally{ut.p=s,Y.T=r}}function Rw(e,t,n,i){var r=Y.T;Y.T=null;var s=ut.p;try{ut.p=8,rm(e,t,n,i)}finally{ut.p=s,Y.T=r}}function rm(e,t,n,i){if(Tu){var r=xf(i);if(r===null)Rh(e,t,i,Au,n),my(e,i);else if(Cw(r,e,t,n,i))i.stopPropagation();else if(my(e,i),t&4&&-1<Iw.indexOf(e)){for(;r!==null;){var s=Vs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=$i(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-xe(a);l.entanglements[1]|=u,a&=~u}Tn(s),!(ft&6)&&(fu=un()+500,wo(0))}}break;case 13:l=Ms(s,2),l!==null&&Pe(l,s,2),nc(),im(s,2)}if(s=xf(i),s===null&&Rh(e,t,i,Au,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Rh(e,t,i,null,n)}}function xf(e){return e=Ed(e),sm(e)}var Au=null;function sm(e){if(Au=null,e=qr(e),e!==null){var t=ho(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=rv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Au=e,null}function xT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fS()){case lv:return 2;case uv:return 8;case $l:case dS:return 32;case cv:return 268435456;default:return 32}default:return 32}}var kf=!1,bi=null,wi=null,Ri=null,Ja=new Map,Wa=new Map,ui=[],Iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function my(e,t){switch(e){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function ca(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Vs(t),t!==null&&MT(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Cw(e,t,n,i,r){switch(t){case"focusin":return bi=ca(bi,e,t,n,i,r),!0;case"dragenter":return wi=ca(wi,e,t,n,i,r),!0;case"mouseover":return Ri=ca(Ri,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ja.set(s,ca(Ja.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Wa.set(s,ca(Wa.get(s)||null,e,t,n,i,r)),!0}return!1}function kT(e){var t=qr(e.target);if(t!==null){var n=ho(t);if(n!==null){if(t=n.tag,t===13){if(t=rv(n),t!==null){e.blockedOn=t,TS(e.priority,function(){if(n.tag===13){var i=ke();i=pd(i);var r=Ms(n,i);r!==null&&Pe(r,n,i),im(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Zh=i,n.target.dispatchEvent(i),Zh=null}else return t=Vs(n),t!==null&&MT(t),e.blockedOn=n,!1;t.shift()}return!0}function gy(e,t,n){Pl(e)&&n.delete(t)}function Dw(){kf=!1,bi!==null&&Pl(bi)&&(bi=null),wi!==null&&Pl(wi)&&(wi=null),Ri!==null&&Pl(Ri)&&(Ri=null),Ja.forEach(gy),Wa.forEach(gy)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,kf||(kf=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,Dw)))}var pl=null;function py(e){pl!==e&&(pl=e,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,function(){pl===e&&(pl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(sm(i||n)===null)continue;break}var s=Vs(n);s!==null&&(e.splice(t,3),t-=3,mf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function to(e){function t(u){return gl(u,e)}bi!==null&&gl(bi,e),wi!==null&&gl(wi,e),Ri!==null&&gl(Ri,e),Ja.forEach(t),Wa.forEach(t);for(var n=0;n<ui.length;n++){var i=ui[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)kT(n),n.blockedOn===null&&ui.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Re]||null;if(typeof s=="function")a||py(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Re]||null)l=a.formAction;else if(sm(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),py(n)}}}function am(e){this._internalRoot=e}ac.prototype.render=am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));var n=t.current,i=ke();VT(n,i,e,t,null,null)};ac.prototype.unmount=am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;VT(e.current,2,null,e,null,null),nc(),t[Os]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=gv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ui.length&&t!==0&&t<ui[n].priority;n++);ui.splice(n,0,e),n===0&&kT(e)}};var yy=nv.version;if(yy!=="19.1.1")throw Error(k(527,yy,"19.1.1"));ut.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=sS(t),e=e!==null?sv(e):null,e=e===null?null:e.stateNode,e};var Nw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{fo=yl.inject(Nw),Me=yl}catch{}}Gu.createRoot=function(e,t){if(!iv(e))throw Error(k(299));var n=!1,i="",r=NE,s=OE,a=VE,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=NT(e,1,!1,null,null,n,i,r,s,a,l,null),e[Os]=t.current,tm(e),new am(t)};Gu.hydrateRoot=function(e,t,n){if(!iv(e))throw Error(k(299));var i=!1,r="",s=NE,a=OE,l=VE,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=NT(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=OT(null),n=t.current,i=ke(),i=pd(i),r=Ei(i),r.callback=null,Ti(n,r,i),n=i,t.current.lanes=n,go(t,n),Tn(t),e[Os]=t.current,tm(e),new ac(t)};Gu.version="19.1.1";function PT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PT)}catch(e){console.error(e)}}PT(),$_.exports=Gu;var Ow=$_.exports;const Vw=()=>{};var _y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Mw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[p],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(UT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Mw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new xw;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),p!==64){const N=h<<6&192|p;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kw=function(e){const t=UT(e);return LT.encodeByteArray(t,!0)},Su=function(e){return kw(e).replace(/\./g,"")},zT=function(e){try{return LT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=()=>Pw().__FIREBASE_DEFAULTS__,Lw=()=>{if(typeof process>"u"||typeof _y>"u")return;const e=_y.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},zw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&zT(e[1]);return t&&JSON.parse(t)},oc=()=>{try{return Vw()||Uw()||Lw()||zw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},BT=e=>{var t,n;return(n=(t=oc())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},Bw=e=>{const t=BT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},jT=()=>{var e;return(e=oc())==null?void 0:e.config},qT=e=>{var t;return(t=oc())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HT(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Su(JSON.stringify(n)),Su(JSON.stringify(a)),""].join(".")}const xa={};function Hw(){const e={prod:[],emulator:[]};for(const t of Object.keys(xa))xa[t]?e.emulator.push(t):e.prod.push(t);return e}function Gw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let vy=!1;function GT(e,t){if(typeof window>"u"||typeof document>"u"||!Us(window.location.host)||xa[e]===t||xa[e]||vy)return;xa[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=Hw().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{vy=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Gw(i),_=n("text"),N=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),O=document.getElementById(M)||document.createElement("a"),S=n("preprendIcon"),v=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;l(w),d(O,M);const D=h();u(v,S),w.append(v,N,O,D),document.body.appendChild(w)}s?(N.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function Qw(){var t;const e=(t=oc())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Xw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $w(){const e=me();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Zw(){return!Qw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ww(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="FirebaseError";class $n extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=tR,Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?eR(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new $n(r,l,i)}}function eR(e,t){return e.replace(nR,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const nR=/\{\$([^}]+)}/g;function iR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function dr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(Ey(s)&&Ey(a)){if(!dr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Ey(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function rR(e,t){const n=new sR(e,t);return n.subscribe.bind(n)}class sR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");aR(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Ch),r.error===void 0&&(r.error=Ch),r.complete===void 0&&(r.complete=Ch);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ch(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e){return e&&e._delegate?e._delegate:e}class mr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new jw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uR(t))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Wi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wi){return this.instances.has(t)}getOptions(t=Wi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Wi){return this.component?this.component.multipleInstances?t:Wi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lR(e){return e===Wi?void 0:e}function uR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new oR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nt||(nt={}));const hR={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},fR=nt.INFO,dR={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},mR=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=dR[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=fR,this._logHandler=mR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...t),this._logHandler(this,nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...t),this._logHandler(this,nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...t),this._logHandler(this,nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...t),this._logHandler(this,nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...t),this._logHandler(this,nt.ERROR,...t)}}const gR=(e,t)=>t.some(n=>e instanceof n);let Ty,Ay;function pR(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return Ay||(Ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,Pf=new WeakMap,QT=new WeakMap,Dh=new WeakMap,lm=new WeakMap;function _R(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ii(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&FT.set(n,e)}).catch(()=>{}),lm.set(t,e),t}function vR(e){if(Pf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Pf.set(e,t)}let Uf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Pf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||QT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ER(e){Uf=e(Uf)}function TR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Nh(this),t,...n);return QT.set(i,t.sort?t.sort():[t]),Ii(i)}:yR().includes(e)?function(...t){return e.apply(Nh(this),t),Ii(FT.get(this))}:function(...t){return Ii(e.apply(Nh(this),t))}}function AR(e){return typeof e=="function"?TR(e):(e instanceof IDBTransaction&&vR(e),gR(e,pR())?new Proxy(e,Uf):e)}function Ii(e){if(e instanceof IDBRequest)return _R(e);if(Dh.has(e))return Dh.get(e);const t=AR(e);return t!==e&&(Dh.set(e,t),lm.set(t,e)),t}const Nh=e=>lm.get(e);function SR(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Ii(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ii(a.result),u.oldVersion,u.newVersion,Ii(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const bR=["get","getKey","getAll","getAllKeys","count"],wR=["put","add","delete","clear"],Oh=new Map;function Sy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Oh.get(t))return Oh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=wR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||bR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return Oh.set(t,s),s}ER(e=>({...e,get:(t,n,i)=>Sy(t,n)||e.get(t,n,i),has:(t,n)=>!!Sy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function IR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lf="@firebase/app",by="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new om("@firebase/app"),CR="@firebase/app-compat",DR="@firebase/analytics-compat",NR="@firebase/analytics",OR="@firebase/app-check-compat",VR="@firebase/app-check",MR="@firebase/auth",xR="@firebase/auth-compat",kR="@firebase/database",PR="@firebase/data-connect",UR="@firebase/database-compat",LR="@firebase/functions",zR="@firebase/functions-compat",BR="@firebase/installations",jR="@firebase/installations-compat",qR="@firebase/messaging",HR="@firebase/messaging-compat",GR="@firebase/performance",FR="@firebase/performance-compat",QR="@firebase/remote-config",KR="@firebase/remote-config-compat",YR="@firebase/storage",XR="@firebase/storage-compat",$R="@firebase/firestore",ZR="@firebase/ai",JR="@firebase/firestore-compat",WR="firebase",t2="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",e2={[Lf]:"fire-core",[CR]:"fire-core-compat",[NR]:"fire-analytics",[DR]:"fire-analytics-compat",[VR]:"fire-app-check",[OR]:"fire-app-check-compat",[MR]:"fire-auth",[xR]:"fire-auth-compat",[kR]:"fire-rtdb",[PR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[LR]:"fire-fn",[zR]:"fire-fn-compat",[BR]:"fire-iid",[jR]:"fire-iid-compat",[qR]:"fire-fcm",[HR]:"fire-fcm-compat",[GR]:"fire-perf",[FR]:"fire-perf-compat",[QR]:"fire-rc",[KR]:"fire-rc-compat",[YR]:"fire-gcs",[XR]:"fire-gcs-compat",[$R]:"fire-fst",[JR]:"fire-fst-compat",[ZR]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Map,n2=new Map,Bf=new Map;function wy(e,t){try{e.container.addComponent(t)}catch(n){Gn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ss(e){const t=e.name;if(Bf.has(t))return Gn.debug(`There were multiple attempts to register component ${t}.`),!1;Bf.set(t,e);for(const n of bu.values())wy(n,e);for(const n of n2.values())wy(n,e);return!0}function um(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ze(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new Co("app","Firebase",i2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=t2;function KT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:zf,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Ci.create("bad-app-name",{appName:String(r)});if(n||(n=jT()),!n)throw Ci.create("no-options");const s=bu.get(r);if(s){if(dr(n,s.options)&&dr(i,s.config))return s;throw Ci.create("duplicate-app",{appName:r})}const a=new cR(r);for(const u of Bf.values())a.addComponent(u);const l=new r2(n,i,a);return bu.set(r,l),l}function YT(e=zf){const t=bu.get(e);if(!t&&e===zf&&jT())return KT();if(!t)throw Ci.create("no-app",{appName:e});return t}function Di(e,t,n){let i=e2[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gn.warn(a.join(" "));return}Ss(new mr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="firebase-heartbeat-database",a2=1,eo="firebase-heartbeat-store";let Vh=null;function XT(){return Vh||(Vh=SR(s2,a2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(eo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ci.create("idb-open",{originalErrorMessage:e.message})})),Vh}async function o2(e){try{const n=(await XT()).transaction(eo),i=await n.objectStore(eo).get($T(e));return await n.done,i}catch(t){if(t instanceof $n)Gn.warn(t.message);else{const n=Ci.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gn.warn(n.message)}}}async function Ry(e,t){try{const i=(await XT()).transaction(eo,"readwrite");await i.objectStore(eo).put(t,$T(e)),await i.done}catch(n){if(n instanceof $n)Gn.warn(n.message);else{const i=Ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gn.warn(i.message)}}}function $T(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=1024,u2=30;class c2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Iy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>u2){const a=d2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Gn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iy(),{heartbeatsToSend:i,unsentEntries:r}=h2(this._heartbeatsCache.heartbeats),s=Su(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gn.warn(n),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function h2(e,t=l2){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Cy(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Cy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class f2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?Ww().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ry(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ry(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Cy(e){return Su(JSON.stringify({version:2,heartbeats:e})).length}function d2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(e){Ss(new mr("platform-logger",t=>new RR(t),"PRIVATE")),Ss(new mr("heartbeat",t=>new c2(t),"PRIVATE")),Di(Lf,by,e),Di(Lf,by,"esm2020"),Di("fire-js","")}m2("");var g2="firebase",p2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(g2,p2,"app");var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,ZT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,y){function T(){}T.prototype=y.prototype,E.D=y.prototype,E.prototype=new T,E.prototype.constructor=E,E.C=function(b,R,I){for(var A=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)A[Jt-2]=arguments[Jt];return y.prototype[R].apply(b,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,T){T||(T=0);var b=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)b[R]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(R=0;16>R;++R)b[R]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=E.g[0],T=E.g[1],R=E.g[2];var I=E.g[3],A=y+(I^T&(R^I))+b[0]+3614090360&4294967295;y=T+(A<<7&4294967295|A>>>25),A=I+(R^y&(T^R))+b[1]+3905402710&4294967295,I=y+(A<<12&4294967295|A>>>20),A=R+(T^I&(y^T))+b[2]+606105819&4294967295,R=I+(A<<17&4294967295|A>>>15),A=T+(y^R&(I^y))+b[3]+3250441966&4294967295,T=R+(A<<22&4294967295|A>>>10),A=y+(I^T&(R^I))+b[4]+4118548399&4294967295,y=T+(A<<7&4294967295|A>>>25),A=I+(R^y&(T^R))+b[5]+1200080426&4294967295,I=y+(A<<12&4294967295|A>>>20),A=R+(T^I&(y^T))+b[6]+2821735955&4294967295,R=I+(A<<17&4294967295|A>>>15),A=T+(y^R&(I^y))+b[7]+4249261313&4294967295,T=R+(A<<22&4294967295|A>>>10),A=y+(I^T&(R^I))+b[8]+1770035416&4294967295,y=T+(A<<7&4294967295|A>>>25),A=I+(R^y&(T^R))+b[9]+2336552879&4294967295,I=y+(A<<12&4294967295|A>>>20),A=R+(T^I&(y^T))+b[10]+4294925233&4294967295,R=I+(A<<17&4294967295|A>>>15),A=T+(y^R&(I^y))+b[11]+2304563134&4294967295,T=R+(A<<22&4294967295|A>>>10),A=y+(I^T&(R^I))+b[12]+1804603682&4294967295,y=T+(A<<7&4294967295|A>>>25),A=I+(R^y&(T^R))+b[13]+4254626195&4294967295,I=y+(A<<12&4294967295|A>>>20),A=R+(T^I&(y^T))+b[14]+2792965006&4294967295,R=I+(A<<17&4294967295|A>>>15),A=T+(y^R&(I^y))+b[15]+1236535329&4294967295,T=R+(A<<22&4294967295|A>>>10),A=y+(R^I&(T^R))+b[1]+4129170786&4294967295,y=T+(A<<5&4294967295|A>>>27),A=I+(T^R&(y^T))+b[6]+3225465664&4294967295,I=y+(A<<9&4294967295|A>>>23),A=R+(y^T&(I^y))+b[11]+643717713&4294967295,R=I+(A<<14&4294967295|A>>>18),A=T+(I^y&(R^I))+b[0]+3921069994&4294967295,T=R+(A<<20&4294967295|A>>>12),A=y+(R^I&(T^R))+b[5]+3593408605&4294967295,y=T+(A<<5&4294967295|A>>>27),A=I+(T^R&(y^T))+b[10]+38016083&4294967295,I=y+(A<<9&4294967295|A>>>23),A=R+(y^T&(I^y))+b[15]+3634488961&4294967295,R=I+(A<<14&4294967295|A>>>18),A=T+(I^y&(R^I))+b[4]+3889429448&4294967295,T=R+(A<<20&4294967295|A>>>12),A=y+(R^I&(T^R))+b[9]+568446438&4294967295,y=T+(A<<5&4294967295|A>>>27),A=I+(T^R&(y^T))+b[14]+3275163606&4294967295,I=y+(A<<9&4294967295|A>>>23),A=R+(y^T&(I^y))+b[3]+4107603335&4294967295,R=I+(A<<14&4294967295|A>>>18),A=T+(I^y&(R^I))+b[8]+1163531501&4294967295,T=R+(A<<20&4294967295|A>>>12),A=y+(R^I&(T^R))+b[13]+2850285829&4294967295,y=T+(A<<5&4294967295|A>>>27),A=I+(T^R&(y^T))+b[2]+4243563512&4294967295,I=y+(A<<9&4294967295|A>>>23),A=R+(y^T&(I^y))+b[7]+1735328473&4294967295,R=I+(A<<14&4294967295|A>>>18),A=T+(I^y&(R^I))+b[12]+2368359562&4294967295,T=R+(A<<20&4294967295|A>>>12),A=y+(T^R^I)+b[5]+4294588738&4294967295,y=T+(A<<4&4294967295|A>>>28),A=I+(y^T^R)+b[8]+2272392833&4294967295,I=y+(A<<11&4294967295|A>>>21),A=R+(I^y^T)+b[11]+1839030562&4294967295,R=I+(A<<16&4294967295|A>>>16),A=T+(R^I^y)+b[14]+4259657740&4294967295,T=R+(A<<23&4294967295|A>>>9),A=y+(T^R^I)+b[1]+2763975236&4294967295,y=T+(A<<4&4294967295|A>>>28),A=I+(y^T^R)+b[4]+1272893353&4294967295,I=y+(A<<11&4294967295|A>>>21),A=R+(I^y^T)+b[7]+4139469664&4294967295,R=I+(A<<16&4294967295|A>>>16),A=T+(R^I^y)+b[10]+3200236656&4294967295,T=R+(A<<23&4294967295|A>>>9),A=y+(T^R^I)+b[13]+681279174&4294967295,y=T+(A<<4&4294967295|A>>>28),A=I+(y^T^R)+b[0]+3936430074&4294967295,I=y+(A<<11&4294967295|A>>>21),A=R+(I^y^T)+b[3]+3572445317&4294967295,R=I+(A<<16&4294967295|A>>>16),A=T+(R^I^y)+b[6]+76029189&4294967295,T=R+(A<<23&4294967295|A>>>9),A=y+(T^R^I)+b[9]+3654602809&4294967295,y=T+(A<<4&4294967295|A>>>28),A=I+(y^T^R)+b[12]+3873151461&4294967295,I=y+(A<<11&4294967295|A>>>21),A=R+(I^y^T)+b[15]+530742520&4294967295,R=I+(A<<16&4294967295|A>>>16),A=T+(R^I^y)+b[2]+3299628645&4294967295,T=R+(A<<23&4294967295|A>>>9),A=y+(R^(T|~I))+b[0]+4096336452&4294967295,y=T+(A<<6&4294967295|A>>>26),A=I+(T^(y|~R))+b[7]+1126891415&4294967295,I=y+(A<<10&4294967295|A>>>22),A=R+(y^(I|~T))+b[14]+2878612391&4294967295,R=I+(A<<15&4294967295|A>>>17),A=T+(I^(R|~y))+b[5]+4237533241&4294967295,T=R+(A<<21&4294967295|A>>>11),A=y+(R^(T|~I))+b[12]+1700485571&4294967295,y=T+(A<<6&4294967295|A>>>26),A=I+(T^(y|~R))+b[3]+2399980690&4294967295,I=y+(A<<10&4294967295|A>>>22),A=R+(y^(I|~T))+b[10]+4293915773&4294967295,R=I+(A<<15&4294967295|A>>>17),A=T+(I^(R|~y))+b[1]+2240044497&4294967295,T=R+(A<<21&4294967295|A>>>11),A=y+(R^(T|~I))+b[8]+1873313359&4294967295,y=T+(A<<6&4294967295|A>>>26),A=I+(T^(y|~R))+b[15]+4264355552&4294967295,I=y+(A<<10&4294967295|A>>>22),A=R+(y^(I|~T))+b[6]+2734768916&4294967295,R=I+(A<<15&4294967295|A>>>17),A=T+(I^(R|~y))+b[13]+1309151649&4294967295,T=R+(A<<21&4294967295|A>>>11),A=y+(R^(T|~I))+b[4]+4149444226&4294967295,y=T+(A<<6&4294967295|A>>>26),A=I+(T^(y|~R))+b[11]+3174756917&4294967295,I=y+(A<<10&4294967295|A>>>22),A=R+(y^(I|~T))+b[2]+718787259&4294967295,R=I+(A<<15&4294967295|A>>>17),A=T+(I^(R|~y))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+I&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var T=y-this.blockSize,b=this.B,R=this.h,I=0;I<y;){if(R==0)for(;I<=T;)r(this,E,I),I+=this.blockSize;if(typeof E=="string"){for(;I<y;)if(b[R++]=E.charCodeAt(I++),R==this.blockSize){r(this,b),R=0;break}}else for(;I<y;)if(b[R++]=E[I++],R==this.blockSize){r(this,b),R=0;break}}this.h=R,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var T=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=T&255,T/=256;for(this.u(E),E=Array(16),y=T=0;4>y;++y)for(var b=0;32>b;b+=8)E[T++]=this.g[y]>>>b&255;return E};function s(E,y){var T=l;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=y(E)}function a(E,y){this.h=y;for(var T=[],b=!0,R=E.length-1;0<=R;R--){var I=E[R]|0;b&&I==y||(T[R]=I,b=!1)}this.g=T}var l={};function u(E){return-128<=E&&128>E?s(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return O(h(-E));for(var y=[],T=1,b=0;E>=T;b++)y[b]=E/T|0,T*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return O(d(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(y,8)),b=p,R=0;R<E.length;R+=8){var I=Math.min(8,E.length-R),A=parseInt(E.substring(R,R+I),y);8>I?(I=h(Math.pow(y,I)),b=b.j(I).add(h(A))):(b=b.j(T),b=b.add(h(A)))}return b}var p=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-O(this).m();for(var E=0,y=1,T=0;T<this.g.length;T++){var b=this.i(T);E+=(0<=b?b:4294967296+b)*y,y*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(N(this))return"0";if(M(this))return"-"+O(this).toString(E);for(var y=h(Math.pow(E,6)),T=this,b="";;){var R=D(T,y).g;T=S(T,R.j(y));var I=((0<T.g.length?T.g[0]:T.h)>>>0).toString(E);if(T=R,N(T))return I+b;for(;6>I.length;)I="0"+I;b=I+b}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function N(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}e.l=function(E){return E=S(this,E),M(E)?-1:N(E)?0:1};function O(E){for(var y=E.g.length,T=[],b=0;b<y;b++)T[b]=~E.g[b];return new a(T,~E.h).add(m)}e.abs=function(){return M(this)?O(this):this},e.add=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],b=0,R=0;R<=y;R++){var I=b+(this.i(R)&65535)+(E.i(R)&65535),A=(I>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);b=A>>>16,I&=65535,A&=65535,T[R]=A<<16|I}return new a(T,T[T.length-1]&-2147483648?-1:0)};function S(E,y){return E.add(O(y))}e.j=function(E){if(N(this)||N(E))return p;if(M(this))return M(E)?O(this).j(O(E)):O(O(this).j(E));if(M(E))return O(this.j(O(E)));if(0>this.l(_)&&0>E.l(_))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,T=[],b=0;b<2*y;b++)T[b]=0;for(b=0;b<this.g.length;b++)for(var R=0;R<E.g.length;R++){var I=this.i(b)>>>16,A=this.i(b)&65535,Jt=E.i(R)>>>16,Te=E.i(R)&65535;T[2*b+2*R]+=A*Te,v(T,2*b+2*R),T[2*b+2*R+1]+=I*Te,v(T,2*b+2*R+1),T[2*b+2*R+1]+=A*Jt,v(T,2*b+2*R+1),T[2*b+2*R+2]+=I*Jt,v(T,2*b+2*R+2)}for(b=0;b<y;b++)T[b]=T[2*b+1]<<16|T[2*b];for(b=y;b<2*y;b++)T[b]=0;return new a(T,0)};function v(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function w(E,y){this.g=E,this.h=y}function D(E,y){if(N(y))throw Error("division by zero");if(N(E))return new w(p,p);if(M(E))return y=D(O(E),y),new w(O(y.g),O(y.h));if(M(y))return y=D(E,O(y)),new w(O(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var T=m,b=y;0>=b.l(E);)T=L(T),b=L(b);var R=q(T,1),I=q(b,1);for(b=q(b,2),T=q(T,2);!N(b);){var A=I.add(b);0>=A.l(E)&&(R=R.add(T),I=A),b=q(b,1),T=q(T,1)}return y=S(E,R.j(y)),new w(R,y)}for(R=p;0<=E.l(y);){for(T=Math.max(1,Math.floor(E.m()/y.m())),b=Math.ceil(Math.log(T)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),I=h(T),A=I.j(y);M(A)||0<A.l(E);)T-=b,I=h(T),A=I.j(y);N(I)&&(I=m),R=R.add(I),E=S(E,A)}return new w(R,E)}e.A=function(E){return D(this,E).h},e.and=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],b=0;b<y;b++)T[b]=this.i(b)&E.i(b);return new a(T,this.h&E.h)},e.or=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],b=0;b<y;b++)T[b]=this.i(b)|E.i(b);return new a(T,this.h|E.h)},e.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),T=[],b=0;b<y;b++)T[b]=this.i(b)^E.i(b);return new a(T,this.h^E.h)};function L(E){for(var y=E.g.length+1,T=[],b=0;b<y;b++)T[b]=E.i(b)<<1|E.i(b-1)>>>31;return new a(T,E.h)}function q(E,y){var T=y>>5;y%=32;for(var b=E.g.length-T,R=[],I=0;I<b;I++)R[I]=0<y?E.i(I+T)>>>y|E.i(I+T+1)<<32-y:E.i(I+T);return new a(R,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ZT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Ni=a}).apply(typeof Dy<"u"?Dy:typeof self<"u"?self:typeof window<"u"?window:{});var _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JT,ga,WT,Ul,jf,t0,e0,n0;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof _l=="object"&&_l];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var g=0;g<o.length-1;g++){var C=o[g];if(!(C in f))break t;f=f[C]}o=o[o.length-1],g=f[o],c=c(g),c!=g&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,g=!1,C={next:function(){if(!g&&f<o.length){var V=f++;return{value:c(V,o[V]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function p(o,c,f){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),o.apply(c,C)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function N(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(g,C,V){for(var z=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)z[pt-2]=arguments[pt];return c.prototype[C].apply(g,z)}}function M(o){const c=o.length;if(0<c){const f=Array(c);for(let g=0;g<c;g++)f[g]=o[g];return f}return[]}function O(o,c){for(let f=1;f<arguments.length;f++){const g=arguments[f];if(u(g)){const C=o.length||0,V=g.length||0;o.length=C+V;for(let z=0;z<V;z++)o[C+z]=g[z]}else o.push(g)}}class S{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function w(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var L=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function q(o,c,f){for(const g in o)c.call(f,o[g],g,o)}function E(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(o,c){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)o[f]=g[f];for(let V=0;V<T.length;V++)f=T[V],Object.prototype.hasOwnProperty.call(g,f)&&(o[f]=g[f])}}function R(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function I(o){l.setTimeout(()=>{throw o},0)}function A(){var o=gt;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class Jt{constructor(){this.h=this.g=null}add(c,f){const g=Te.get();g.set(c,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Te=new S(()=>new B,o=>o.reset());class B{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Q=!1,gt=new Jt,St=()=>{const o=l.Promise.resolve(void 0);G=()=>{o.then(An)}};var An=()=>{for(var o;o=A();){try{o.h.call(o.g)}catch(f){I(f)}var c=Te;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}Q=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var Sn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function nn(o,c){if(Pt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(L){t:{try{D(c.nodeName);var C=!0;break t}catch{}C=!1}C||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:r1[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&nn.aa.h.call(this)}}N(nn,Pt);var r1={2:"touch",3:"pen",4:"mouse"};nn.prototype.h=function(){nn.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Lo="closure_listenable_"+(1e6*Math.random()|0),s1=0;function a1(o,c,f,g,C){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!g,this.ha=C,this.key=++s1,this.da=this.fa=!1}function zo(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Bo(o){this.src=o,this.g={},this.h=0}Bo.prototype.add=function(o,c,f,g,C){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var z=wc(o,c,g,C);return-1<z?(c=o[z],f||(c.fa=!1)):(c=new a1(c,this.src,V,!!g,C),c.fa=f,o.push(c)),c};function bc(o,c){var f=c.type;if(f in o.g){var g=o.g[f],C=Array.prototype.indexOf.call(g,c,void 0),V;(V=0<=C)&&Array.prototype.splice.call(g,C,1),V&&(zo(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function wc(o,c,f,g){for(var C=0;C<o.length;++C){var V=o[C];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==g)return C}return-1}var Rc="closure_lm_"+(1e6*Math.random()|0),Ic={};function Ym(o,c,f,g,C){if(Array.isArray(c)){for(var V=0;V<c.length;V++)Ym(o,c[V],f,g,C);return null}return f=Zm(f),o&&o[Lo]?o.K(c,f,h(g)?!!g.capture:!1,C):o1(o,c,f,!1,g,C)}function o1(o,c,f,g,C,V){if(!c)throw Error("Invalid event type");var z=h(C)?!!C.capture:!!C,pt=Dc(o);if(pt||(o[Rc]=pt=new Bo(o)),f=pt.add(c,f,g,z,V),f.proxy)return f;if(g=l1(),f.proxy=g,g.src=o,g.listener=f,o.addEventListener)Sn||(C=z),C===void 0&&(C=!1),o.addEventListener(c.toString(),g,C);else if(o.attachEvent)o.attachEvent($m(c.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function l1(){function o(f){return c.call(o.src,o.listener,f)}const c=u1;return o}function Xm(o,c,f,g,C){if(Array.isArray(c))for(var V=0;V<c.length;V++)Xm(o,c[V],f,g,C);else g=h(g)?!!g.capture:!!g,f=Zm(f),o&&o[Lo]?(o=o.i,c=String(c).toString(),c in o.g&&(V=o.g[c],f=wc(V,f,g,C),-1<f&&(zo(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete o.g[c],o.h--)))):o&&(o=Dc(o))&&(c=o.g[c.toString()],o=-1,c&&(o=wc(c,f,g,C)),(f=-1<o?c[o]:null)&&Cc(f))}function Cc(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Lo])bc(c.i,o);else{var f=o.type,g=o.proxy;c.removeEventListener?c.removeEventListener(f,g,o.capture):c.detachEvent?c.detachEvent($m(f),g):c.addListener&&c.removeListener&&c.removeListener(g),(f=Dc(c))?(bc(f,o),f.h==0&&(f.src=null,c[Rc]=null)):zo(o)}}}function $m(o){return o in Ic?Ic[o]:Ic[o]="on"+o}function u1(o,c){if(o.da)o=!0;else{c=new nn(c,this);var f=o.listener,g=o.ha||o.src;o.fa&&Cc(o),o=f.call(g,c)}return o}function Dc(o){return o=o[Rc],o instanceof Bo?o:null}var Nc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zm(o){return typeof o=="function"?o:(o[Nc]||(o[Nc]=function(c){return o.handleEvent(c)}),o[Nc])}function ae(){ge.call(this),this.i=new Bo(this),this.M=this,this.F=null}N(ae,ge),ae.prototype[Lo]=!0,ae.prototype.removeEventListener=function(o,c,f,g){Xm(this,o,c,f,g)};function pe(o,c){var f,g=o.F;if(g)for(f=[];g;g=g.F)f.push(g);if(o=o.M,g=c.type||c,typeof c=="string")c=new Pt(c,o);else if(c instanceof Pt)c.target=c.target||o;else{var C=c;c=new Pt(g,o),b(c,C)}if(C=!0,f)for(var V=f.length-1;0<=V;V--){var z=c.g=f[V];C=jo(z,g,!0,c)&&C}if(z=c.g=o,C=jo(z,g,!0,c)&&C,C=jo(z,g,!1,c)&&C,f)for(V=0;V<f.length;V++)z=c.g=f[V],C=jo(z,g,!1,c)&&C}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],g=0;g<f.length;g++)zo(f[g]);delete o.g[c],o.h--}}this.F=null},ae.prototype.K=function(o,c,f,g){return this.i.add(String(o),c,!1,f,g)},ae.prototype.L=function(o,c,f,g){return this.i.add(String(o),c,!0,f,g)};function jo(o,c,f,g){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var C=!0,V=0;V<c.length;++V){var z=c[V];if(z&&!z.da&&z.capture==f){var pt=z.listener,Wt=z.ha||z.src;z.fa&&bc(o.i,z),C=pt.call(Wt,g)!==!1&&C}}return C&&!g.defaultPrevented}function Jm(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function Wm(o){o.g=Jm(()=>{o.g=null,o.i&&(o.i=!1,Wm(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class c1 extends ge{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Wm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(o){ge.call(this),this.h=o,this.g={}}N(Gs,ge);var tg=[];function eg(o){q(o.g,function(c,f){this.g.hasOwnProperty(f)&&Cc(c)},o),o.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),eg(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oc=l.JSON.stringify,h1=l.JSON.parse,f1=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Vc(){}Vc.prototype.h=null;function ng(o){return o.h||(o.h=o.i())}function ig(){}var Fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mc(){Pt.call(this,"d")}N(Mc,Pt);function xc(){Pt.call(this,"c")}N(xc,Pt);var Fi={},rg=null;function qo(){return rg=rg||new ae}Fi.La="serverreachability";function sg(o){Pt.call(this,Fi.La,o)}N(sg,Pt);function Qs(o){const c=qo();pe(c,new sg(c))}Fi.STAT_EVENT="statevent";function ag(o,c){Pt.call(this,Fi.STAT_EVENT,o),this.stat=c}N(ag,Pt);function ye(o){const c=qo();pe(c,new ag(c,o))}Fi.Ma="timingevent";function og(o,c){Pt.call(this,Fi.Ma,o),this.size=c}N(og,Pt);function Ks(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Ys(){this.g=!0}Ys.prototype.xa=function(){this.g=!1};function d1(o,c,f,g,C,V){o.info(function(){if(o.g)if(V)for(var z="",pt=V.split("&"),Wt=0;Wt<pt.length;Wt++){var ot=pt[Wt].split("=");if(1<ot.length){var oe=ot[0];ot=ot[1];var le=oe.split("_");z=2<=le.length&&le[1]=="type"?z+(oe+"="+ot+"&"):z+(oe+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+c+`
`+f+`
`+z})}function m1(o,c,f,g,C,V,z){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+c+`
`+f+`
`+V+" "+z})}function Rr(o,c,f,g){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+p1(o,f)+(g?" "+g:"")})}function g1(o,c){o.info(function(){return"TIMEOUT: "+c})}Ys.prototype.info=function(){};function p1(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var g=f[o];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var V=C[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<C.length;z++)C[z]=""}}}}return Oc(f)}catch{return c}}var Ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kc;function Go(){}N(Go,Vc),Go.prototype.g=function(){return new XMLHttpRequest},Go.prototype.i=function(){return{}},kc=new Go;function Zn(o,c,f,g){this.j=o,this.i=c,this.l=f,this.R=g||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ug}function ug(){this.i=null,this.g="",this.h=!1}var cg={},Pc={};function Uc(o,c,f){o.L=1,o.v=Yo(bn(c)),o.m=f,o.P=!0,hg(o,null)}function hg(o,c){o.F=Date.now(),Fo(o),o.A=bn(o.v);var f=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),wg(f.i,"t",g),o.C=0,f=o.j.J,o.h=new ug,o.g=Hg(o.j,f?c:null,!o.m),0<o.O&&(o.M=new c1(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,g=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(tg[0]=C.toString()),C=tg);for(var V=0;V<C.length;V++){var z=Ym(f,C[V],g||c.handleEvent,!1,c.h||c);if(!z)break;c.g[z.key]=z}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Qs(),d1(o.i,o.u,o.A,o.l,o.R,o.m)}Zn.prototype.ca=function(o){o=o.target;const c=this.M;c&&wn(o)==3?c.j():this.Y(o)},Zn.prototype.Y=function(o){try{if(o==this.g)t:{const le=wn(this.g);var c=this.g.Ba();const Dr=this.g.Z();if(!(3>le)&&(le!=3||this.g&&(this.h.h||this.g.oa()||Vg(this.g)))){this.J||le!=4||c==7||(c==8||0>=Dr?Qs(3):Qs(2)),Lc(this);var f=this.g.Z();this.X=f;e:if(fg(this)){var g=Vg(this.g);o="";var C=g.length,V=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),Xs(this);var z="";break e}this.h.i=new l.TextDecoder}for(c=0;c<C;c++)this.h.h=!0,o+=this.h.i.decode(g[c],{stream:!(V&&c==C-1)});g.length=0,this.h.g+=o,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,m1(this.i,this.u,this.A,this.l,this.R,le,f),this.o){if(this.T&&!this.K){e:{if(this.g){var pt,Wt=this.g;if((pt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(pt)){var ot=pt;break e}}ot=null}if(f=ot)Rr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zc(this,f);else{this.o=!1,this.s=3,ye(12),Qi(this),Xs(this);break t}}if(this.P){f=!0;let Xe;for(;!this.J&&this.C<z.length;)if(Xe=y1(this,z),Xe==Pc){le==4&&(this.s=4,ye(14),f=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==cg){this.s=4,ye(15),Rr(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else Rr(this.i,this.l,Xe,null),zc(this,Xe);if(fg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),le!=4||z.length!=0||this.h.h||(this.s=1,ye(16),f=!1),this.o=this.o&&f,!f)Rr(this.i,this.l,z,"[Invalid Chunked Response]"),Qi(this),Xs(this);else if(0<z.length&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.ba&&!oe.M&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Fc(oe),oe.M=!0,ye(11))}}else Rr(this.i,this.l,z,null),zc(this,z);le==4&&Qi(this),this.o&&!this.J&&(le==4?zg(this.j,this):(this.o=!1,Fo(this)))}else x1(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),Qi(this),Xs(this)}}}catch{}finally{}};function fg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function y1(o,c){var f=o.C,g=c.indexOf(`
`,f);return g==-1?Pc:(f=Number(c.substring(f,g)),isNaN(f)?cg:(g+=1,g+f>c.length?Pc:(c=c.slice(g,g+f),o.C=g+f,c)))}Zn.prototype.cancel=function(){this.J=!0,Qi(this)};function Fo(o){o.S=Date.now()+o.I,dg(o,o.I)}function dg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ks(m(o.ba,o),c)}function Lc(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Zn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(g1(this.i,this.A),this.L!=2&&(Qs(),ye(17)),Qi(this),this.s=2,Xs(this)):dg(this,this.S-o)};function Xs(o){o.j.G==0||o.J||zg(o.j,o)}function Qi(o){Lc(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,eg(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function zc(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Bc(f.h,o))){if(!o.K&&Bc(f.h,o)&&f.G==3){try{var g=f.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)tl(f),Jo(f);else break t;Gc(f),ye(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ks(m(f.Za,f),6e3));if(1>=pg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Yi(f,11)}else if((o.K||f.g==o)&&tl(f),!v(c))for(C=f.Da.g.parse(c),c=0;c<C.length;c++){let ot=C[c];if(f.T=ot[0],ot=ot[1],f.G==2)if(ot[0]=="c"){f.K=ot[1],f.ia=ot[2];const oe=ot[3];oe!=null&&(f.la=oe,f.j.info("VER="+f.la));const le=ot[4];le!=null&&(f.Aa=le,f.j.info("SVER="+f.Aa));const Dr=ot[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(g=1.5*Dr,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const Xe=o.g;if(Xe){const nl=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nl){var V=g.h;V.g||nl.indexOf("spdy")==-1&&nl.indexOf("quic")==-1&&nl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(jc(V,V.h),V.h=null))}if(g.D){const Qc=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Qc&&(g.ya=Qc,Et(g.I,g.D,Qc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var z=o;if(g.qa=qg(g,g.J?g.ia:null,g.W),z.K){yg(g.h,z);var pt=z,Wt=g.L;Wt&&(pt.I=Wt),pt.B&&(Lc(pt),Fo(pt)),g.g=z}else Ug(g);0<f.i.length&&Wo(f)}else ot[0]!="stop"&&ot[0]!="close"||Yi(f,7);else f.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Yi(f,7):Hc(f):ot[0]!="noop"&&f.l&&f.l.ta(ot),f.v=0)}}Qs(4)}catch{}}var _1=class{constructor(o,c){this.g=o,this.map=c}};function mg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function pg(o){return o.h?1:o.g?o.g.size:0}function Bc(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function jc(o,c){o.g?o.g.add(c):o.h=c}function yg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}mg.prototype.cancel=function(){if(this.i=_g(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function _g(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return M(o.i)}function v1(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,g=0;g<f;g++)c.push(o[g]);return c}c=[],f=0;for(g in o)c[f++]=o[g];return c}function E1(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const g in o)c[f++]=g;return c}}}function vg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=E1(o),g=v1(o),C=g.length,V=0;V<C;V++)c.call(void 0,g[V],f&&f[V],o)}var Eg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function T1(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var g=o[f].indexOf("="),C=null;if(0<=g){var V=o[f].substring(0,g);C=o[f].substring(g+1)}else V=o[f];c(V,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ki(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ki){this.h=o.h,Qo(this,o.j),this.o=o.o,this.g=o.g,Ko(this,o.s),this.l=o.l;var c=o.i,f=new Js;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Tg(this,f),this.m=o.m}else o&&(c=String(o).match(Eg))?(this.h=!1,Qo(this,c[1]||"",!0),this.o=$s(c[2]||""),this.g=$s(c[3]||"",!0),Ko(this,c[4]),this.l=$s(c[5]||"",!0),Tg(this,c[6]||"",!0),this.m=$s(c[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}Ki.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Zs(c,Ag,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Zs(c,Ag,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Zs(f,f.charAt(0)=="/"?b1:S1,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Zs(f,R1)),o.join("")};function bn(o){return new Ki(o)}function Qo(o,c,f){o.j=f?$s(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Ko(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Tg(o,c,f){c instanceof Js?(o.i=c,I1(o.i,o.h)):(f||(c=Zs(c,w1)),o.i=new Js(c,o.h))}function Et(o,c,f){o.i.set(c,f)}function Yo(o){return Et(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function $s(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Zs(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,A1),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function A1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ag=/[#\/\?@]/g,S1=/[#\?:]/g,b1=/[#\?]/g,w1=/[#\?@]/g,R1=/#/g;function Js(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Jn(o){o.g||(o.g=new Map,o.h=0,o.i&&T1(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Js.prototype,e.add=function(o,c){Jn(this),this.i=null,o=Ir(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Sg(o,c){Jn(o),c=Ir(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function bg(o,c){return Jn(o),c=Ir(o,c),o.g.has(c)}e.forEach=function(o,c){Jn(this),this.g.forEach(function(f,g){f.forEach(function(C){o.call(c,C,g,this)},this)},this)},e.na=function(){Jn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let g=0;g<c.length;g++){const C=o[g];for(let V=0;V<C.length;V++)f.push(c[g])}return f},e.V=function(o){Jn(this);let c=[];if(typeof o=="string")bg(this,o)&&(c=c.concat(this.g.get(Ir(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return Jn(this),this.i=null,o=Ir(this,o),bg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function wg(o,c,f){Sg(o,c),0<f.length&&(o.i=null,o.g.set(Ir(o,c),M(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var g=c[f];const V=encodeURIComponent(String(g)),z=this.V(g);for(g=0;g<z.length;g++){var C=V;z[g]!==""&&(C+="="+encodeURIComponent(String(z[g]))),o.push(C)}}return this.i=o.join("&")};function Ir(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function I1(o,c){c&&!o.j&&(Jn(o),o.i=null,o.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(Sg(this,g),wg(this,C,f))},o)),o.j=c}function C1(o,c){const f=new Ys;if(l.Image){const g=new Image;g.onload=_(Wn,f,"TestLoadImage: loaded",!0,c,g),g.onerror=_(Wn,f,"TestLoadImage: error",!1,c,g),g.onabort=_(Wn,f,"TestLoadImage: abort",!1,c,g),g.ontimeout=_(Wn,f,"TestLoadImage: timeout",!1,c,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else c(!1)}function D1(o,c){const f=new Ys,g=new AbortController,C=setTimeout(()=>{g.abort(),Wn(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:g.signal}).then(V=>{clearTimeout(C),V.ok?Wn(f,"TestPingServer: ok",!0,c):Wn(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),Wn(f,"TestPingServer: error",!1,c)})}function Wn(o,c,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function N1(){this.g=new f1}function O1(o,c,f){const g=f||"";try{vg(o,function(C,V){let z=C;h(C)&&(z=Oc(C)),c.push(g+V+"="+encodeURIComponent(z))})}catch(C){throw c.push(g+"type="+encodeURIComponent("_badmap")),C}}function Xo(o){this.l=o.Ub||null,this.j=o.eb||!1}N(Xo,Vc),Xo.prototype.g=function(){return new $o(this.l,this.j)},Xo.prototype.i=function(o){return function(){return o}}({});function $o(o,c){ae.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N($o,ae),e=$o.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,ta(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Ws(this):ta(this),this.readyState==3&&Rg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Ws(this))},e.Qa=function(o){this.g&&(this.response=o,Ws(this))},e.ga=function(){this.g&&Ws(this)};function Ws(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ta(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function ta(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty($o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ig(o){let c="";return q(o,function(f,g){c+=g,c+=":",c+=f,c+=`\r
`}),c}function qc(o,c,f){t:{for(g in f){var g=!1;break t}g=!0}g||(f=Ig(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Et(o,c,f))}function Nt(o){ae.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Nt,ae);var V1=/^https?$/i,M1=["POST","PUT"];e=Nt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kc.g(),this.v=this.o?ng(this.o):ng(kc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){Cg(this,V);return}if(o=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const V of g.keys())f.set(V,g.get(V));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(M1,c,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of f)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Og(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){Cg(this,V)}};function Cg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Dg(o),Zo(o)}function Dg(o){o.A||(o.A=!0,pe(o,"complete"),pe(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,pe(this,"complete"),pe(this,"abort"),Zo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zo(this,!0)),Nt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ng(this):this.bb())},e.bb=function(){Ng(this)};function Ng(o){if(o.h&&typeof a<"u"&&(!o.v[1]||wn(o)!=4||o.Z()!=2)){if(o.u&&wn(o)==4)Jm(o.Ea,0,o);else if(pe(o,"readystatechange"),wn(o)==4){o.h=!1;try{const z=o.Z();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var g;if(g=z===0){var C=String(o.D).match(Eg)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),g=!V1.test(C?C.toLowerCase():"")}f=g}if(f)pe(o,"complete"),pe(o,"success");else{o.m=6;try{var V=2<wn(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",Dg(o)}}finally{Zo(o)}}}}function Zo(o,c){if(o.g){Og(o);const f=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||pe(o,"ready");try{f.onreadystatechange=g}catch{}}}function Og(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function wn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),h1(c)}};function Vg(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function x1(o){const c={};o=(o.g&&2<=wn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(v(o[g]))continue;var f=R(o[g]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[C]||[];c[C]=V,V.push(f)}E(c,function(g){return g.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Mg(o){this.Aa=0,this.i=[],this.j=new Ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,o),this.cb=ea("retryDelaySeedMs",1e4,o),this.Wa=ea("forwardChannelMaxRetries",2,o),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new mg(o&&o.concurrentRequestLimit),this.Da=new N1,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Mg.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,g){ye(0),this.W=o,this.H=c||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=qg(this,null,this.W),Wo(this)};function Hc(o){if(xg(o),o.G==3){var c=o.U++,f=bn(o.I);if(Et(f,"SID",o.K),Et(f,"RID",c),Et(f,"TYPE","terminate"),na(o,f),c=new Zn(o,o.j,c),c.L=2,c.v=Yo(bn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Hg(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Fo(c)}jg(o)}function Jo(o){o.g&&(Fc(o),o.g.cancel(),o.g=null)}function xg(o){Jo(o),o.u&&(l.clearTimeout(o.u),o.u=null),tl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Wo(o){if(!gg(o.h)&&!o.s){o.s=!0;var c=o.Ga;G||St(),Q||(G(),Q=!0),gt.add(c,o),o.B=0}}function k1(o,c){return pg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ks(m(o.Ga,o,c),Bg(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new Zn(this,this.j,o);let V=this.o;if(this.S&&(V?(V=y(V),b(V,this.S)):V=this.S),this.m!==null||this.O||(C.H=V,V=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Pg(this,C,c),f=bn(this.I),Et(f,"RID",o),Et(f,"CVER",22),this.D&&Et(f,"X-HTTP-Session-Id",this.D),na(this,f),V&&(this.O?c="headers="+encodeURIComponent(String(Ig(V)))+"&"+c:this.m&&qc(f,this.m,V)),jc(this.h,C),this.Ua&&Et(f,"TYPE","init"),this.P?(Et(f,"$req",c),Et(f,"SID","null"),C.T=!0,Uc(C,f,null)):Uc(C,f,c),this.G=2}}else this.G==3&&(o?kg(this,o):this.i.length==0||gg(this.h)||kg(this))};function kg(o,c){var f;c?f=c.l:f=o.U++;const g=bn(o.I);Et(g,"SID",o.K),Et(g,"RID",f),Et(g,"AID",o.T),na(o,g),o.m&&o.o&&qc(g,o.m,o.o),f=new Zn(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Pg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),jc(o.h,f),Uc(f,g,c)}function na(o,c){o.H&&q(o.H,function(f,g){Et(c,g,f)}),o.l&&vg({},function(f,g){Et(c,g,f)})}function Pg(o,c,f){f=Math.min(o.i.length,f);var g=o.l?m(o.l.Na,o.l,o):null;t:{var C=o.i;let V=-1;for(;;){const z=["count="+f];V==-1?0<f?(V=C[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let pt=!0;for(let Wt=0;Wt<f;Wt++){let ot=C[Wt].g;const oe=C[Wt].map;if(ot-=V,0>ot)V=Math.max(0,C[Wt].g-100),pt=!1;else try{O1(oe,z,"req"+ot+"_")}catch{g&&g(oe)}}if(pt){g=z.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,g}function Ug(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;G||St(),Q||(G(),Q=!0),gt.add(c,o),o.v=0}}function Gc(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ks(m(o.Fa,o),Bg(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Lg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ks(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),Jo(this),Lg(this))};function Fc(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Lg(o){o.g=new Zn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=bn(o.qa);Et(c,"RID","rpc"),Et(c,"SID",o.K),Et(c,"AID",o.T),Et(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Et(c,"TO",o.ja),Et(c,"TYPE","xmlhttp"),na(o,c),o.m&&o.o&&qc(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Yo(bn(c)),f.m=null,f.P=!0,hg(f,o)}e.Za=function(){this.C!=null&&(this.C=null,Jo(this),Gc(this),ye(19))};function tl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function zg(o,c){var f=null;if(o.g==c){tl(o),Fc(o),o.g=null;var g=2}else if(Bc(o.h,c))f=c.D,yg(o.h,c),g=1;else return;if(o.G!=0){if(c.o)if(g==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var C=o.B;g=qo(),pe(g,new og(g,f)),Wo(o)}else Ug(o);else if(C=c.s,C==3||C==0&&0<c.X||!(g==1&&k1(o,c)||g==2&&Gc(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),C){case 1:Yi(o,5);break;case 4:Yi(o,10);break;case 3:Yi(o,6);break;default:Yi(o,2)}}}function Bg(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function Yi(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),g=o.Xa;const C=!g;g=new Ki(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Qo(g,"https"),Yo(g),C?C1(g.toString(),f):D1(g.toString(),f)}else ye(2);o.G=0,o.l&&o.l.sa(c),jg(o),xg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function jg(o){if(o.G=0,o.ka=[],o.l){const c=_g(o.h);(c.length!=0||o.i.length!=0)&&(O(o.ka,c),O(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function qg(o,c,f){var g=f instanceof Ki?bn(f):new Ki(f);if(g.g!="")c&&(g.g=c+"."+g.g),Ko(g,g.s);else{var C=l.location;g=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;var V=new Ki(null);g&&Qo(V,g),c&&(V.g=c),C&&Ko(V,C),f&&(V.l=f),g=V}return f=o.D,c=o.ya,f&&c&&Et(g,f,c),Et(g,"VER",o.la),na(o,g),g}function Hg(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Nt(new Xo({eb:f})):new Nt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gg(){}e=Gg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function el(){}el.prototype.g=function(o,c){return new Ce(o,c)};function Ce(o,c){ae.call(this),this.g=new Mg(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Cr(this)}N(Ce,ae),Ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ce.prototype.close=function(){Hc(this.g)},Ce.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Oc(o),o=f);c.i.push(new _1(c.Ya++,o)),c.G==3&&Wo(c)},Ce.prototype.N=function(){this.g.l=null,delete this.j,Hc(this.g),delete this.g,Ce.aa.N.call(this)};function Fg(o){Mc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}N(Fg,Mc);function Qg(){xc.call(this),this.status=1}N(Qg,xc);function Cr(o){this.g=o}N(Cr,Gg),Cr.prototype.ua=function(){pe(this.g,"a")},Cr.prototype.ta=function(o){pe(this.g,new Fg(o))},Cr.prototype.sa=function(o){pe(this.g,new Qg)},Cr.prototype.ra=function(){pe(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Ce.prototype.send=Ce.prototype.o,Ce.prototype.open=Ce.prototype.m,Ce.prototype.close=Ce.prototype.close,n0=function(){return new el},e0=function(){return qo()},t0=Fi,jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Ul=Ho,lg.COMPLETE="complete",WT=lg,ig.EventType=Fs,Fs.OPEN="a",Fs.CLOSE="b",Fs.ERROR="c",Fs.MESSAGE="d",ae.prototype.listen=ae.prototype.K,ga=ig,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,JT=Nt}).apply(typeof _l<"u"?_l:typeof self<"u"?self:typeof window<"u"?window:{});const Ny="@firebase/firestore",Oy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ce.UNAUTHENTICATED=new ce(null),ce.GOOGLE_CREDENTIALS=new ce("google-credentials-uid"),ce.FIRST_PARTY=new ce("first-party-uid"),ce.MOCK_USER=new ce("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new om("@firebase/firestore");function Pr(){return gr.logLevel}function j(e,...t){if(gr.logLevel<=nt.DEBUG){const n=t.map(cm);gr.debug(`Firestore (${zs}): ${e}`,...n)}}function Fn(e,...t){if(gr.logLevel<=nt.ERROR){const n=t.map(cm);gr.error(`Firestore (${zs}): ${e}`,...n)}}function bs(e,...t){if(gr.logLevel<=nt.WARN){const n=t.map(cm);gr.warn(`Firestore (${zs}): ${e}`,...n)}}function cm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,i0(e,i,n)}function i0(e,t,n){let i=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Fn(i),new Error(i)}function ct(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||i0(t,r,i)}function Z(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends $n{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ce.UNAUTHENTICATED))}shutdown(){}}class _2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v2{constructor(t){this.t=t,this.currentUser=ce.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ct(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oi,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oi)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new r0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ct(t===null||typeof t=="string",2055,{h:t}),new ce(t)}}class E2{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=ce.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T2{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new E2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ce.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ze(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ct(this.o===void 0,3512);const i=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,j("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Vy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=S2(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function it(e,t){return e<t?-1:e>t?1:0}function qf(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return Mh(r)===Mh(s)?it(r,s):Mh(r)?1:-1}return it(e.length,t.length)}const b2=55296,w2=57343;function Mh(e){const t=e.charCodeAt(0);return t>=b2&&t<=w2}function ws(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="__name__";class sn{constructor(t,n,i){n===void 0?n=0:n>t.length&&K(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&K(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return sn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=sn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return it(t.length,n.length)}static compareSegments(t,n){const i=sn.isNumericId(t),r=sn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?sn.extractNumericId(t).compare(sn.extractNumericId(n)):qf(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ni.fromString(t.substring(4,t.length-2))}}class Ct extends sn{construct(t,n,i){return new Ct(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const R2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ie extends sn{construct(t,n,i){return new ie(t,n,i)}static isValidIdentifier(t){return R2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ie.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===My}static keyField(){return new ie([My])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new H(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new H(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ie(n)}static emptyPath(){return new ie([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.path=t}static fromPath(t){return new F(Ct.fromString(t))}static fromName(t){return new F(Ct.fromString(t).popFirst(5))}static empty(){return new F(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ct.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ct.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new F(new Ct(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(e,t,n){if(!n)throw new H(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function C2(e,t,n,i){if(t===!0&&i===!0)throw new H(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xy(e){if(!F.isDocumentKey(e))throw new H(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function s0(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function fm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":K(12329,{type:typeof e})}function no(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fm(e);throw new H(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e,t){const n={typeString:e};return t&&(n.value=t),n}function No(e,t){if(!s0(e))throw new H(P.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new H(P.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-62135596800,Py=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(t){return Tt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Py);return new Tt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<ky)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Py}_compareTo(t){return this.seconds===t.seconds?it(this.nanoseconds,t.nanoseconds):it(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(No(t,Tt._jsonSchema))return new Tt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ky;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:zt("string",Tt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(t){return new $(t)}static min(){return new $(new Tt(0,0))}static max(){return new $(new Tt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function D2(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new Pi(r,F.empty(),t)}function N2(e){return new Pi(e.readTime,e.key,io)}class Pi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Pi($.min(),F.empty(),io)}static max(){return new Pi($.max(),F.empty(),io)}}function O2(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=F.comparator(e.documentKey,t.documentKey),n!==0?n:it(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==V2)throw e;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new x((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):x.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):x.reject(n)}static resolve(t){return new x((n,i)=>{n(t)})}static reject(t){return new x((n,i)=>{i(t)})}static waitFor(t){return new x((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=x.resolve(!1);for(const i of t)n=n.next(r=>r?x.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new x((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new x((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function x2(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function js(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=-1;function uc(e){return e==null}function wu(e){return e===0&&1/e==-1/0}function k2(e){return typeof e=="number"&&Number.isInteger(e)&&!wu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="";function P2(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Uy(t)),t=U2(e.get(n),t);return Uy(t)}function U2(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case a0:n+="";break;default:n+=s}}return n}function Uy(e){return e+a0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ar(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function o0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,n){this.comparator=t,this.root=n||ee.EMPTY}insert(t,n){return new Dt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ee.BLACK,null,null))}remove(t){return new Dt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ee.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vl(this.root,t,this.comparator,!1)}getReverseIterator(){return new vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vl(this.root,t,this.comparator,!0)}}class vl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ee{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ee.RED,this.left=r??ee.EMPTY,this.right=s??ee.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ee(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ee.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ee.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ee.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ee.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw K(27949);return t+(this.isRed()?0:1)}}ee.EMPTY=null,ee.RED=!0,ee.BLACK=!1;ee.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new ee(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.comparator=t,this.data=new Dt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new zy(this.data.getIterator())}getIteratorFrom(t){return new zy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Gt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Gt(this.comparator);return n.data=t,n}}class zy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.fields=t,t.sort(ie.comparator)}static empty(){return new Je([])}unionWith(t){let n=new Gt(ie.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Je(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ws(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new l0("Invalid base64 string: "+s):s}}(t);return new se(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new se(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return it(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}se.EMPTY_BYTE_STRING=new se("");const L2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(e){if(ct(!!e,39018),typeof e=="string"){let t=0;const n=L2.exec(e);if(ct(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:kt(e.seconds),nanos:kt(e.nanos)}}function kt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Li(e){return typeof e=="string"?se.fromBase64String(e):se.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="server_timestamp",c0="__type__",h0="__previous_value__",f0="__local_write_time__";function mm(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[c0])==null?void 0:i.stringValue)===u0}function cc(e){const t=e.mapValue.fields[h0];return mm(t)?cc(t):t}function ro(e){const t=Ui(e.mapValue.fields[f0].timestampValue);return new Tt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Ru="(default)";class so{constructor(t,n){this.projectId=t,this.database=n||Ru}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===Ru}isEqual(t){return t instanceof so&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="__type__",B2="__max__",El={mapValue:{}},m0="__vector__",Iu="value";function zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mm(e)?4:q2(e)?9007199254740991:j2(e)?10:11:K(28295,{value:e})}function _n(e,t){if(e===t)return!0;const n=zi(e);if(n!==zi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ro(e).isEqual(ro(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Ui(r.timestampValue),l=Ui(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return Li(r.bytesValue).isEqual(Li(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return kt(r.geoPointValue.latitude)===kt(s.geoPointValue.latitude)&&kt(r.geoPointValue.longitude)===kt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return kt(r.integerValue)===kt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=kt(r.doubleValue),l=kt(s.doubleValue);return a===l?wu(a)===wu(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return ws(e.arrayValue.values||[],t.arrayValue.values||[],_n);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Ly(a)!==Ly(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!_n(a[u],l[u])))return!1;return!0}(e,t);default:return K(52216,{left:e})}}function ao(e,t){return(e.values||[]).find(n=>_n(n,t))!==void 0}function Rs(e,t){if(e===t)return 0;const n=zi(e),i=zi(t);if(n!==i)return it(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=kt(s.integerValue||s.doubleValue),u=kt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return By(e.timestampValue,t.timestampValue);case 4:return By(ro(e),ro(t));case 5:return qf(e.stringValue,t.stringValue);case 6:return function(s,a){const l=Li(s),u=Li(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=it(l[h],u[h]);if(d!==0)return d}return it(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=it(kt(s.latitude),kt(a.latitude));return l!==0?l:it(kt(s.longitude),kt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return jy(e.arrayValue,t.arrayValue);case 10:return function(s,a){var m,_,N,M;const l=s.fields||{},u=a.fields||{},h=(m=l[Iu])==null?void 0:m.arrayValue,d=(_=u[Iu])==null?void 0:_.arrayValue,p=it(((N=h==null?void 0:h.values)==null?void 0:N.length)||0,((M=d==null?void 0:d.values)==null?void 0:M.length)||0);return p!==0?p:jy(h,d)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===El.mapValue&&a===El.mapValue)return 0;if(s===El.mapValue)return 1;if(a===El.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=qf(u[p],d[p]);if(m!==0)return m;const _=Rs(l[u[p]],h[d[p]]);if(_!==0)return _}return it(u.length,d.length)}(e.mapValue,t.mapValue);default:throw K(23264,{he:n})}}function By(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return it(e,t);const n=Ui(e),i=Ui(t),r=it(n.seconds,i.seconds);return r!==0?r:it(n.nanos,i.nanos)}function jy(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Rs(n[r],i[r]);if(s)return s}return it(n.length,i.length)}function Is(e){return Hf(e)}function Hf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ui(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Li(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return F.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Hf(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Hf(n.fields[a])}`;return r+"}"}(e.mapValue):K(61005,{value:e})}function Ll(e){switch(zi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cc(e);return t?16+Ll(t):16;case 5:return 2*e.stringValue.length;case 6:return Li(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Ll(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Ar(i.fields,(s,a)=>{r+=s.length+Ll(a)}),r}(e.mapValue);default:throw K(13486,{value:e})}}function Gf(e){return!!e&&"integerValue"in e}function gm(e){return!!e&&"arrayValue"in e}function qy(e){return!!e&&"nullValue"in e}function Hy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zl(e){return!!e&&"mapValue"in e}function j2(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[d0])==null?void 0:i.stringValue)===m0}function ka(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ar(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ka(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ka(e.arrayValue.values[n]);return t}return{...e}}function q2(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===B2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.value=t}static empty(){return new Ge({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!zl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ka(n)}setAll(t){let n=ie.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=ka(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _n(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];zl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Ar(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ge(ka(this.value))}}function g0(e){const t=[];return Ar(e.fields,(n,i)=>{const r=new ie([n]);if(zl(i)){const s=g0(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new Je(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new he(t,0,$.min(),$.min(),$.min(),Ge.empty(),0)}static newFoundDocument(t,n,i,r){return new he(t,1,n,$.min(),i,r,0)}static newNoDocument(t,n){return new he(t,2,n,$.min(),$.min(),Ge.empty(),0)}static newUnknownDocument(t,n){return new he(t,3,n,$.min(),$.min(),Ge.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ge.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ge.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof he&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new he(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n){this.position=t,this.inclusive=n}}function Gy(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=F.comparator(F.fromName(a.referenceValue),n.key):i=Rs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_n(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,n="asc"){this.field=t,this.dir=n}}function H2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{}class Ht extends p0{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new F2(t,n,i):n==="array-contains"?new Y2(t,i):n==="in"?new X2(t,i):n==="not-in"?new $2(t,i):n==="array-contains-any"?new Z2(t,i):new Ht(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new Q2(t,i):new K2(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rs(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends p0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new vn(t,n)}matches(t){return y0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y0(e){return e.op==="and"}function _0(e){return G2(e)&&y0(e)}function G2(e){for(const t of e.filters)if(t instanceof vn)return!1;return!0}function Ff(e){if(e instanceof Ht)return e.field.canonicalString()+e.op.toString()+Is(e.value);if(_0(e))return e.filters.map(t=>Ff(t)).join(",");{const t=e.filters.map(n=>Ff(n)).join(",");return`${e.op}(${t})`}}function v0(e,t){return e instanceof Ht?function(i,r){return r instanceof Ht&&i.op===r.op&&i.field.isEqual(r.field)&&_n(i.value,r.value)}(e,t):e instanceof vn?function(i,r){return r instanceof vn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&v0(a,r.filters[l]),!0):!1}(e,t):void K(19439)}function E0(e){return e instanceof Ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Is(n.value)}`}(e):e instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(E0).join(" ,")+"}"}(e):"Filter"}class F2 extends Ht{constructor(t,n,i){super(t,n,i),this.key=F.fromName(i.referenceValue)}matches(t){const n=F.comparator(t.key,this.key);return this.matchesComparison(n)}}class Q2 extends Ht{constructor(t,n){super(t,"in",n),this.keys=T0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class K2 extends Ht{constructor(t,n){super(t,"not-in",n),this.keys=T0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function T0(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>F.fromName(i.referenceValue))}class Y2 extends Ht{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gm(n)&&ao(n.arrayValue,this.value)}}class X2 extends Ht{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ao(this.value.arrayValue,n)}}class $2 extends Ht{constructor(t,n){super(t,"not-in",n)}matches(t){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ao(this.value.arrayValue,n)}}class Z2 extends Ht{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ao(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function Qy(e,t=null,n=[],i=[],r=null,s=null,a=null){return new J2(e,t,n,i,r,s,a)}function pm(e){const t=Z(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Ff(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),uc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Is(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Is(i)).join(",")),t.Te=n}return t.Te}function ym(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!H2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!v0(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fy(e.startAt,t.startAt)&&Fy(e.endAt,t.endAt)}function Qf(e){return F.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function W2(e,t,n,i,r,s,a,l){return new hc(e,t,n,i,r,s,a,l)}function _m(e){return new hc(e)}function Ky(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function tI(e){return e.collectionGroup!==null}function Pa(e){const t=Z(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Gt(ie.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Du(s,i))}),n.has(ie.keyField().canonicalString())||t.Ie.push(new Du(ie.keyField(),i))}return t.Ie}function hn(e){const t=Z(e);return t.Ee||(t.Ee=eI(t,Pa(e))),t.Ee}function eI(e,t){if(e.limitType==="F")return Qy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Du(r.field,s)});const n=e.endAt?new Cu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Cu(e.startAt.position,e.startAt.inclusive):null;return Qy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Kf(e,t,n){return new hc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fc(e,t){return ym(hn(e),hn(t))&&e.limitType===t.limitType}function A0(e){return`${pm(hn(e))}|lt:${e.limitType}`}function Ur(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>E0(r)).join(", ")}]`),uc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Is(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Is(r)).join(",")),`Target(${i})`}(hn(e))}; limitType=${e.limitType})`}function dc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):F.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Pa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=Gy(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,Pa(i),r)||i.endAt&&!function(a,l,u){const h=Gy(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,Pa(i),r))}(e,t)}function nI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function S0(e){return(t,n)=>{let i=!1;for(const r of Pa(e)){const s=iI(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function iI(e,t,n){const i=e.field.isKeyField()?F.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Rs(u,h):K(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return K(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ar(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return o0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Dt(F.comparator);function Qn(){return rI}const b0=new Dt(F.comparator);function pa(...e){let t=b0;for(const n of e)t=t.insert(n.key,n);return t}function w0(e){let t=b0;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function tr(){return Ua()}function R0(){return Ua()}function Ua(){return new Sr(e=>e.toString(),(e,t)=>e.isEqual(t))}const sI=new Dt(F.comparator),aI=new Gt(F.comparator);function rt(...e){let t=aI;for(const n of e)t=t.add(n);return t}const oI=new Gt(it);function lI(){return oI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(t)?"-0":t}}function I0(e){return{integerValue:""+e}}function uI(e,t){return k2(t)?I0(t):vm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this._=void 0}}function cI(e,t,n){return e instanceof Nu?function(r,s){const a={fields:{[c0]:{stringValue:u0},[f0]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&mm(s)&&(s=cc(s)),s&&(a.fields[h0]=s),{mapValue:a}}(n,t):e instanceof oo?D0(e,t):e instanceof lo?N0(e,t):function(r,s){const a=C0(r,s),l=Yy(a)+Yy(r.Ae);return Gf(a)&&Gf(r.Ae)?I0(l):vm(r.serializer,l)}(e,t)}function hI(e,t,n){return e instanceof oo?D0(e,t):e instanceof lo?N0(e,t):n}function C0(e,t){return e instanceof Ou?function(i){return Gf(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Nu extends mc{}class oo extends mc{constructor(t){super(),this.elements=t}}function D0(e,t){const n=O0(t);for(const i of e.elements)n.some(r=>_n(r,i))||n.push(i);return{arrayValue:{values:n}}}class lo extends mc{constructor(t){super(),this.elements=t}}function N0(e,t){let n=O0(t);for(const i of e.elements)n=n.filter(r=>!_n(r,i));return{arrayValue:{values:n}}}class Ou extends mc{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Yy(e){return kt(e.integerValue||e.doubleValue)}function O0(e){return gm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function fI(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof oo&&r instanceof oo||i instanceof lo&&r instanceof lo?ws(i.elements,r.elements,_n):i instanceof Ou&&r instanceof Ou?_n(i.Ae,r.Ae):i instanceof Nu&&r instanceof Nu}(e.transform,t.transform)}class dI{constructor(t,n){this.version=t,this.transformResults=n}}class zn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gc{}function V0(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new x0(e.key,zn.none()):new Oo(e.key,e.data,zn.none());{const n=e.data,i=Ge.empty();let r=new Gt(ie.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new br(e.key,i,new Je(r.toArray()),zn.none())}}function mI(e,t,n){e instanceof Oo?function(r,s,a){const l=r.value.clone(),u=$y(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof br?function(r,s,a){if(!Bl(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=$y(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(M0(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function La(e,t,n,i){return e instanceof Oo?function(s,a,l,u){if(!Bl(s.precondition,a))return l;const h=s.value.clone(),d=Zy(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof br?function(s,a,l,u){if(!Bl(s.precondition,a))return l;const h=Zy(s.fieldTransforms,u,a),d=a.data;return d.setAll(M0(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,a,l){return Bl(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function gI(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=C0(i.transform,r||null);s!=null&&(n===null&&(n=Ge.empty()),n.set(i.field,s))}return n||null}function Xy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ws(i,r,(s,a)=>fI(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Oo extends gc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class br extends gc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M0(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function $y(e,t,n){const i=new Map;ct(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,hI(a,l,n[r]))}return i}function Zy(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,cI(s,a,t))}return i}class x0 extends gc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pI extends gc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&mI(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=La(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=La(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=R0();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=V0(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&ws(this.mutations,t.mutations,(n,i)=>Xy(n,i))&&ws(this.baseMutations,t.baseMutations,(n,i)=>Xy(n,i))}}class Em{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){ct(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return sI}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Em(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,st;function EI(e){switch(e){case P.OK:return K(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return K(15467,{code:e})}}function k0(e){if(e===void 0)return Fn("GRPC error has no .code"),P.UNKNOWN;switch(e){case Ut.OK:return P.OK;case Ut.CANCELLED:return P.CANCELLED;case Ut.UNKNOWN:return P.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return P.INTERNAL;case Ut.UNAVAILABLE:return P.UNAVAILABLE;case Ut.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ut.NOT_FOUND:return P.NOT_FOUND;case Ut.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ut.ABORTED:return P.ABORTED;case Ut.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ut.DATA_LOSS:return P.DATA_LOSS;default:return K(39323,{code:e})}}(st=Ut||(Ut={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Ni([4294967295,4294967295],0);function Jy(e){const t=TI().encode(e),n=new ZT;return n.update(t),new Uint8Array(n.digest())}function Wy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ni([n,i],0),new Ni([r,s],0)]}class Tm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ya(`Invalid padding: ${n}`);if(i<0)throw new ya(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ya(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ni.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(Ni.fromNumber(i)));return r.compare(AI)===1&&(r=new Ni([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Jy(t),[i,r]=Wy(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Tm(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.ge===0)return;const n=Jy(t),[i,r]=Wy(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Vo.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new pc($.min(),r,new Dt(it),Qn(),rt())}}class Vo{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Vo(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n,i,r){this.be=t,this.removedTargetIds=n,this.key=i,this.De=r}}class P0{constructor(t,n){this.targetId=t,this.Ce=n}}class U0{constructor(t,n,i=se.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class t_{constructor(){this.ve=0,this.Fe=e_(),this.Me=se.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=rt(),n=rt(),i=rt();return this.Fe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:K(38017,{changeType:s})}}),new Vo(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=e_()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qn(),this.Je=Tl(),this.He=Tl(),this.Ye=new Dt(it)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:K(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const s=r.target;if(Qf(s))if(i===0){const a=new F(s.path);this.et(n,a,he.newNoDocument(a,$.min()))}else ct(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(t),u=l?this.ct(l,t,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Li(i).toUint8Array()}catch(u){if(u instanceof l0)return bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Tm(a,r,s)}catch(u){return bs(u instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(t){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Qf(l.target)){const u=new F(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,he.newNoDocument(u,t))}s.Be&&(n.set(a,s.ke()),s.qe())}});let i=rt();this.He.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(t));const r=new pc(t,n,this.Ye,this.je,i);return this.je=Qn(),this.Je=Tl(),this.He=Tl(),this.Ye=new Dt(it),r}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new t_,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Gt(it),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Gt(it),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||j("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new t_),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Tl(){return new Dt(F.comparator)}function e_(){return new Dt(F.comparator)}const bI={asc:"ASCENDING",desc:"DESCENDING"},wI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RI={and:"AND",or:"OR"};class II{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Yf(e,t){return e.useProto3Json||uc(t)?t:{value:t}}function Vu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function L0(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function CI(e,t){return Vu(e,t.toTimestamp())}function fn(e){return ct(!!e,49232),$.fromTimestamp(function(n){const i=Ui(n);return new Tt(i.seconds,i.nanos)}(e))}function Am(e,t){return Xf(e,t).canonicalString()}function Xf(e,t){const n=function(r){return new Ct(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function z0(e){const t=Ct.fromString(e);return ct(G0(t),10190,{key:t.toString()}),t}function $f(e,t){return Am(e.databaseId,t.path)}function xh(e,t){const n=z0(t);if(n.get(1)!==e.databaseId.projectId)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new F(j0(n))}function B0(e,t){return Am(e.databaseId,t)}function DI(e){const t=z0(e);return t.length===4?Ct.emptyPath():j0(t)}function Zf(e){return new Ct(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function j0(e){return ct(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function n_(e,t,n){return{name:$f(e,t),fields:n.value.mapValue.fields}}function NI(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:K(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(ct(d===void 0||typeof d=="string",58123),se.fromBase64String(d||"")):(ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),se.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?P.UNKNOWN:k0(h.code);return new H(d,h.message||"")}(a);n=new U0(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=xh(e,i.document.name),s=fn(i.document.updateTime),a=i.document.createTime?fn(i.document.createTime):$.min(),l=new Ge({mapValue:{fields:i.document.fields}}),u=he.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new jl(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=xh(e,i.document),s=i.readTime?fn(i.readTime):$.min(),a=he.newNoDocument(r,s),l=i.removedTargetIds||[];n=new jl([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=xh(e,i.document),s=i.removedTargetIds||[];n=new jl([],s,r,null)}else{if(!("filter"in t))return K(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new vI(r,s),l=i.targetId;n=new P0(l,a)}}return n}function OI(e,t){let n;if(t instanceof Oo)n={update:n_(e,t.key,t.value)};else if(t instanceof x0)n={delete:$f(e,t.key)};else if(t instanceof br)n={update:n_(e,t.key,t.data),updateMask:BI(t.fieldMask)};else{if(!(t instanceof pI))return K(16599,{Vt:t.type});n={verify:$f(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Nu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof lo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ou)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw K(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:CI(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K(27497)}(e,t.precondition)),n}function VI(e,t){return e&&e.length>0?(ct(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?fn(r.updateTime):fn(s);return a.isEqual($.min())&&(a=fn(s)),new dI(a,r.transformResults||[])}(n,t))):[]}function MI(e,t){return{documents:[B0(e,t.path)]}}function xI(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=B0(e,r);const s=function(h){if(h.length!==0)return H0(vn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Lr(m.field),direction:UI(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Yf(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ft:n,parent:r}}function kI(e){let t=DI(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ct(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=q0(p);return m instanceof vn&&_0(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(N){return new Du(zr(N.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,uc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,_=p.values||[];return new Cu(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,_=p.values||[];return new Cu(_,m)}(n.endAt)),W2(t,r,a,s,l,"F",u,h)}function PI(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function q0(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=zr(n.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=zr(n.unaryFilter.field);return Ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zr(n.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=zr(n.unaryFilter.field);return Ht.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ht.create(zr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(i=>q0(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(n.compositeFilter.op))}(e):K(30097,{filter:e})}function UI(e){return bI[e]}function LI(e){return wI[e]}function zI(e){return RI[e]}function Lr(e){return{fieldPath:e.canonicalString()}}function zr(e){return ie.fromServerFormat(e.fieldPath)}function H0(e){return e instanceof Ht?function(n){if(n.op==="=="){if(Hy(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NAN"}};if(qy(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hy(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NOT_NAN"}};if(qy(n.value))return{unaryFilter:{field:Lr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lr(n.field),op:LI(n.op),value:n.value}}}(e):e instanceof vn?function(n){const i=n.getFilters().map(r=>H0(r));return i.length===1?i[0]:{compositeFilter:{op:zI(n.op),filters:i}}}(e):K(54877,{filter:e})}function BI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function G0(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,n,i,r,s=$.min(),a=$.min(),l=se.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new _i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.yt=t}}function qI(e){const t=kI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Kf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.Cn=new GI}addToCollectionParentIndex(t,n){return this.Cn.add(n),x.resolve()}getCollectionParents(t,n){return x.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return x.resolve()}deleteFieldIndex(t,n){return x.resolve()}deleteAllFieldIndexes(t){return x.resolve()}createTargetIndexes(t,n){return x.resolve()}getDocumentsMatchingTarget(t,n){return x.resolve(null)}getIndexType(t,n){return x.resolve(0)}getFieldIndexes(t,n){return x.resolve([])}getNextCollectionGroupToUpdate(t){return x.resolve(null)}getMinOffset(t,n){return x.resolve(Pi.min())}getMinOffsetFromCollectionGroup(t,n){return x.resolve(Pi.min())}updateCollectionGroup(t,n,i){return x.resolve()}updateIndexEntries(t,n){return x.resolve()}}class GI{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Gt(Ct.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Gt(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F0=41943040;class we{static withCacheSize(t){return new we(t,we.DEFAULT_COLLECTION_PERCENTILE,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */we.DEFAULT_COLLECTION_PERCENTILE=10,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,we.DEFAULT=new we(F0,we.DEFAULT_COLLECTION_PERCENTILE,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),we.DISABLED=new we(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Cs(0)}static cr(){return new Cs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LruGarbageCollector",FI=1048576;function s_([e,t],[n,i]){const r=it(e,n);return r===0?it(t,i):r}class QI{constructor(t){this.Ir=t,this.buffer=new Gt(s_),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();s_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KI{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){j(r_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){js(n)?j(r_,"Ignoring IndexedDB error during garbage collection: ",n):await Bs(n)}await this.Vr(3e5)})}}class YI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return x.resolve(lc.ce);const i=new QI(n);return this.mr.forEachTarget(t,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(t,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(i_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i_):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,l=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(h=Date.now(),Pr()<=nt.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function XI(e,t){return new YI(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.changes=new Sr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,he.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?x.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&La(i.mutation,r,Je.empty(),Tt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const r=tr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=pa();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=tr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=Qn();const a=Ua(),l=function(){return Ua()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof br)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),La(d.mutation,h,d.mutation.getFieldMask(),Tt.now())):a.set(h.key,Je.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>l.set(h,new ZI(d,a.get(h)??null))),l))}recalculateAndSaveOverlays(t,n){const i=Ua();let r=new Dt((a,l)=>a-l),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Je.empty();d=l.applyToLocalView(h,d),i.set(u,d);const p=(r.get(l.batchId)||rt()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=R0();d.forEach(m=>{if(!s.has(m)){const _=V0(n.get(m),i.get(m));_!==null&&p.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,p))}return x.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return F.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):tI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):x.resolve(tr());let l=io,u=s;return a.next(h=>x.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?x.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,rt())).next(d=>({batchId:l,changes:w0(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new F(n)).next(i=>{let r=pa();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=pa();return this.indexManager.getCollectionParents(t,s).next(l=>x.forEach(l,u=>{const h=function(p,m){return new hc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,he.newInvalidDocument(d)))});let l=pa();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&La(d.mutation,h,Je.empty(),Tt.now()),dc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return x.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:fn(r.createTime)}}(n)),x.resolve()}getNamedQuery(t,n){return x.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(r){return{name:r.name,query:qI(r.bundledQuery),readTime:fn(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.overlays=new Dt(F.comparator),this.qr=new Map}getOverlay(t,n){return x.resolve(this.overlays.get(n))}getOverlays(t,n){const i=tr();return x.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),x.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),x.resolve()}getOverlaysForCollection(t,n,i){const r=tr(),s=n.length+1,a=new F(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return x.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Dt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=tr(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=tr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return x.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new _I(n,i));let s=this.qr.get(n);s===void 0&&(s=rt(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.sessionToken=se.EMPTY_BYTE_STRING}getSessionToken(t){return x.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,x.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.Qr=new Gt(Qt.$r),this.Ur=new Gt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Qt(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Qt(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new F(new Ct([])),i=new Qt(n,t),r=new Qt(n,t+1),s=[];return this.Ur.forEachInRange([i,r],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new F(new Ct([])),i=new Qt(n,t),r=new Qt(n,t+1);let s=rt();return this.Ur.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Qt(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Qt{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return F.comparator(t.key,n.key)||it(t.Yr,n.Yr)}static Kr(t,n){return it(t.Yr,n.Yr)||F.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Qt.$r)}checkEmpty(t){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new yI(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new Qt(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return x.resolve(a)}lookupMutationBatch(t,n){return x.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?dm:this.tr-1)}getAllMutationBatches(t){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Qt(n,0),r=new Qt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],a=>{const l=this.Xr(a.Yr);s.push(l)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Gt(it);return n.forEach(r=>{const s=new Qt(r,0),a=new Qt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{i=i.add(l.Yr)})}),x.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;F.isDocumentKey(s)||(s=s.child(""));const a=new Qt(new F(s),0);let l=new Gt(it);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Yr)),!0)},a),x.resolve(this.ti(l))}ti(t){const n=[];return t.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return x.forEach(n.mutations,r=>{const s=new Qt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Qt(n,0),r=this.Zr.firstAfterOrEqual(i);return x.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,x.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.ri=t,this.docs=function(){return new Dt(F.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return x.resolve(i?i.document.mutableCopy():he.newInvalidDocument(n))}getEntries(t,n){let i=Qn();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():he.newInvalidDocument(r))}),x.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Qn();const a=n.path,l=new F(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||O2(N2(d),i)<=0||(r.has(d.key)||dc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(t,n,i,r){K(9500)}ii(t,n){return x.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new rC(this)}getSize(t){return x.resolve(this.size)}}class rC extends $I{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)}),x.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.persistence=t,this.si=new Sr(n=>pm(n),ym),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.oi=0,this._i=new Sm,this.targetCount=0,this.ai=Cs.ur()}forEachTarget(t,n){return this.si.forEach((i,r)=>n(r)),x.resolve()}getLastRemoteSnapshotVersion(t){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return x.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),x.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Cs(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,x.resolve()}updateTargetData(t,n){return this.Pr(n),x.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),x.waitFor(s).next(()=>r)}getTargetCount(t){return x.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return x.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),x.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),x.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),x.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return x.resolve(i)}containsKey(t,n){return x.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t,n){this.ui={},this.overlays={},this.ci=new lc(0),this.li=!1,this.li=!0,this.hi=new eC,this.referenceDelegate=t(this),this.Pi=new sC(this),this.indexManager=new HI,this.remoteDocumentCache=function(r){return new iC(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new jI(n),this.Ii=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new nC(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){j("MemoryPersistence","Starting transaction:",t);const r=new aC(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(t,n){return x.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class aC extends M2{constructor(t){super(),this.currentSequenceNumber=t}}class bm{constructor(t){this.persistence=t,this.Ri=new Sm,this.Vi=null}static mi(t){return new bm(t)}get fi(){if(this.Vi)return this.Vi;throw K(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),x.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),x.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),x.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.fi,i=>{const r=F.fromPath(i);return this.gi(t,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return x.or([()=>x.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Mu{constructor(t,n){this.persistence=t,this.pi=new Sr(i=>P2(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=XI(this,n)}static mi(t,n){return new Mu(t,n)}Ei(){}di(t){return x.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return x.forEach(this.pi,(i,r)=>this.br(t,i,r).next(s=>s?x.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(t,a=>this.br(t,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),x.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),x.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),x.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),x.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ll(t.data.value)),n}br(t,n,i){return x.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.pi.get(n);return x.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=r}static As(t,n){let i=rt(),r=rt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new wm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Zw()?8:x2(me())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ys(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new oC;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.Vs)return this.bs(t,n,a,l.size)})}).next(()=>s.result)}bs(t,n,i,r){return i.documentReadCount<this.fs?(Pr()<=nt.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Ur(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),x.resolve()):(Pr()<=nt.DEBUG&&j("QueryEngine","Query:",Ur(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Pr()<=nt.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Ur(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hn(n))):x.resolve())}ys(t,n){if(Ky(n))return x.resolve(null);let i=hn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Kf(n,null,"F"),i=hn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=rt(...s);return this.ps.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.Ds(n,l);return this.Cs(n,h,a,u.readTime)?this.ys(t,Kf(n,null,"F")):this.vs(t,h,n,u)}))})))}ws(t,n,i,r){return Ky(n)||r.isEqual($.min())?x.resolve(null):this.ps.getDocuments(t,i).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,i,r)?x.resolve(null):(Pr()<=nt.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ur(n)),this.vs(t,a,n,D2(r,io)).next(l=>l))})}Ds(t,n){let i=new Gt(S0(t));return n.forEach((r,s)=>{dc(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return Pr()<=nt.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Ur(n)),this.ps.getDocumentsMatchingQuery(t,n,Pi.min(),i)}vs(t,n,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="LocalStore",uC=3e8;class cC{constructor(t,n,i,r){this.persistence=t,this.Fs=n,this.serializer=r,this.Ms=new Dt(it),this.xs=new Sr(s=>pm(s),ym),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function hC(e,t,n,i){return new cC(e,t,n,i)}async function K0(e,t){const n=Z(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=rt();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Ls:h,removedBatchIds:a,addedBatchIds:l}))})})}function fC(e,t){const n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,m=p.keys();let _=x.resolve();return m.forEach(N=>{_=_.next(()=>d.getEntry(u,N)).next(M=>{const O=h.docVersions.get(N);ct(O!==null,48541),M.version.compareTo(O)<0&&(p.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=rt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function Y0(e){const t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function dC(e,t){const n=Z(e),i=t.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];t.targetChanges.forEach((d,p)=>{const m=r.get(p);if(!m)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,p)));let _=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?_=_.withResumeToken(se.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(p,_),function(M,O,S){return M.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=uC?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,_,d)&&l.push(n.Pi.updateTargetData(s,_))});let u=Qn(),h=rt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(mC(s,a,t.documentUpdates).next(d=>{u=d.ks,h=d.qs})),!i.isEqual($.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return x.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Ms=r,s))}function mC(e,t,n){let i=rt(),r=rt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Qn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):j(Rm,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:a,qs:r}})}function gC(e,t){const n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=dm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function pC(e,t){const n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,t).next(s=>s?(r=s,x.resolve(r)):n.Pi.allocateTargetId(i).next(a=>(r=new _i(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function Jf(e,t,n){const i=Z(e),r=i.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!js(a))throw a;j(Rm,`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function a_(e,t,n){const i=Z(e);let r=$.min(),s=rt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const p=Z(u),m=p.xs.get(d);return m!==void 0?x.resolve(p.Ms.get(m)):p.Pi.getTargetData(h,d)}(i,a,hn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(a,t,n?r:$.min(),n?s:rt())).next(l=>(yC(i,nI(t),l),{documents:l,Qs:s})))}function yC(e,t,n){let i=e.Os.get(t)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Os.set(t,i)}class o_{constructor(){this.activeTargetIds=lI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _C{constructor(){this.Mo=new o_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new o_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="ConnectivityMonitor";class u_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){j(l_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){j(l_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=null;function Wf(){return Al===null?Al=function(){return 268435456+Math.round(2147483648*Math.random())}():Al++,"0x"+Al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Ru?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,n,i,r,s){const a=Wf(),l=this.zo(t,n.toUriEncodedString());j(kh,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:h}=new URL(l),d=Us(h);return this.Jo(t,l,u,i,d).then(p=>(j(kh,`Received RPC '${t}' ${a}: `,p),p),p=>{throw bs(kh,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Ho(t,n,i,r,s,a){return this.Go(t,n,i,r,s)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}zo(t,n){const i=EC[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue="WebChannelConnection";class SC extends TC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=Wf();return new Promise((l,u)=>{const h=new JT;h.setWithCredentials(!0),h.listenOnce(WT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ul.NO_ERROR:const p=h.getResponseJson();j(ue,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Ul.TIMEOUT:j(ue,`RPC '${t}' ${a} timed out`),u(new H(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:const m=h.getStatus();if(j(ue,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const N=_==null?void 0:_.error;if(N&&N.status&&N.message){const M=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(v)>=0?v:P.UNKNOWN}(N.status);u(new H(M,N.message))}else u(new H(P.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new H(P.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{j(ue,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);j(ue,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}T_(t,n,i){const r=Wf(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=n0(),l=e0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");j(ue,`Creating RPC '${t}' stream ${r}: ${d}`,u);const p=a.createWebChannel(d,u);this.I_(p);let m=!1,_=!1;const N=new AC({Yo:O=>{_?j(ue,`Not sending because RPC '${t}' stream ${r} is closed:`,O):(m||(j(ue,`Opening RPC '${t}' stream ${r} transport.`),p.open(),m=!0),j(ue,`RPC '${t}' stream ${r} sending:`,O),p.send(O))},Zo:()=>p.close()}),M=(O,S,v)=>{O.listen(S,w=>{try{v(w)}catch(D){setTimeout(()=>{throw D},0)}})};return M(p,ga.EventType.OPEN,()=>{_||(j(ue,`RPC '${t}' stream ${r} transport opened.`),N.o_())}),M(p,ga.EventType.CLOSE,()=>{_||(_=!0,j(ue,`RPC '${t}' stream ${r} transport closed`),N.a_(),this.E_(p))}),M(p,ga.EventType.ERROR,O=>{_||(_=!0,bs(ue,`RPC '${t}' stream ${r} transport errored. Name:`,O.name,"Message:",O.message),N.a_(new H(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,ga.EventType.MESSAGE,O=>{var S;if(!_){const v=O.data[0];ct(!!v,16349);const w=v,D=(w==null?void 0:w.error)||((S=w[0])==null?void 0:S.error);if(D){j(ue,`RPC '${t}' stream ${r} received error:`,D);const L=D.status;let q=function(T){const b=Ut[T];if(b!==void 0)return k0(b)}(L),E=D.message;q===void 0&&(q=P.INTERNAL,E="Unknown error status: "+L+" with message "+D.message),_=!0,N.a_(new H(q,E)),p.close()}else j(ue,`RPC '${t}' stream ${r} received:`,v),N.u_(v)}}),M(l,t0.STAT_EVENT,O=>{O.stat===jf.PROXY?j(ue,`RPC '${t}' stream ${r} detected buffering proxy`):O.stat===jf.NOPROXY&&j(ue,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(e){return new II(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&j("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="PersistentStream";class $0{constructor(t,n,i,r,s,a,l,u){this.Mi=t,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{t(()=>{const r=new H(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return j(c_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(j(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bC extends $0{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=NI(this.serializer,t),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?fn(a.readTime):$.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=Zf(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Qf(u)?{documents:MI(s,u)}:{query:xI(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=L0(s,a.resumeToken);const h=Yf(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=Vu(s,a.snapshotVersion.toTimestamp());const h=Yf(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=PI(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=Zf(this.serializer),n.removeTarget=t,this.q_(n)}}class wC extends $0{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ct(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ct(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ct(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=VI(t.writeResults,t.commitTime),i=fn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=Zf(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>OI(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{}class IC extends RC{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(t,Xf(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(P.UNKNOWN,s.toString())})}Ho(t,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(t,Xf(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(P.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class CC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fn(n),this.aa=!1):j("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="RemoteStore";class DC{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{i.enqueueAndForget(async()=>{wr(this)&&(j(pr,"Restarting streams for network reachability change."),await async function(u){const h=Z(u);h.Ea.add(4),await Mo(h),h.Ra.set("Unknown"),h.Ea.delete(4),await _c(h)}(this))})}),this.Ra=new CC(i,r)}}async function _c(e){if(wr(e))for(const t of e.da)await t(!0)}async function Mo(e){for(const t of e.da)await t(!1)}function Z0(e,t){const n=Z(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Nm(n)?Dm(n):qs(n).O_()&&Cm(n,t))}function Im(e,t){const n=Z(e),i=qs(n);n.Ia.delete(t),i.O_()&&J0(n,t),n.Ia.size===0&&(i.O_()?i.L_():wr(n)&&n.Ra.set("Unknown"))}function Cm(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qs(e).Y_(t)}function J0(e,t){e.Va.Ue(t),qs(e).Z_(t)}function Dm(e){e.Va=new SI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),qs(e).start(),e.Ra.ua()}function Nm(e){return wr(e)&&!qs(e).x_()&&e.Ia.size>0}function wr(e){return Z(e).Ea.size===0}function W0(e){e.Va=void 0}async function NC(e){e.Ra.set("Online")}async function OC(e){e.Ia.forEach((t,n)=>{Cm(e,t)})}async function VC(e,t){W0(e),Nm(e)?(e.Ra.ha(t),Dm(e)):e.Ra.set("Unknown")}async function MC(e,t,n){if(e.Ra.set("Online"),t instanceof U0&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(e,t)}catch(i){j(pr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await xu(e,i)}else if(t instanceof jl?e.Va.Ze(t):t instanceof P0?e.Va.st(t):e.Va.tt(t),!n.isEqual($.min()))try{const i=await Y0(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(h);d&&s.Ia.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(se.EMPTY_BYTE_STRING,d.snapshotVersion)),J0(s,u);const p=new _i(d.target,u,h,d.sequenceNumber);Cm(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){j(pr,"Failed to raise snapshot:",i),await xu(e,i)}}async function xu(e,t,n){if(!js(t))throw t;e.Ea.add(1),await Mo(e),e.Ra.set("Offline"),n||(n=()=>Y0(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{j(pr,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await _c(e)})}function tA(e,t){return t().catch(n=>xu(e,n,t))}async function vc(e){const t=Z(e),n=Bi(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dm;for(;xC(t);)try{const r=await gC(t.localStore,i);if(r===null){t.Ta.length===0&&n.L_();break}i=r.batchId,kC(t,r)}catch(r){await xu(t,r)}eA(t)&&nA(t)}function xC(e){return wr(e)&&e.Ta.length<10}function kC(e,t){e.Ta.push(t);const n=Bi(e);n.O_()&&n.X_&&n.ea(t.mutations)}function eA(e){return wr(e)&&!Bi(e).x_()&&e.Ta.length>0}function nA(e){Bi(e).start()}async function PC(e){Bi(e).ra()}async function UC(e){const t=Bi(e);for(const n of e.Ta)t.ea(n.mutations)}async function LC(e,t,n){const i=e.Ta.shift(),r=Em.from(i,t,n);await tA(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await vc(e)}async function zC(e,t){t&&Bi(e).X_&&await async function(i,r){if(function(a){return EI(a)&&a!==P.ABORTED}(r.code)){const s=i.Ta.shift();Bi(i).B_(),await tA(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await vc(i)}}(e,t),eA(e)&&nA(e)}async function h_(e,t){const n=Z(e);n.asyncQueue.verifyOperationInProgress(),j(pr,"RemoteStore received new credentials");const i=wr(n);n.Ea.add(3),await Mo(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _c(n)}async function BC(e,t){const n=Z(e);t?(n.Ea.delete(2),await _c(n)):t||(n.Ea.add(2),await Mo(n),n.Ra.set("Unknown"))}function qs(e){return e.ma||(e.ma=function(n,i,r){const s=Z(n);return s.sa(),new bC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:NC.bind(null,e),t_:OC.bind(null,e),r_:VC.bind(null,e),H_:MC.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Nm(e)?Dm(e):e.Ra.set("Unknown")):(await e.ma.stop(),W0(e))})),e.ma}function Bi(e){return e.fa||(e.fa=function(n,i,r){const s=Z(n);return s.sa(),new wC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:PC.bind(null,e),r_:zC.bind(null,e),ta:UC.bind(null,e),na:LC.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await vc(e)):(await e.fa.stop(),e.Ta.length>0&&(j(pr,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new Om(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(e,t){if(Fn("AsyncQueue",`${t}: ${e}`),js(e))return new H(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{static emptySet(t){return new os(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||F.comparator(n.key,i.key):(n,i)=>F.comparator(n.key,i.key),this.keyedMap=pa(),this.sortedSet=new Dt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof os)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new os;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.ga=new Dt(F.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):K(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ds{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ds(t,n,os.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class qC{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=Z(n),s=r.queries;r.queries=d_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new H(P.ABORTED,"Firestore shutting down"))}}function d_(){return new Sr(e=>A0(e),fc)}async function HC(e,t){const n=Z(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.ba()&&t.Da()&&(i=2):(s=new jC,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Vm(a,`Initialization of query '${Ur(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Mm(n)}async function GC(e,t){const n=Z(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.Da()?0:1:!s.ba()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function FC(e,t){const n=Z(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(r)&&(i=!0);a.wa=r}}i&&Mm(n)}function QC(e,t,n){const i=Z(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function Mm(e){e.Ca.forEach(t=>{t.next()})}var td,m_;(m_=td||(td={})).Ma="default",m_.Cache="cache";class KC{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ds(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Ds.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.key=t}}class rA{constructor(t){this.key=t}}class YC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=S0(t),this.tu=new os(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new f_,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,p)=>{const m=r.get(d),_=dc(this.query,p)?p:null,N=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let O=!1;m&&_?m.data.isEqual(_.data)?N!==M&&(i.track({type:3,doc:_}),O=!0):this.su(m,_)||(i.track({type:2,doc:_}),O=!0,(u&&this.eu(_,u)>0||h&&this.eu(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),O=!0):m&&!_&&(i.track({type:1,doc:m}),O=!0,(u||h)&&(l=!0)),O&&(_?(a=a.add(_),s=M?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{tu:a,iu:i,Cs:l,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((d,p)=>function(_,N){const M=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Rt:O})}};return M(_)-M(N)}(d.type,p.type)||this.eu(d.doc,p.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,h=u!==this.Za;return this.Za=u,a.length!==0||h?{snapshot:new Ds(this.query,t.tu,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=rt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new rA(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new iA(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=rt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Ds.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xm="SyncEngine";class XC{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class $C{constructor(t){this.key=t,this.hu=!1}}class ZC{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Sr(l=>A0(l),fc),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(F.comparator),this.Au=new Map,this.Ru=new Sm,this.Vu={},this.mu=new Map,this.fu=Cs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JC(e,t,n=!0){const i=cA(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await sA(i,t,n,!0),r}async function WC(e,t){const n=cA(e);await sA(n,t,!0,!1)}async function sA(e,t,n,i){const r=await pC(e.localStore,hn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await tD(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&Z0(e.remoteStore,r),l}async function tD(e,t,n,i,r){e.pu=(p,m,_)=>async function(M,O,S,v){let w=O.view.ru(S);w.Cs&&(w=await a_(M.localStore,O.query,!1).then(({documents:E})=>O.view.ru(E,w)));const D=v&&v.targetChanges.get(O.targetId),L=v&&v.targetMismatches.get(O.targetId)!=null,q=O.view.applyChanges(w,M.isPrimaryClient,D,L);return p_(M,O.targetId,q.au),q.snapshot}(e,p,m,_);const s=await a_(e.localStore,t,!0),a=new YC(t,s.Qs),l=a.ru(s.documents),u=Vo.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);p_(e,n,h.au);const d=new XC(t,n,a);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function eD(e,t,n){const i=Z(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!fc(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Jf(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Im(i.remoteStore,r.targetId),ed(i,r.targetId)}).catch(Bs)):(ed(i,r.targetId),await Jf(i.localStore,r.targetId,!0))}async function nD(e,t){const n=Z(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Im(n.remoteStore,i.targetId))}async function iD(e,t,n){const i=cD(e);try{const r=await function(a,l){const u=Z(a),h=Tt.now(),d=l.reduce((_,N)=>_.add(N.key),rt());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let N=Qn(),M=rt();return u.Ns.getEntries(_,d).next(O=>{N=O,N.forEach((S,v)=>{v.isValidDocument()||(M=M.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,N)).next(O=>{p=O;const S=[];for(const v of l){const w=gI(v,p.get(v.key).overlayedDocument);w!=null&&S.push(new br(v.key,w,g0(w.value.mapValue),zn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,S,l)}).next(O=>{m=O;const S=O.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(_,O.batchId,S)})}).then(()=>({batchId:m.batchId,changes:w0(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Vu[a.currentUser.toKey()];h||(h=new Dt(it)),h=h.insert(l,u),a.Vu[a.currentUser.toKey()]=h}(i,r.batchId,n),await xo(i,r.changes),await vc(i.remoteStore)}catch(r){const s=Vm(r,"Failed to persist write");n.reject(s)}}async function aA(e,t){const n=Z(e);try{const i=await dC(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?ct(a.hu,14607):r.removedDocuments.size>0&&(ct(a.hu,42227),a.hu=!1))}),await xo(n,i,t)}catch(i){await Bs(i)}}function g_(e,t,n){const i=Z(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=Z(a);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const m of p.Sa)m.va(l)&&(h=!0)}),h&&Mm(u)}(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function rD(e,t,n){const i=Z(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let a=new Dt(F.comparator);a=a.insert(s,he.newNoDocument(s,$.min()));const l=rt().add(s),u=new pc($.min(),new Map,new Dt(it),a,l);await aA(i,u),i.du=i.du.remove(s),i.Au.delete(t),km(i)}else await Jf(i.localStore,t,!1).then(()=>ed(i,t,n)).catch(Bs)}async function sD(e,t){const n=Z(e),i=t.batch.batchId;try{const r=await fC(n.localStore,t);lA(n,i,null),oA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xo(n,r)}catch(r){await Bs(r)}}async function aD(e,t,n){const i=Z(e);try{const r=await function(a,l){const u=Z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(ct(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);lA(i,t,n),oA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await xo(i,r)}catch(r){await Bs(r)}}function oA(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function lA(e,t,n){const i=Z(e);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function ed(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||uA(e,i)})}function uA(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Im(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),km(e))}function p_(e,t,n){for(const i of n)i instanceof iA?(e.Ru.addReference(i.key,t),oD(e,i)):i instanceof rA?(j(xm,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||uA(e,i.key)):K(19791,{wu:i})}function oD(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(j(xm,"New document in limbo: "+n),e.Eu.add(i),km(e))}function km(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new F(Ct.fromString(t)),i=e.fu.next();e.Au.set(i,new $C(n)),e.du=e.du.insert(n,i),Z0(e.remoteStore,new _i(hn(_m(n.path)),i,"TargetPurposeLimboResolution",lc.ce))}}async function xo(e,t,n){const i=Z(e),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){r.push(h);const p=wm.As(u.targetId,h);s.push(p)}}))}),await Promise.all(a),i.Pu.H_(r),await async function(u,h){const d=Z(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(h,m=>x.forEach(m.Es,_=>d.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>x.forEach(m.ds,_=>d.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!js(p))throw p;j(Rm,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const _=d.Ms.get(m),N=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(N);d.Ms=d.Ms.insert(m,M)}}}(i.localStore,s))}async function lD(e,t){const n=Z(e);if(!n.currentUser.isEqual(t)){j(xm,"User change. New user:",t.toKey());const i=await K0(n.localStore,t);n.currentUser=t,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new H(P.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await xo(n,i.Ls)}}function uD(e,t){const n=Z(e),i=n.Au.get(t);if(i&&i.hu)return rt().add(i.key);{let r=rt();const s=n.Iu.get(t);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function cA(e){const t=Z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rD.bind(null,t),t.Pu.H_=FC.bind(null,t.eventManager),t.Pu.yu=QC.bind(null,t.eventManager),t}function cD(e){const t=Z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,t),t}class ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return hC(this.persistence,new lC,t.initialUser,this.serializer)}Cu(t){return new Q0(bm.mi,this.serializer)}Du(t){return new _C}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ku.provider={build:()=>new ku};class hD extends ku{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ct(this.persistence.referenceDelegate instanceof Mu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new KI(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?we.withCacheSize(this.cacheSizeBytes):we.DEFAULT;return new Q0(i=>Mu.mi(i,n),this.serializer)}}class nd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>g_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lD.bind(null,this.syncEngine),await BC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new qC}()}createDatastore(t){const n=yc(t.databaseInfo.databaseId),i=function(s){return new SC(s)}(t.databaseInfo);return function(s,a,l,u){return new IC(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new DC(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>g_(this.syncEngine,n,0),function(){return u_.v()?new u_:new vC}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const p=new ZC(r,s,a,l,u,h);return d&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=Z(r);j(pr,"RemoteStore shutting down."),s.Ea.add(5),await Mo(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}nd.provider={build:()=>new nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class dD{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ce.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{j(ji,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(j(ji,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Vm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Uh(e,t){e.asyncQueue.verifyOperationInProgress(),j(ji,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await K0(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function y_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await mD(e);j(ji,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>h_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>h_(t.remoteStore,r)),e._onlineComponents=t}async function mD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){j(ji,"Using user provided OfflineComponentProvider");try{await Uh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===P.FAILED_PRECONDITION||r.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),await Uh(e,new ku)}}else j(ji,"Using default OfflineComponentProvider"),await Uh(e,new hD(void 0));return e._offlineComponents}async function hA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(j(ji,"Using user provided OnlineComponentProvider"),await y_(e,e._uninitializedComponentsProvider._online)):(j(ji,"Using default OnlineComponentProvider"),await y_(e,new nd))),e._onlineComponents}function gD(e){return hA(e).then(t=>t.syncEngine)}async function pD(e){const t=await hA(e),n=t.eventManager;return n.onListen=JC.bind(null,t.syncEngine),n.onUnlisten=eD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=WC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nD.bind(null,t.syncEngine),n}function yD(e,t,n={}){const i=new Oi;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new fD({next:m=>{d.Nu(),a.enqueueAndForget(()=>GC(s,p));const _=m.docs.has(l);!_&&m.fromCache?h.reject(new H(P.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?h.reject(new H(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new KC(_m(l.path),d,{includeMetadataChanges:!0,qa:!0});return HC(s,p)}(await pD(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",v_=!0;class E_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new H(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=v_}else this.host=t.host,this.ssl=t.ssl??v_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=F0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<FI)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}C2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fA(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pm{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new y2;switch(i.type){case"firstParty":return new T2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=__.get(n);i&&(j("ComponentProvider","Removing Datastore"),__.delete(n),i.terminate())}(this),Promise.resolve()}}function _D(e,t,n,i={}){var h;e=no(e,Pm);const r=Us(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;r&&(HT(`https://${l}`),GT("Firestore",!0)),s.host!==dA&&s.host!==l&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!dr(u,a)&&(e._setSettings(u),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=ce.MOCK_USER;else{d=qw(i.mockUserToken,(h=e._app)==null?void 0:h.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new H(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ce(m)}e._authCredentials=new _2(new r0(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Um(this.firestore,t,this._query)}}class $t{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $t(this.firestore,t,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(No(n,$t._jsonSchema))return new $t(t,i||null,new F(Ct.fromString(n.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:zt("string",$t._jsonSchemaVersion),referencePath:zt("string")};class uo extends Um{constructor(t,n,i){super(t,n,_m(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $t(this.firestore,null,new F(t))}withConverter(t){return new uo(this.firestore,t,this._path)}}function id(e,t,...n){if(e=yn(e),arguments.length===1&&(t=hm.newId()),I2("doc","path",t),e instanceof Pm){const i=Ct.fromString(t,...n);return xy(i),new $t(e,null,new F(i))}{if(!(e instanceof $t||e instanceof uo))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ct.fromString(t,...n));return xy(i),new $t(e.firestore,e instanceof uo?e.converter:null,new F(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="AsyncQueue";class A_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X0(this,"async_queue_retry"),this._c=()=>{const i=Ph();i&&j(T_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Oi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!js(t))throw t;j(T_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Fn("INTERNAL UNHANDLED ERROR: ",S_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=Om.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&K(47125,{Pc:S_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function S_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Lm extends Pm{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new A_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new A_(t),this._firestoreClient=void 0,await t}}}function vD(e,t){const n=typeof e=="object"?e:YT(),i=typeof e=="string"?e:Ru,r=um(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Bw("firestore");s&&_D(r,...s)}return r}function mA(e){if(e._terminated)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ED(e),e._firestoreClient}function ED(e){var i,r,s;const t=e._freezeSettings(),n=function(l,u,h,d){return new z2(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(r=t.localCache)!=null&&r._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new dD(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fe(se.fromBase64String(t))}catch(n){throw new H(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fe(se.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fe._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(No(t,Fe._jsonSchema))return Fe.fromBase64String(t.bytes)}}Fe._jsonSchemaVersion="firestore/bytes/1.0",Fe._jsonSchema={type:zt("string",Fe._jsonSchemaVersion),bytes:zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return it(this._lat,t._lat)||it(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dn._jsonSchemaVersion}}static fromJSON(t){if(No(t,dn._jsonSchema))return new dn(t.latitude,t.longitude)}}dn._jsonSchemaVersion="firestore/geoPoint/1.0",dn._jsonSchema={type:zt("string",dn._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:mn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(No(t,mn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new mn(t.vectorValues);throw new H(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mn._jsonSchemaVersion="firestore/vectorValue/1.0",mn._jsonSchema={type:zt("string",mn._jsonSchemaVersion),vectorValues:zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=/^__.*__$/;class AD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new br(t,this.data,this.fieldMask,n,this.fieldTransforms):new Oo(t,this.data,n,this.fieldTransforms)}}function pA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ac:e})}}class Bm{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Pu(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(pA(this.Ac)&&TD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class SD{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||yc(t)}Cc(t,n,i,r=!1){return new Bm({Ac:t,methodName:n,Dc:i,path:ie.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bD(e){const t=e._freezeSettings(),n=yc(e._databaseId);return new SD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wD(e,t,n,i,r,s={}){const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,r);EA("Data must be an object, but it was:",a,i);const l=_A(i,a);let u,h;if(s.merge)u=new Je(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=RD(t,p,n);if(!a.contains(m))throw new H(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CD(d,m)||d.push(m)}u=new Je(d),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new AD(new Ge(l),u,h)}function yA(e,t){if(vA(e=yn(e)))return EA("Unsupported field value:",t,e),_A(e,t);if(e instanceof gA)return function(i,r){if(!pA(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=yA(l,r.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=yn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uI(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Tt.fromDate(i);return{timestampValue:Vu(r.serializer,s)}}if(i instanceof Tt){const s=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vu(r.serializer,s)}}if(i instanceof dn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fe)return{bytesValue:L0(r.serializer,i._byteString)};if(i instanceof $t){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Am(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof mn)return function(a,l){return{mapValue:{fields:{[d0]:{stringValue:m0},[Iu]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return vm(l.serializer,h)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${fm(i)}`)}(e,t)}function _A(e,t){const n={};return o0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(e,(i,r)=>{const s=yA(r,t.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function vA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Tt||e instanceof dn||e instanceof Fe||e instanceof $t||e instanceof gA||e instanceof mn)}function EA(e,t,n){if(!vA(n)||!s0(n)){const i=fm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function RD(e,t,n){if((t=yn(t))instanceof zm)return t._internalPath;if(typeof t=="string")return TA(e,t);throw Pu("Field path arguments must be of type string or ",e,!1,void 0,n)}const ID=new RegExp("[~\\*/\\[\\]]");function TA(e,t,n){if(t.search(ID)>=0)throw Pu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new zm(...t.split("."))._internalPath}catch{throw Pu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Pu(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new H(P.INVALID_ARGUMENT,l+e+u)}function CD(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(SA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DD extends AA{data(){return super.data()}}function SA(e,t){return typeof t=="string"?TA(e,t):t instanceof zm?t._internalPath:t._delegate._internalPath}class ND{convertValue(t,n="none"){switch(zi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return kt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Li(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw K(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Ar(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var i,r,s;const n=(s=(r=(i=t.fields)==null?void 0:i[Iu].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>kt(a.doubleValue));return new mn(n)}convertGeoPoint(t){return new dn(kt(t.latitude),kt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=cc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ro(t));default:return null}}convertTimestamp(t){const n=Ui(t);return new Tt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ct.fromString(t);ct(G0(i),9688,{name:t});const r=new so(i.get(1),i.get(3)),s=new F(i.popFirst(5));return r.isEqual(n)||Fn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class _a{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lr extends AA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(SA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=lr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",lr._jsonSchema={type:zt("string",lr._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class ql extends lr{data(t={}){return super.data(t)}}class za{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new _a(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new ql(this._firestore,this._userDataWriter,i.key,i,new _a(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new ql(r._firestore,r._userDataWriter,l.doc.key,l.doc,new _a(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new ql(r._firestore,r._userDataWriter,l.doc.key,l.doc,new _a(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:VD(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(e){e=no(e,$t);const t=no(e.firestore,Lm);return yD(mA(t),e._key).then(n=>PD(t,e,n))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:zt("string",za._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class xD extends ND{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fe(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function bA(e,t,n){e=no(e,$t);const i=no(e.firestore,Lm),r=OD(e.converter,t,n);return kD(i,[wD(bD(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,zn.none())])}function kD(e,t){return function(i,r){const s=new Oi;return i.asyncQueue.enqueueAndForget(async()=>iD(await gD(i),r,s)),s.promise}(mA(e),t)}function PD(e,t,n){const i=n.docs.get(t._key),r=new xD(e);return new lr(e,r,t._key,i,new _a(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){zs=r})(Ls),Ss(new mr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Lm(new v2(i.getProvider("auth-internal")),new A2(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new H(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(h.options.projectId,d)}(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Di(Ny,Oy,t),Di(Ny,Oy,"esm2020")})();function wA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UD=wA,RA=new Co("auth","Firebase",wA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new om("@firebase/auth");function LD(e,...t){Uu.logLevel<=nt.WARN&&Uu.warn(`Auth (${Ls}): ${e}`,...t)}function Hl(e,...t){Uu.logLevel<=nt.ERROR&&Uu.error(`Auth (${Ls}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(e,...t){throw jm(e,...t)}function gn(e,...t){return jm(e,...t)}function IA(e,t,n){const i={...UD(),[t]:n};return new Co("auth","Firebase",i).create(t,{appName:e.name})}function Vi(e){return IA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return RA.create(e,...t)}function X(e,t,...n){if(!e)throw jm(t,...n)}function kn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hl(t),new Error(t)}function Yn(e,t){e||kn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function zD(){return b_()==="http:"||b_()==="https:"}function b_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zD()||Yw()||"connection"in navigator)?navigator.onLine:!0}function jD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,n){this.shortDelay=t,this.longDelay=n,Yn(n>t,"Short delay should be less than long delay!"),this.isMobile=Fw()||Xw()}get(){return BD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e,t){Yn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GD=new ko(3e4,6e4);function Ec(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Hs(e,t,n,i,r={}){return DA(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=Do({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...s};return Kw()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Us(e.emulatorConfig.host)&&(h.credentials="include"),CA.fetch()(await OA(e,e.config.apiHost,n,l),h)})}async function DA(e,t,n){e._canInitEmulator=!1;const i={...qD,...t};try{const r=new FD(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Sl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Sl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Sl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw IA(e,d,h);Kn(e,d)}}catch(r){if(r instanceof $n)throw r;Kn(e,"network-request-failed",{message:String(r)})}}async function NA(e,t,n,i,r={}){const s=await Hs(e,t,n,i,r);return"mfaPendingCredential"in s&&Kn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function OA(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?qm(e.config,r):`${e.config.apiScheme}://${r}`;return HD.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class FD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(gn(this.auth,"network-request-failed")),GD.get())})}}function Sl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=gn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(e,t){return Hs(e,"POST","/v1/accounts:delete",t)}async function Lu(e,t){return Hs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KD(e,t=!1){const n=yn(e),i=await n.getIdToken(t),r=Hm(i);X(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ba(Lh(r.auth_time)),issuedAtTime:Ba(Lh(r.iat)),expirationTime:Ba(Lh(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lh(e){return Number(e)*1e3}function Hm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Hl("JWT malformed, contained fewer than 3 sections"),null;try{const r=zT(n);return r?JSON.parse(r):(Hl("Failed to decode base64 JWT payload"),null)}catch(r){return Hl("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function w_(e){const t=Hm(e);return X(t,"internal-error"),X(typeof t.exp<"u","internal-error"),X(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof $n&&YD(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function YD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ba(this.lastLoginAt),this.creationTime=Ba(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(e){var p;const t=e.auth,n=await e.getIdToken(),i=await co(e,Lu(t,{idToken:n}));X(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=(p=r.providerUserInfo)!=null&&p.length?VA(r.providerUserInfo):[],a=ZD(e.providerData,s),l=e.isAnonymous,u=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new sd(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function $D(e){const t=yn(e);await zu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZD(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function VA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(e,t){const n=await DA(e,{},async()=>{const i=Do({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await OA(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Us(e.emulatorConfig.host)&&(u.credentials="include"),CA.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WD(e,t){return Hs(e,"POST","/v2/accounts:revokeToken",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){X(t.idToken,"internal-error"),X(typeof t.idToken<"u","internal-error"),X(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):w_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){X(t.length!==0,"internal-error");const n=w_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await JD(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new ls;return i&&(X(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(X(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(X(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ls,this.toJSON())}_performRefresh(){return kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e,t){X(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class We{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new XD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new sd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await co(this,this.stsTokenManager.getToken(this.auth,t));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return KD(this,t)}reload(){return $D(this)}_assign(t){this!==t&&(X(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new We({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await zu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ze(this.auth.app))return Promise.reject(Vi(this.auth));const t=await this.getIdToken();return await co(this,QD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:_,providerData:N,stsTokenManager:M}=n;X(p&&M,t,"internal-error");const O=ls.fromJSON(this.name,M);X(typeof p=="string",t,"internal-error"),ni(i,t.name),ni(r,t.name),X(typeof m=="boolean",t,"internal-error"),X(typeof _=="boolean",t,"internal-error"),ni(s,t.name),ni(a,t.name),ni(l,t.name),ni(u,t.name),ni(h,t.name),ni(d,t.name);const S=new We({uid:p,auth:t,email:r,emailVerified:m,displayName:i,isAnonymous:_,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:O,createdAt:h,lastLoginAt:d});return N&&Array.isArray(N)&&(S.providerData=N.map(v=>({...v}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(t,n,i=!1){const r=new ls;r.updateFromServerResponse(n);const s=new We({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await zu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];X(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?VA(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new ls;l.updateFromIdToken(i);const u=new We({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new sd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function Pn(e){Yn(e instanceof Function,"Expected a class definition");let t=R_.get(e);return t?(Yn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,R_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}MA.type="NONE";const I_=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(e,t,n){return`firebase:${e}:${t}:${n}`}class us{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Gl(this.userKey,r.apiKey,s),this.fullPersistenceKey=Gl("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Lu(this.auth,{idToken:t}).catch(()=>{});return n?We._fromGetAccountInfoResponse(this.auth,n,t):null}return We._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new us(Pn(I_),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Pn(I_);const a=Gl(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let p;if(typeof d=="string"){const m=await Lu(t,{idToken:d}).catch(()=>{});if(!m)break;p=await We._fromGetAccountInfoResponse(t,m,d)}else p=We._fromJSON(t,d);h!==s&&(l=p),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new us(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new us(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(UA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zA(t))return"Blackberry";if(BA(t))return"Webos";if(kA(t))return"Safari";if((t.includes("chrome/")||PA(t))&&!t.includes("edge/"))return"Chrome";if(LA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xA(e=me()){return/firefox\//i.test(e)}function kA(e=me()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PA(e=me()){return/crios\//i.test(e)}function UA(e=me()){return/iemobile/i.test(e)}function LA(e=me()){return/android/i.test(e)}function zA(e=me()){return/blackberry/i.test(e)}function BA(e=me()){return/webos/i.test(e)}function Gm(e=me()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tN(e=me()){var t;return Gm(e)&&!!((t=window.navigator)!=null&&t.standalone)}function eN(){return $w()&&document.documentMode===10}function jA(e=me()){return Gm(e)||LA(e)||BA(e)||zA(e)||/windows phone/i.test(e)||UA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(e,t=[]){let n;switch(e){case"Browser":n=C_(me());break;case"Worker":n=`${C_(me())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ls}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(e,t={}){return Hs(e,"GET","/v2/passwordPolicy",Ec(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=6;class sN{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new nN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await us.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Lu(this,{idToken:t}),i=await We._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Ze(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ze(this.app))return Promise.reject(Vi(this));const n=t?yn(t):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&X(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ze(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ze(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iN(this),n=new sN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Co("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await WD(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Pn(t)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await us.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(Ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&LD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Tc(e){return yn(e)}class D_{constructor(t){this.auth=t,this.observer=null,this.addObserver=rR(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(e){Fm=e}function lN(e){return Fm.loadJS(e)}function uN(){return Fm.gapiScript}function cN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(e,t){const n=um(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(dr(s,t??{}))return r;Kn(r,"already-initialized")}return n.initialize({options:t})}function fN(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Pn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function dN(e,t,n){const i=Tc(e);X(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=HA(t),{host:a,port:l}=mN(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){X(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),X(dr(h,i.config.emulator)&&dr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Us(a)?(HT(`${s}//${a}${u}`),GT("Auth",!0)):gN()}function HA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function mN(e){const t=HA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:N_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:N_(a)}}}function N_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function gN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return kn("not implemented")}_getIdTokenResponse(t){return kn("not implemented")}_linkToIdToken(t,n){return kn("not implemented")}_getReauthenticationResolver(t){return kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(e,t){return NA(e,"POST","/v1/accounts:signInWithIdp",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="http://localhost";class yr extends GA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new yr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return cs(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,cs(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,cs(t,n)}buildRequest(){const t={requestUri:pN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Do(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends FA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Po{constructor(){super("facebook.com")}static credential(t){return yr._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ci.credentialFromTaggedObject(t)}static credentialFromError(t){return ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ci.credential(t.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return yr._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return hi.credential(n,i)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Po{constructor(){super("github.com")}static credential(t){return yr._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Po{constructor(){super("twitter.com")}static credential(t,n){return yr._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return di.credential(n,i)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(e,t){return NA(e,"POST","/v1/accounts:signUp",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await We._fromIdTokenResponse(t,i,r),a=O_(i);return new qi({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=O_(i);return new qi({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function O_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(e){var r;if(Ze(e.app))return Promise.reject(Vi(e));const t=Tc(e);if(await t._initializationPromise,(r=t.currentUser)!=null&&r.isAnonymous)return new qi({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await yN(t,{returnSecureToken:!0}),i=await qi._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends $n{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Bu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new Bu(t,n,i,r)}}function QA(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bu._fromErrorAndOperation(e,s,t,i):s})}async function vN(e,t,n=!1){const i=await co(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qi._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(e,t,n=!1){const{auth:i}=e;if(Ze(i.app))return Promise.reject(Vi(i));const r="reauthenticate";try{const s=await co(e,QA(i,r,t,e),n);X(s.idToken,i,"internal-error");const a=Hm(s.idToken);X(a,i,"internal-error");const{sub:l}=a;return X(e.uid===l,i,"user-mismatch"),qi._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Kn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(e,t,n=!1){if(Ze(e.app))return Promise.reject(Vi(e));const i="signIn",r=await QA(e,i,t),s=await qi._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function AN(e,t,n,i){return yn(e).onIdTokenChanged(t,n,i)}function SN(e,t,n){return yn(e).beforeAuthStateChanged(t,n)}const ju="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ju,"1"),this.storage.removeItem(ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1e3,wN=10;class YA extends KA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);eN()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,wN):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}YA.type="LOCAL";const RN=YA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends KA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}XA.type="SESSION";const $A=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Ac(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await IN(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Qm("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return window}function DN(e){pn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function NN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ON(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function VN(){return ZA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="firebaseLocalStorageDb",MN=1,qu="firebaseLocalStorage",WA="fbase_key";class Uo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sc(e,t){return e.transaction([qu],t?"readwrite":"readonly").objectStore(qu)}function xN(){const e=indexedDB.deleteDatabase(JA);return new Uo(e).toPromise()}function ad(){const e=indexedDB.open(JA,MN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(qu,{keyPath:WA})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(qu)?t(i):(i.close(),await xN(),t(await ad()))})})}async function V_(e,t,n){const i=Sc(e,!0).put({[WA]:t,value:n});return new Uo(i).toPromise()}async function kN(e,t){const n=Sc(e,!1).get(t),i=await new Uo(n).toPromise();return i===void 0?null:i.value}function M_(e,t){const n=Sc(e,!0).delete(t);return new Uo(n).toPromise()}const PN=800,UN=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ad(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>UN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(VN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await NN(),!this.activeServiceWorker)return;this.sender=new CN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ON()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ad();return await V_(t,ju,"1"),await M_(t,ju),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>V_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>kN(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>M_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Sc(r,!1).getAll();return new Uo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const LN=t1;new ko(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(e,t){return t?Pn(t):(X(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends GA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return cs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return cs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function BN(e){return TN(e.auth,new Km(e),e.bypassAuthState)}function jN(e){const{auth:t,user:n}=e;return X(n,t,"internal-error"),EN(n,new Km(e),e.bypassAuthState)}async function qN(e){const{auth:t,user:n}=e;return X(n,t,"internal-error"),vN(n,new Km(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return BN;case"linkViaPopup":case"linkViaRedirect":return qN;case"reauthViaPopup":case"reauthViaRedirect":return jN;default:Kn(this.auth,"internal-error")}}resolve(t){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new ko(2e3,1e4);class Jr extends e1{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Jr.currentPopupAction&&Jr.currentPopupAction.cancel(),Jr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return X(t,this.auth,"internal-error"),t}async onExecution(){Yn(this.filter.length===1,"Popup operations only handle one event");const t=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,HN.get())};t()}}Jr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="pendingRedirect",Fl=new Map;class FN extends e1{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Fl.get(this.auth._key());if(!t){try{const i=await QN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Fl.set(this.auth._key(),t)}return this.bypassAuthState||Fl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QN(e,t){const n=XN(t),i=YN(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function KN(e,t){Fl.set(e._key(),t)}function YN(e){return Pn(e._redirectPersistence)}function XN(e){return Gl(GN,e.config.apiKey,e.name)}async function $N(e,t,n=!1){if(Ze(e.app))return Promise.reject(Vi(e));const i=Tc(e),r=zN(i,t),a=await new FN(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=10*60*1e3;class JN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!WN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!n1(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(gn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZN&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(t))}saveEventToCache(t){this.cachedEventUids.add(x_(t)),this.lastProcessedEventTime=Date.now()}}function x_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function n1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function WN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(e,t={}){return Hs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nO=/^https?/;async function iO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await tO(e);for(const n of t)try{if(rO(n))return}catch{}Kn(e,"unauthorized-domain")}function rO(e){const t=rd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!nO.test(n))return!1;if(eO.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new ko(3e4,6e4);function k_(){const e=pn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function aO(e){return new Promise((t,n)=>{var r,s,a;function i(){k_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{k_(),n(gn(e,"network-request-failed"))},timeout:sO.get()})}if((s=(r=pn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=pn().gapi)!=null&&a.load)i();else{const l=cN("iframefcb");return pn()[l]=()=>{gapi.load?i():n(gn(e,"network-request-failed"))},lN(`${uN()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Ql=null,t})}let Ql=null;function oO(e){return Ql=Ql||aO(e),Ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new ko(5e3,15e3),uO="__/auth/iframe",cO="emulator/auth/iframe",hO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dO(e){const t=e.config;X(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qm(t,cO):`https://${e.config.authDomain}/${uO}`,i={apiKey:t.apiKey,appName:e.name,v:Ls},r=fO.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Do(i).slice(1)}`}async function mO(e){const t=await oO(e),n=pn().gapi;return X(n,e,"internal-error"),t.open({where:document.body,url:dO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=gn(e,"network-request-failed"),l=pn().setTimeout(()=>{s(a)},lO.get());function u(){pn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pO=500,yO=600,_O="_blank",vO="http://localhost";class P_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EO(e,t,n,i=pO,r=yO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...gO,width:i.toString(),height:r.toString(),top:s,left:a},h=me().toLowerCase();n&&(l=PA(h)?_O:n),xA(h)&&(t=t||vO,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,N])=>`${m}${_}=${N},`,"");if(tN(h)&&l!=="_self")return TO(t||"",l),new P_(null);const p=window.open(t||"",l,d);X(p,e,"popup-blocked");try{p.focus()}catch{}return new P_(p)}function TO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="__/auth/handler",SO="emulator/auth/handler",bO=encodeURIComponent("fac");async function U_(e,t,n,i,r,s){X(e.config.authDomain,e,"auth-domain-config-required"),X(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ls,eventId:r};if(t instanceof FA){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",iR(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(t instanceof Po){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${bO}=${encodeURIComponent(u)}`:"";return`${wO(e)}?${Do(l).slice(1)}${h}`}function wO({config:e}){return e.emulator?qm(e,SO):`https://${e.authDomain}/${AO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="webStorageSupport";class RO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$A,this._completeRedirectFn=$N,this._overrideRedirectResult=KN}async _openPopup(t,n,i,r){var a;Yn((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await U_(t,n,i,rd(),r);return EO(t,s,Qm())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await U_(t,n,i,rd(),r);return DN(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Yn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await mO(t),i=new JN(t);return n.register("authEvent",r=>(X(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zh,{type:zh},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[zh];s!==void 0&&n(!!s),Kn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jA()||kA()||Gm()}}const IO=RO;var L_="@firebase/auth",z_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NO(e){Ss(new mr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;X(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qA(e)},h=new aN(i,r,s,u);return fN(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ss(new mr("auth-internal",t=>{const n=Tc(t.getProvider("auth").getImmediate());return(i=>new CO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(L_,z_,DO(e)),Di(L_,z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=5*60,VO=qT("authIdTokenMaxAge")||OO;let B_=null;const MO=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>VO)return;const r=n==null?void 0:n.token;B_!==r&&(B_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function xO(e=YT()){const t=um(e,"auth");if(t.isInitialized())return t.getImmediate();const n=hN(e,{popupRedirectResolver:IO,persistence:[LN,RN,$A]}),i=qT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=MO(s.toString());SN(n,a,()=>a(n.currentUser)),AN(n,l=>a(l))}}const r=BT("auth");return r&&dN(n,`http://${r}`),n}function kO(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}oN({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=gn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",kO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NO("Browser");const PO={apiKey:"AIzaSyDfDGFXGFGkzmgYFAHI1q6AZiLy7esuPrw",authDomain:"tenebris-verbum.firebaseapp.com",projectId:"tenebris-verbum",storageBucket:"tenebris-verbum.firebasestorage.app",messagingSenderId:"637080257821",appId:"1:637080257821:web:7f7440e0bcef2ce7178df4"},i1=KT(PO),od=vD(i1),UO=xO(i1),LO=({className:e=""})=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`opacity-50 ${e}`,children:U.jsx("path",{d:"m9 18 6-6-6-6"})}),zO=({className:e=""})=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[U.jsx("circle",{cx:"12",cy:"12",r:"4"}),U.jsx("path",{d:"M12 2v2"}),U.jsx("path",{d:"M12 20v2"}),U.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),U.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),U.jsx("path",{d:"M2 12h2"}),U.jsx("path",{d:"M20 12h2"}),U.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),U.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),BO=({className:e=""})=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:U.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),jO=({className:e=""})=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[U.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),U.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),qO=({className:e=""})=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[U.jsx("path",{d:"M19 12H5"}),U.jsx("polyline",{points:"12 19 5 12 12 5"})]}),HO=({className:e=""})=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 ${e}`,children:[U.jsx("circle",{cx:"11",cy:"11",r:"8"}),U.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),GO=({className:e=""})=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`opacity-50 ${e}`,children:[U.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),U.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),hs={light:{bg:"bg-stone-100",text:"text-stone-800",componentBg:"bg-white",componentText:"text-stone-700",border:"border-stone-200",searchBg:"bg-white",searchPlaceholder:"placeholder-stone-400",searchRing:"focus:ring-pink-400",tgBg:"#F5F5F0",tgHeader:"#FFFFFF"},dark:{bg:"bg-gray-900",text:"text-gray-100",componentBg:"bg-gray-800",componentText:"text-gray-200",border:"border-gray-700",searchBg:"bg-gray-800",searchPlaceholder:"placeholder-gray-500",searchRing:"focus:ring-pink-500",tgBg:"#121212",tgHeader:"#171717"}},FO=({onBack:e,onHome:t})=>{const[n,i]=_t.useState(!1);return U.jsxs("div",{className:"fixed bottom-4 right-4 z-20",children:[n&&U.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[U.jsx("button",{onClick:e,className:"w-14 h-14 rounded-full bg-white/80 dark:bg-gray-700/80 backdrop-blur-md shadow-lg flex items-center justify-center text-stone-700 dark:text-gray-200",children:U.jsx(qO,{})}),U.jsx("button",{onClick:t,className:"w-14 h-14 rounded-full bg-white/80 dark:bg-gray-700/80 backdrop-blur-md shadow-lg flex items-center justify-center text-stone-700 dark:text-gray-200",children:U.jsx(jO,{})})]}),U.jsx("button",{onClick:()=>i(!n),className:"w-16 h-16 rounded-full bg-pink-500 text-white shadow-lg flex items-center justify-center transform transition-transform duration-300 hover:scale-110",children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-300 ${n?"rotate-45":"rotate-0"}`,children:[U.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),U.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})},QO=({novels:e,onSelectNovel:t,theme:n,setTheme:i,genreFilter:r,onClearGenreFilter:s})=>{const[a,l]=_t.useState(""),u=hs[n],h=_t.useMemo(()=>e.filter(d=>!r||d.genres.includes(r)).filter(d=>d.title.toLowerCase().includes(a.toLowerCase())),[e,a,r]);return!e.length&&!a?U.jsx("div",{className:`p-4 text-center ${u.text}`,children:"Загрузка библиотеки..."}):U.jsxs("div",{className:`p-4 ${u.text}`,children:[U.jsxs("div",{className:"flex justify-between items-center mb-4",children:[U.jsx("h1",{className:"text-3xl font-bold",children:"Библиотека"}),U.jsx("button",{onClick:()=>i(n==="dark"?"light":"dark"),className:`p-2 rounded-full ${u.componentBg} ${u.border} border`,children:n==="dark"?U.jsx(zO,{}):U.jsx(BO,{})})]}),r&&U.jsxs("div",{className:`flex items-center justify-between p-3 mb-4 rounded-lg border ${u.border} ${u.componentBg}`,children:[U.jsxs("p",{className:"text-sm",children:[U.jsx("span",{className:"opacity-70",children:"Жанр:"}),U.jsx("strong",{className:"ml-2",children:r})]}),U.jsx("button",{onClick:s,className:"text-xs font-bold text-pink-500 hover:underline",children:"Сбросить"})]}),U.jsxs("div",{className:"relative mb-6",children:[U.jsx(HO,{className:u.searchPlaceholder}),U.jsx("input",{type:"text",placeholder:"Поиск по названию...",value:a,onChange:d=>l(d.target.value),className:`w-full ${u.searchBg} ${u.border} border rounded-lg py-2 pl-10 pr-4 ${u.text} ${u.searchPlaceholder} focus:outline-none focus:ring-2 ${u.searchRing} transition-shadow duration-300`})]}),h.length>0?U.jsx("div",{className:"grid grid-cols-3 gap-x-3 gap-y-5 sm:grid-cols-4",children:h.map(d=>U.jsxs("div",{onClick:()=>t(d),className:"cursor-pointer group relative",children:[U.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-pink-500 to-purple-500 rounded-lg blur-md opacity-0 group-hover:opacity-50 transition duration-500"}),U.jsxs("div",{className:"relative",children:[U.jsx("img",{src:d.coverUrl,alt:d.title,className:`w-full aspect-[2/3] object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105 ${u.border} border`}),U.jsx("h2",{className:`mt-2 font-semibold text-xs truncate ${u.text}`,children:d.title}),U.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:d.lastUpdate})]})]},d.id))}):U.jsx("p",{className:"text-gray-500 text-center mt-8",children:"Ничего не найдено."})]})},KO=({novel:e,onSelectChapter:t,onGenreSelect:n,theme:i,purchasedChapters:r,botUsername:s,userId:a})=>{const l=hs[i],[u,h]=_t.useState("newest"),[d,p]=_t.useState([]),[m,_]=_t.useState(!0);_t.useEffect(()=>{_(!0),fetch(`data/chapters/${e.id}.json`).then(O=>O.json()).then(O=>{p(O.chapters||[]),_(!1)}).catch(O=>{console.error(O),p([]),_(!1)})},[e.id]);const N=_t.useMemo(()=>{const O=[...d];return u==="newest"?O.reverse():O},[d,u]),M=async O=>{var D,L;const S=(D=r[e.id])==null?void 0:D.includes(O.id),v=O.isPaid&&!S,w=(L=window.Telegram)==null?void 0:L.WebApp;if(v)if(w&&a){const q=id(od,"users",a);await bA(q,{pendingPayment:{novelId:e.id,chapterId:O.id,novelTitle:e.title,chapterTitle:O.title}},{merge:!0}),w.showPopup({title:"Переход к оплате",message:`Вы будете перенаправлены в чат с ботом для получения инструкций по оплате главы "${O.title}".`,buttons:[{id:"continue",type:"default",text:"Продолжить"},{type:"cancel"}]},E=>{E==="continue"&&(w.openTelegramLink(`https://t.me/${s}`),w.close())})}else alert("Не удалось перейти к боту для оплаты. Пожалуйста, убедитесь, что вы открыли приложение в Telegram.");else t(O)};return U.jsxs("div",{className:l.text,children:[U.jsxs("div",{className:"relative h-64",children:[U.jsx("img",{src:e.coverUrl,alt:e.title,className:"w-full h-full object-cover object-top absolute"}),U.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${i==="dark"?"from-gray-900 via-gray-900/80":"from-stone-100 via-stone-100/80"} to-transparent`}),U.jsxs("div",{className:"absolute bottom-4 left-4",children:[U.jsx("h1",{className:"text-3xl font-bold",style:{textShadow:"1px 1px 3px rgba(0,0,0,0.5)"},children:e.title}),U.jsx("p",{className:"text-sm",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:e.author})]})]}),U.jsxs("div",{className:"p-4",children:[U.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.genres.map(O=>U.jsx("button",{onClick:()=>n(O),className:`text-xs font-semibold px-3 py-1 rounded-full transition-colors duration-200 ${i==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:O},O))}),U.jsx("p",{className:`text-sm mb-6 ${i==="dark"?"text-gray-300":"text-stone-600"}`,children:e.description}),U.jsxs("div",{className:"flex justify-between items-center mb-4",children:[U.jsx("h2",{className:"text-xl font-bold",children:"Главы"}),U.jsxs("select",{value:u,onChange:O=>h(O.target.value),className:`text-sm p-2 rounded-lg border ${l.border} ${l.componentBg} ${l.text} focus:outline-none focus:ring-1 focus:ring-pink-400`,children:[U.jsx("option",{value:"newest",children:"Сначала новые"}),U.jsx("option",{value:"oldest",children:"Сначала старые"})]})]}),m?U.jsx("p",{className:l.text,children:"Загрузка глав..."}):U.jsx("div",{className:"flex flex-col gap-3",children:N.map(O=>{var w;const S=(w=r[e.id])==null?void 0:w.includes(O.id),v=O.isPaid&&!S;return U.jsxs("div",{onClick:()=>M(O),className:`p-4 ${l.componentBg} rounded-xl cursor-pointer transition-colors duration-200 hover:border-pink-400 border ${l.border} flex items-center justify-between ${v?"opacity-70":""}`,children:[U.jsx("div",{children:U.jsx("p",{className:`font-semibold ${l.componentText}`,children:O.title})}),v?U.jsx(GO,{className:l.text}):U.jsx(LO,{className:l.text})]},O.id)})})]})]})},YO=({chapter:e,novel:t,theme:n})=>{const i=hs[n];return U.jsx("div",{className:`min-h-screen transition-colors duration-300 ${i.bg}`,children:U.jsxs("div",{className:"p-4 sm:p-6 md:p-8 max-w-3xl mx-auto",children:[U.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 text-center",children:t.title}),U.jsx("h2",{className:"text-lg sm:text-xl mb-8 text-center opacity-80",children:e.title}),U.jsx("div",{className:`whitespace-pre-wrap leading-relaxed text-lg ${i.text}`,children:e.content})]})})};function XO(){const[e,t]=_t.useState("light"),[n,i]=_t.useState("list"),[r,s]=_t.useState([]),[a,l]=_t.useState(null),[u,h]=_t.useState(null),[d,p]=_t.useState(null),[m,_]=_t.useState({}),[N,M]=_t.useState(null),[O,S]=_t.useState(!0),v="tenebrisverbot";_t.useEffect(()=>{(async()=>{var A,Jt,Te,B;try{const G=(A=window.Telegram)==null?void 0:A.WebApp;let Q="guest_user";G&&(G.ready(),G.expand(),Q=((B=(Te=(Jt=G.initDataUnsafe)==null?void 0:Jt.user)==null?void 0:Te.id)==null?void 0:B.toString())||"guest_user"),M(Q),await _N(UO);const gt=id(od,"users",Q),St=await MD(gt);St.exists()&&_(St.data().purchases||{});const An=await fetch("data/novels.json");if(!An.ok)throw new Error("Failed to fetch novels");const ge=await An.json();s(ge.novels)}catch(G){console.error("Ошибка инициализации:",G)}finally{S(!1)}})()},[]);const w=async(I,A)=>{var B,G;if(!N)return;const Jt={...m,[I]:[...m[I]||[],A]},Te=id(od,"users",N);try{await bA(Te,{purchases:Jt},{merge:!0}),_(Jt),(B=window.Telegram)==null||B.WebApp.showAlert("Глава успешно разблокирована!")}catch(Q){console.error("Ошибка при сохранении покупки: ",Q),(G=window.Telegram)==null||G.WebApp.showAlert("Не удалось сохранить покупку. Попробуйте снова.")}};_t.useEffect(()=>{document.documentElement.className=e},[e]);const D=_t.useCallback(()=>{n==="reader"?i("details"):n==="details"&&(i("list"),p(null))},[n]),L=_t.useCallback(()=>{i("list"),p(null)},[]);_t.useEffect(()=>{var A;const I=(A=window.Telegram)==null?void 0:A.WebApp;if(I)return I.onEvent("backButtonClicked",D),n==="list"?I.BackButton.hide():I.BackButton.show(),()=>I.offEvent("backButtonClicked",D)},[n,D]),_t.useEffect(()=>{var A;const I=(A=window.Telegram)==null?void 0:A.WebApp;I&&(I.setHeaderColor(hs[e].tgHeader),I.setBackgroundColor(hs[e].tgBg))},[e]);const q=I=>{l(I),i("details")},E=I=>{h(I),i("reader")},y=I=>{p(I),i("list")},T=()=>{p(null)};if(O)return U.jsx("div",{className:"p-4 text-center text-gray-500",children:"Инициализация приложения..."});const b=()=>{switch(n){case"details":return U.jsx(KO,{novel:a,onSelectChapter:E,onGenreSelect:y,theme:e,purchasedChapters:m,onPurchaseChapter:w,botUsername:v,userId:N});case"reader":return U.jsx(YO,{chapter:u,novel:a,theme:e});case"list":default:return U.jsx(QO,{novels:r,onSelectNovel:q,theme:e,setTheme:t,genreFilter:d,onClearGenreFilter:T})}},R=hs[e];return U.jsxs("main",{className:`${R.bg} min-h-screen`,children:[b(),n!=="list"&&U.jsx(FO,{onBack:D,onHome:L})]})}Ow.createRoot(document.getElementById("root")).render(U.jsx(_t.StrictMode,{children:U.jsx(XO,{})}));

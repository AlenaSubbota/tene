(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var z_={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=Symbol.for("react.transitional.element"),P1=Symbol.for("react.fragment");function j_(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:k1,type:e,key:i,ref:t!==void 0?t:null,props:n}}Hu.Fragment=P1;Hu.jsx=j_;Hu.jsxs=j_;z_.exports=Hu;var M=z_.exports,B_={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=Symbol.for("react.transitional.element"),U1=Symbol.for("react.portal"),L1=Symbol.for("react.fragment"),z1=Symbol.for("react.strict_mode"),j1=Symbol.for("react.profiler"),B1=Symbol.for("react.consumer"),q1=Symbol.for("react.context"),H1=Symbol.for("react.forward_ref"),G1=Symbol.for("react.suspense"),F1=Symbol.for("react.memo"),q_=Symbol.for("react.lazy"),Fg=Symbol.iterator;function Q1(e){return e===null||typeof e!="object"?null:(e=Fg&&e[Fg]||e["@@iterator"],typeof e=="function"?e:null)}var H_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G_=Object.assign,F_={};function Ns(e,t,n){this.props=e,this.context=t,this.refs=F_,this.updater=n||H_}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q_(){}Q_.prototype=Ns.prototype;function od(e,t,n){this.props=e,this.context=t,this.refs=F_,this.updater=n||H_}var ld=od.prototype=new Q_;ld.constructor=od;G_(ld,Ns.prototype);ld.isPureReactComponent=!0;var Qg=Array.isArray,wt={H:null,A:null,T:null,S:null,V:null},K_=Object.prototype.hasOwnProperty;function ud(e,t,n,i,r,s){return n=s.ref,{$$typeof:ad,type:e,key:t,ref:n!==void 0?n:null,props:s}}function K1(e,t){return ud(e.type,t,void 0,void 0,void 0,e.props)}function cd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ad}function Y1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kg=/\/+/g;function Kc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y1(""+e.key):t.toString(36)}function Yg(){}function X1(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Yg,Yg):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Mr(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ad:case U1:a=!0;break;case q_:return a=e._init,Mr(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+Kc(e,0):i,Qg(r)?(n="",a!=null&&(n=a.replace(Kg,"$&/")+"/"),Mr(r,t,n,"",function(h){return h})):r!=null&&(cd(r)&&(r=K1(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Kg,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(Qg(e))for(var u=0;u<e.length;u++)i=e[u],s=l+Kc(i,u),a+=Mr(i,t,n,s,r);else if(u=Q1(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+Kc(i,u++),a+=Mr(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return Mr(X1(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function il(e,t,n){if(e==null)return e;var i=[],r=0;return Mr(e,i,"","",function(s){return t.call(n,s,r++)}),i}function $1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Z1(){}J.Children={map:il,forEach:function(e,t,n){il(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return il(e,function(){t++}),t},toArray:function(e){return il(e,function(t){return t})||[]},only:function(e){if(!cd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Ns;J.Fragment=L1;J.Profiler=j1;J.PureComponent=od;J.StrictMode=z1;J.Suspense=G1;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wt;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return wt.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=G_({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!K_.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return ud(e.type,r,void 0,void 0,s,i)};J.createContext=function(e){return e={$$typeof:q1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:B1,_context:e},e};J.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)K_.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return ud(e,s,void 0,void 0,null,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:H1,render:e}};J.isValidElement=cd;J.lazy=function(e){return{$$typeof:q_,_payload:{_status:-1,_result:e},_init:$1}};J.memo=function(e,t){return{$$typeof:F1,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=wt.T,n={};wt.T=n;try{var i=e(),r=wt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Z1,Xg)}catch(s){Xg(s)}finally{wt.T=t}};J.unstable_useCacheRefresh=function(){return wt.H.useCacheRefresh()};J.use=function(e){return wt.H.use(e)};J.useActionState=function(e,t,n){return wt.H.useActionState(e,t,n)};J.useCallback=function(e,t){return wt.H.useCallback(e,t)};J.useContext=function(e){return wt.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return wt.H.useDeferredValue(e,t)};J.useEffect=function(e,t,n){var i=wt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};J.useId=function(){return wt.H.useId()};J.useImperativeHandle=function(e,t,n){return wt.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return wt.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return wt.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return wt.H.useMemo(e,t)};J.useOptimistic=function(e,t){return wt.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return wt.H.useReducer(e,t,n)};J.useRef=function(e){return wt.H.useRef(e)};J.useState=function(e){return wt.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return wt.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return wt.H.useTransition()};J.version="19.1.1";B_.exports=J;var ft=B_.exports,Y_={exports:{}},Gu={},X_={exports:{}},$_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,X){var F=B.length;B.push(X);t:for(;0<F;){var ht=F-1>>>1,It=B[ht];if(0<r(It,X))B[ht]=X,B[F]=It,F=ht;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],F=B.pop();if(F!==X){B[0]=F;t:for(var ht=0,It=B.length,An=It>>>1;ht<An;){var ae=2*(ht+1)-1,Ot=B[ae],Sn=ae+1,nn=B[Sn];if(0>r(Ot,F))Sn<It&&0>r(nn,Ot)?(B[ht]=nn,B[Sn]=F,ht=Sn):(B[ht]=Ot,B[ae]=F,ht=ae);else if(Sn<It&&0>r(nn,F))B[ht]=nn,B[Sn]=F,ht=Sn;else break t}}return X}function r(B,X){var F=B.sortIndex-X.sortIndex;return F!==0?F:B.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,p=null,m=3,_=!1,N=!1,V=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=B)i(h),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(h)}}function z(B){if(V=!1,D(B),!N)if(n(u)!==null)N=!0,L||(L=!0,I());else{var X=n(h);X!==null&&Te(z,X.startTime-B)}}var L=!1,E=-1,y=5,A=-1;function S(){return k?!0:!(e.unstable_now()-A<y)}function R(){if(k=!1,L){var B=e.unstable_now();A=B;var X=!0;try{t:{N=!1,V&&(V=!1,v(E),E=-1),_=!0;var F=m;try{e:{for(D(B),p=n(u);p!==null&&!(p.expirationTime>B&&S());){var ht=p.callback;if(typeof ht=="function"){p.callback=null,m=p.priorityLevel;var It=ht(p.expirationTime<=B);if(B=e.unstable_now(),typeof It=="function"){p.callback=It,D(B),X=!0;break e}p===n(u)&&i(u),D(B)}else i(u);p=n(u)}if(p!==null)X=!0;else{var An=n(h);An!==null&&Te(z,An.startTime-B),X=!1}}break t}finally{p=null,m=F,_=!1}X=void 0}}finally{X?I():L=!1}}}var I;if(typeof w=="function")I=function(){w(R)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,vt=T.port2;T.port1.onmessage=R,I=function(){vt.postMessage(null)}}else I=function(){b(R,0)};function Te(B,X){E=b(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var F=m;m=X;try{return B()}finally{m=F}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=m;m=B;try{return X()}finally{m=F}},e.unstable_scheduleCallback=function(B,X,F){var ht=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ht+F:ht):F=ht,B){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=F+It,B={id:d++,callback:X,priorityLevel:B,startTime:F,expirationTime:It,sortIndex:-1},F>ht?(B.sortIndex=F,t(h,B),n(u)===null&&B===n(h)&&(V?(v(E),E=-1):V=!0,Te(z,F-ht))):(B.sortIndex=It,t(u,B),N||_||(N=!0,L||(L=!0,I()))),B},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(B){var X=m;return function(){var F=m;m=X;try{return B.apply(this,arguments)}finally{m=F}}}})($_);X_.exports=$_;var J1=X_.exports,Z_={exports:{}},Ee={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=ft;function J_(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ei(){}var ve={d:{f:ei,r:function(){throw Error(J_(522))},D:ei,C:ei,L:ei,m:ei,X:ei,S:ei,M:ei},p:0,findDOMNode:null},tS=Symbol.for("react.portal");function eS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var va=W1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Fu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ve;Ee.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(J_(299));return eS(e,t,null,n)};Ee.flushSync=function(e){var t=va.T,n=ve.p;try{if(va.T=null,ve.p=2,e)return e()}finally{va.T=t,ve.p=n,ve.d.f()}};Ee.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ve.d.C(e,t))};Ee.prefetchDNS=function(e){typeof e=="string"&&ve.d.D(e)};Ee.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Fu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ve.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&ve.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ee.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Fu(t.as,t.crossOrigin);ve.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ve.d.M(e)};Ee.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Fu(n,t.crossOrigin);ve.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ee.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Fu(t.as,t.crossOrigin);ve.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ve.d.m(e)};Ee.requestFormReset=function(e){ve.d.r(e)};Ee.unstable_batchedUpdates=function(e,t){return e(t)};Ee.useFormState=function(e,t,n){return va.H.useFormState(e,t,n)};Ee.useFormStatus=function(){return va.H.useHostTransitionStatus()};Ee.version="19.1.1";function W_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W_)}catch(e){console.error(e)}}W_(),Z_.exports=Ee;var nS=Z_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=J1,tv=ft,iS=nS;function P(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ev(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ho(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $g(e){if(ho(e)!==e)throw Error(P(188))}function rS(e){var t=e.alternate;if(!t){if(t=ho(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return $g(r),e;if(s===i)return $g(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function iv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=iv(e),t!==null)return t;e=e.sibling}return null}var St=Object.assign,sS=Symbol.for("react.element"),rl=Symbol.for("react.transitional.element"),ha=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),jh=Symbol.for("react.profiler"),aS=Symbol.for("react.provider"),sv=Symbol.for("react.consumer"),Nn=Symbol.for("react.context"),hd=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),qh=Symbol.for("react.suspense_list"),fd=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),Hh=Symbol.for("react.activity"),oS=Symbol.for("react.memo_cache_sentinel"),Zg=Symbol.iterator;function ia(e){return e===null||typeof e!="object"?null:(e=Zg&&e[Zg]||e["@@iterator"],typeof e=="function"?e:null)}var lS=Symbol.for("react.client.reference");function Gh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case jh:return"Profiler";case rv:return"StrictMode";case Bh:return"Suspense";case qh:return"SuspenseList";case Hh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ha:return"Portal";case Nn:return(e.displayName||"Context")+".Provider";case sv:return(e._context.displayName||"Context")+".Consumer";case hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fd:return t=e.displayName||null,t!==null?t:Gh(e.type)||"Memo";case si:t=e._payload,e=e._init;try{return Gh(e(t))}catch{}}return null}var fa=Array.isArray,K=tv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=iS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nr={pending:!1,data:null,method:null,action:null},Fh=[],qr=-1;function En(e){return{current:e}}function Jt(e){0>qr||(e.current=Fh[qr],Fh[qr]=null,qr--)}function Rt(e,t){qr++,Fh[qr]=e.current,e.current=t}var ln=En(null),Ba=En(null),Ei=En(null),Kl=En(null);function Yl(e,t){switch(Rt(Ei,t),Rt(Ba,e),Rt(ln,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ny(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ny(t),e=A0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Jt(ln),Rt(ln,e)}function fs(){Jt(ln),Jt(Ba),Jt(Ei)}function Qh(e){e.memoizedState!==null&&Rt(Kl,e);var t=ln.current,n=A0(t,e.type);t!==n&&(Rt(Ba,e),Rt(ln,n))}function Xl(e){Ba.current===e&&(Jt(ln),Jt(Ba)),Kl.current===e&&(Jt(Kl),Za._currentValue=nr)}var Kh=Object.prototype.hasOwnProperty,dd=Qt.unstable_scheduleCallback,Yc=Qt.unstable_cancelCallback,uS=Qt.unstable_shouldYield,cS=Qt.unstable_requestPaint,un=Qt.unstable_now,hS=Qt.unstable_getCurrentPriorityLevel,av=Qt.unstable_ImmediatePriority,ov=Qt.unstable_UserBlockingPriority,$l=Qt.unstable_NormalPriority,fS=Qt.unstable_LowPriority,lv=Qt.unstable_IdlePriority,dS=Qt.log,mS=Qt.unstable_setDisableYieldValue,fo=null,Me=null;function gi(e){if(typeof dS=="function"&&mS(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(fo,e)}catch{}}var xe=Math.clz32?Math.clz32:yS,gS=Math.log,pS=Math.LN2;function yS(e){return e>>>=0,e===0?32:31-(gS(e)/pS|0)|0}var sl=256,al=4194304;function Zi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Zi(i):(a&=l,a!==0?r=Zi(a):n||(n=l&~e,n!==0&&(r=Zi(n))))):(l=i&~s,l!==0?r=Zi(l):a!==0?r=Zi(a):n||(n=i&~e,n!==0&&(r=Zi(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function mo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _S(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uv(){var e=sl;return sl<<=1,!(sl&4194048)&&(sl=256),e}function cv(){var e=al;return al<<=1,!(al&62914560)&&(al=4194304),e}function Xc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function go(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vS(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-xe(n),p=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~p}i!==0&&hv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function hv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-xe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function fv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function md(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function dv(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:V0(e.type))}function ES(e,t){var n=ut.p;try{return ut.p=e,t()}finally{ut.p=n}}var Gi=Math.random().toString(36).slice(2),de="__reactFiber$"+Gi,Re="__reactProps$"+Gi,Os="__reactContainer$"+Gi,Yh="__reactEvents$"+Gi,TS="__reactListeners$"+Gi,AS="__reactHandles$"+Gi,Jg="__reactResources$"+Gi,po="__reactMarker$"+Gi;function pd(e){delete e[de],delete e[Re],delete e[Yh],delete e[TS],delete e[AS]}function Hr(e){var t=e[de];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Os]||n[de]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sy(e);e!==null;){if(n=e[de])return n;e=sy(e)}return t}e=n,n=e.parentNode}return null}function Vs(e){if(e=e[de]||e[Os]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function da(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(P(33))}function ts(e){var t=e[Jg];return t||(t=e[Jg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xt(e){e[po]=!0}var mv=new Set,gv={};function vr(e,t){ds(e,t),ds(e+"Capture",t)}function ds(e,t){for(gv[e]=t,e=0;e<t.length;e++)mv.add(t[e])}var SS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wg={},tp={};function bS(e){return Kh.call(tp,e)?!0:Kh.call(Wg,e)?!1:SS.test(e)?tp[e]=!0:(Wg[e]=!0,!1)}function bl(e,t,n){if(bS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ol(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Rn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var $c,ep;function xr(e){if($c===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$c=t&&t[1]||"",ep=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$c+e+ep}var Zc=!1;function Jc(e,t){if(!e||Zc)return"";Zc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(_){var m=_}Reflect.construct(e,[],p)}else{try{p.call()}catch(_){m=_}e.call(p.prototype)}}else{try{throw Error()}catch(_){m=_}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=r);break}}}finally{Zc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xr(n):""}function wS(e){switch(e.tag){case 26:case 27:case 5:return xr(e.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return Jc(e.type,!1);case 11:return Jc(e.type.render,!1);case 1:return Jc(e.type,!0);case 31:return xr("Activity");default:return""}}function np(e){try{var t="";do t+=wS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RS(e){var t=pv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zl(e){e._valueTracker||(e._valueTracker=RS(e))}function yv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=pv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var IS=/[\n"\\]/g;function qe(e){return e.replace(IS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xh(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ze(t)):e.value!==""+ze(t)&&(e.value=""+ze(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?$h(e,a,ze(t)):n!=null?$h(e,a,ze(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+ze(l):e.removeAttribute("name")}function _v(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+ze(n):"",t=t!=null?""+ze(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function $h(e,t,n){t==="number"&&Jl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function es(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ze(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function vv(e,t,n){if(t!=null&&(t=""+ze(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ze(n):""}function Ev(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(P(92));if(fa(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ze(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var CS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ip(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||CS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tv(e,t,n){if(t!=null&&typeof t!="object")throw Error(P(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&ip(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&ip(e,s,t[s])}function yd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(e){return NS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zh=null;function _d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gr=null,ns=null;function rp(e){var t=Vs(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;t:switch(e=t.stateNode,t.type){case"input":if(Xh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Re]||null;if(!r)throw Error(P(90));Xh(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&yv(i)}break t;case"textarea":vv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}}}var Wc=!1;function Av(e,t,n){if(Wc)return e(t,n);Wc=!0;try{var i=e(t);return i}finally{if(Wc=!1,(Gr!==null||ns!==null)&&(nc(),Gr&&(t=Gr,e=ns,ns=Gr=null,rp(t),e)))for(t=0;t<e.length;t++)rp(e[t])}}function qa(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=!1;if(Bn)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Jh=!1}var pi=null,vd=null,Rl=null;function Sv(){if(Rl)return Rl;var e,t=vd,n=t.length,i,r="value"in pi?pi.value:pi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return Rl=r.slice(e,1<i?1-i:void 0)}function Il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function sp(){return!1}function Ie(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ll:sp,this.isPropagationStopped=sp,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=Ie(Er),yo=St({},Er,{view:0,detail:0}),OS=Ie(yo),th,eh,sa,Yu=St({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ed,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(th=e.screenX-sa.screenX,eh=e.screenY-sa.screenY):eh=th=0,sa=e),th)},movementY:function(e){return"movementY"in e?e.movementY:eh}}),ap=Ie(Yu),VS=St({},Yu,{dataTransfer:0}),MS=Ie(VS),xS=St({},yo,{relatedTarget:0}),nh=Ie(xS),kS=St({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),PS=Ie(kS),US=St({},Er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LS=Ie(US),zS=St({},Er,{data:0}),op=Ie(zS),jS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qS[e])?!!t[e]:!1}function Ed(){return HS}var GS=St({},yo,{key:function(e){if(e.key){var t=jS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ed,charCode:function(e){return e.type==="keypress"?Il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FS=Ie(GS),QS=St({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lp=Ie(QS),KS=St({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ed}),YS=Ie(KS),XS=St({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),$S=Ie(XS),ZS=St({},Yu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JS=Ie(ZS),WS=St({},Er,{newState:0,oldState:0}),tb=Ie(WS),eb=[9,13,27,32],Td=Bn&&"CompositionEvent"in window,Ea=null;Bn&&"documentMode"in document&&(Ea=document.documentMode);var nb=Bn&&"TextEvent"in window&&!Ea,bv=Bn&&(!Td||Ea&&8<Ea&&11>=Ea),up=" ",cp=!1;function wv(e,t){switch(e){case"keyup":return eb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function ib(e,t){switch(e){case"compositionend":return Rv(t);case"keypress":return t.which!==32?null:(cp=!0,up);case"textInput":return e=t.data,e===up&&cp?null:e;default:return null}}function rb(e,t){if(Fr)return e==="compositionend"||!Td&&wv(e,t)?(e=Sv(),Rl=vd=pi=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bv&&t.locale!=="ko"?null:t.data;default:return null}}var sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sb[e.type]:t==="textarea"}function Iv(e,t,n,i){Gr?ns?ns.push(i):ns=[i]:Gr=i,t=pu(t,"onChange"),0<t.length&&(n=new Ku("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ta=null,Ha=null;function ab(e){v0(e,0)}function Xu(e){var t=da(e);if(yv(t))return e}function fp(e,t){if(e==="change")return t}var Cv=!1;if(Bn){var ih;if(Bn){var rh="oninput"in document;if(!rh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),rh=typeof dp.oninput=="function"}ih=rh}else ih=!1;Cv=ih&&(!document.documentMode||9<document.documentMode)}function mp(){Ta&&(Ta.detachEvent("onpropertychange",Dv),Ha=Ta=null)}function Dv(e){if(e.propertyName==="value"&&Xu(Ha)){var t=[];Iv(t,Ha,e,_d(e)),Av(ab,t)}}function ob(e,t,n){e==="focusin"?(mp(),Ta=t,Ha=n,Ta.attachEvent("onpropertychange",Dv)):e==="focusout"&&mp()}function lb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(Ha)}function ub(e,t){if(e==="click")return Xu(t)}function cb(e,t){if(e==="input"||e==="change")return Xu(t)}function hb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ue=typeof Object.is=="function"?Object.is:hb;function Ga(e,t){if(Ue(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Kh.call(t,r)||!Ue(e[r],t[r]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pp(e,t){var n=gp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=gp(n)}}function Nv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ov(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Jl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jl(e.document)}return t}function Ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fb=Bn&&"documentMode"in document&&11>=document.documentMode,Qr=null,Wh=null,Aa=null,tf=!1;function yp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tf||Qr==null||Qr!==Jl(i)||(i=Qr,"selectionStart"in i&&Ad(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Aa&&Ga(Aa,i)||(Aa=i,i=pu(Wh,"onSelect"),0<i.length&&(t=new Ku("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Qr)))}function $i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},sh={},Vv={};Bn&&(Vv=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Tr(e){if(sh[e])return sh[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vv)return sh[e]=t[n];return e}var Mv=Tr("animationend"),xv=Tr("animationiteration"),kv=Tr("animationstart"),db=Tr("transitionrun"),mb=Tr("transitionstart"),gb=Tr("transitioncancel"),Pv=Tr("transitionend"),Uv=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function en(e,t){Uv.set(e,t),vr(t,[e])}var _p=new WeakMap;function He(e,t){if(typeof e=="object"&&e!==null){var n=_p.get(e);return n!==void 0?n:(t={value:e,source:t,stack:np(t)},_p.set(e,t),t)}return{value:e,source:t,stack:np(t)}}var Le=[],Yr=0,Sd=0;function $u(){for(var e=Yr,t=Sd=Yr=0;t<e;){var n=Le[t];Le[t++]=null;var i=Le[t];Le[t++]=null;var r=Le[t];Le[t++]=null;var s=Le[t];if(Le[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&Lv(n,r,s)}}function Zu(e,t,n,i){Le[Yr++]=e,Le[Yr++]=t,Le[Yr++]=n,Le[Yr++]=i,Sd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function bd(e,t,n,i){return Zu(e,t,n,i),Wl(e)}function Ms(e,t){return Zu(e,null,null,t),Wl(e)}function Lv(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-xe(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Wl(e){if(50<Va)throw Va=0,Sf=null,Error(P(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xr={};function pb(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,i){return new pb(e,t,n,i)}function wd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cl(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")wd(e)&&(a=1);else if(typeof e=="string")a=_w(e,n,ln.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Hh:return e=Ve(31,n,t,r),e.elementType=Hh,e.lanes=s,e;case Br:return ir(n.children,r,s,t);case rv:a=8,r|=24;break;case jh:return e=Ve(12,n,t,r|2),e.elementType=jh,e.lanes=s,e;case Bh:return e=Ve(13,n,t,r),e.elementType=Bh,e.lanes=s,e;case qh:return e=Ve(19,n,t,r),e.elementType=qh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aS:case Nn:a=10;break t;case sv:a=9;break t;case hd:a=11;break t;case fd:a=14;break t;case si:a=16,i=null;break t}a=29,n=Error(P(130,e===null?"null":typeof e,"")),i=null}return t=Ve(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function ir(e,t,n,i){return e=Ve(7,e,i,t),e.lanes=n,e}function ah(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function oh(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $r=[],Zr=0,tu=null,eu=0,je=[],Be=0,rr=null,On=1,Vn="";function Ji(e,t){$r[Zr++]=eu,$r[Zr++]=tu,tu=e,eu=t}function jv(e,t,n){je[Be++]=On,je[Be++]=Vn,je[Be++]=rr,rr=e;var i=On;e=Vn;var r=32-xe(i)-1;i&=~(1<<r),n+=1;var s=32-xe(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,On=1<<32-xe(t)+r|n<<r|i,Vn=s+e}else On=1<<s|n<<r|i,Vn=e}function Rd(e){e.return!==null&&(Ji(e,1),jv(e,1,0))}function Id(e){for(;e===tu;)tu=$r[--Zr],$r[Zr]=null,eu=$r[--Zr],$r[Zr]=null;for(;e===rr;)rr=je[--Be],je[Be]=null,Vn=je[--Be],je[Be]=null,On=je[--Be],je[Be]=null}var _e=null,Mt=null,lt=!1,sr=null,an=!1,nf=Error(P(519));function cr(e){var t=Error(P(418,""));throw Fa(He(t,e)),nf}function vp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[de]=e,t[Re]=i,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<Ya.length;n++)tt(Ya[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),_v(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Zl(t);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),Ev(t,i.value,i.defaultValue,i.children),Zl(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||T0(t.textContent,n)?(i.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),i.onScroll!=null&&tt("scroll",t),i.onScrollEnd!=null&&tt("scrollend",t),i.onClick!=null&&(t.onclick=sc),t=!0):t=!1,t||cr(e)}function Ep(e){for(_e=e.return;_e;)switch(_e.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:_e=_e.return}}function aa(e){if(e!==_e)return!1;if(!lt)return Ep(e),lt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Df(e.type,e.memoizedProps)),n=!n),n&&Mt&&cr(e),Ep(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Mt=tn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Mt=null}}else t===27?(t=Mt,Fi(e.type)?(e=Vf,Vf=null,Mt=e):Mt=t):Mt=_e?tn(e.stateNode.nextSibling):null;return!0}function _o(){Mt=_e=null,lt=!1}function Tp(){var e=sr;return e!==null&&(be===null?be=e:be.push.apply(be,e),sr=null),e}function Fa(e){sr===null?sr=[e]:sr.push(e)}var rf=En(null),Ar=null,Mn=null;function oi(e,t,n){Rt(rf,t._currentValue),t._currentValue=n}function Ln(e){e._currentValue=rf.current,Jt(rf)}function sf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function af(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),sf(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),sf(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function vo(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;Ue(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===Kl.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Za):e=[Za])}r=r.return}e!==null&&af(t,e,n,i),t.flags|=262144}function nu(e){for(e=e.firstContext;e!==null;){if(!Ue(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hr(e){Ar=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function me(e){return Bv(Ar,e)}function ul(e,t){return Ar===null&&hr(e),Bv(e,t)}function Bv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Mn===null){if(e===null)throw Error(P(308));Mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mn=Mn.next=t;return n}var yb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},_b=Qt.unstable_scheduleCallback,vb=Qt.unstable_NormalPriority,qt={$$typeof:Nn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new yb,data:new Map,refCount:0}}function Eo(e){e.refCount--,e.refCount===0&&_b(vb,function(){e.controller.abort()})}var Sa=null,of=0,gs=0,is=null;function Eb(e,t){if(Sa===null){var n=Sa=[];of=0,gs=Zd(),is={status:"pending",value:void 0,then:function(i){n.push(i)}}}return of++,t.then(Ap,Ap),t}function Ap(){if(--of===0&&Sa!==null){is!==null&&(is.status="fulfilled");var e=Sa;Sa=null,gs=0,is=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Tb(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Sp=K.S;K.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Eb(e,t),Sp!==null&&Sp(e,t)};var ar=En(null);function Dd(){var e=ar.current;return e!==null?e:Et.pooledCache}function Dl(e,t){t===null?Rt(ar,ar.current):Rt(ar,t.pool)}function qv(){var e=Dd();return e===null?null:{parent:qt._currentValue,pool:e}}var To=Error(P(460)),Hv=Error(P(474)),Ju=Error(P(542)),lf={then:function(){}};function bp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cl(){}function Gv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(cl,cl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rp(e),e;default:if(typeof t.status=="string")t.then(cl,cl);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(P(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rp(e),e}throw ba=t,To}}var ba=null;function wp(){if(ba===null)throw Error(P(459));var e=ba;return ba=null,e}function Rp(e){if(e===To||e===Ju)throw Error(P(483))}var ai=!1;function Nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,mt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Wl(e),Lv(e,null,n),t}return Zu(e,i,t,n),Wl(e)}function wa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,fv(e,n)}}function lh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cf=!1;function Ra(){if(cf){var e=is;if(e!==null)throw e}}function Ia(e,t,n,i){cf=!1;var r=e.updateQueue;ai=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,d=h=u=null,l=s;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(at&m)===m:(i&m)===m){m!==0&&m===gs&&(cf=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var N=e,V=l;m=t;var k=n;switch(V.tag){case 1:if(N=V.payload,typeof N=="function"){p=N.call(k,p,m);break t}p=N;break t;case 3:N.flags=N.flags&-65537|128;case 0:if(N=V.payload,m=typeof N=="function"?N.call(k,p,m):N,m==null)break t;p=St({},p,m);break t;case 2:ai=!0}}m=l.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=r.callbacks,_===null?r.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=p):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;_=l,l=_.next,_.next=null,r.lastBaseUpdate=_,r.shared.pending=null}}while(!0);d===null&&(u=p),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,s===null&&(r.shared.lanes=0),Pi|=a,e.lanes=a,e.memoizedState=p}}function Fv(e,t){if(typeof e!="function")throw Error(P(191,e));e.call(t)}function Qv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Fv(n[e],t)}var ps=En(null),iu=En(0);function Ip(e,t){e=Gn,Rt(iu,e),Rt(ps,t),Gn=e|t.baseLanes}function hf(){Rt(iu,Gn),Rt(ps,ps.current)}function Od(){Gn=iu.current,Jt(ps),Jt(iu)}var xi=0,W=null,pt=null,zt=null,ru=!1,rs=!1,fr=!1,su=0,Qa=0,ss=null,Ab=0;function kt(){throw Error(P(321))}function Vd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ue(e[n],t[n]))return!1;return!0}function Md(e,t,n,i,r,s){return xi=s,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?SE:bE,fr=!1,s=n(i,r),fr=!1,rs&&(s=Yv(t,n,i,r)),Kv(e),s}function Kv(e){K.H=au;var t=pt!==null&&pt.next!==null;if(xi=0,zt=pt=W=null,ru=!1,Qa=0,ss=null,t)throw Error(P(300));e===null||$t||(e=e.dependencies,e!==null&&nu(e)&&($t=!0))}function Yv(e,t,n,i){W=e;var r=0;do{if(rs&&(ss=null),Qa=0,rs=!1,25<=r)throw Error(P(301));if(r+=1,zt=pt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}K.H=Db,s=t(n,i)}while(rs);return s}function Sb(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?Ao(t):t,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&(W.flags|=1024),t}function xd(){var e=su!==0;return su=0,e}function kd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Pd(e){if(ru){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ru=!1}xi=0,zt=pt=W=null,rs=!1,Qa=su=0,ss=null}function Ae(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?W.memoizedState=zt=e:zt=zt.next=e,zt}function Bt(){if(pt===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=zt===null?W.memoizedState:zt.next;if(t!==null)zt=t,pt=e;else{if(e===null)throw W.alternate===null?Error(P(467)):Error(P(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},zt===null?W.memoizedState=zt=e:zt=zt.next=e}return zt}function Ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ao(e){var t=Qa;return Qa+=1,ss===null&&(ss=[]),e=Gv(ss,e,t),t=W,(zt===null?t.memoizedState:zt.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?SE:bE),e}function Wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ao(e);if(e.$$typeof===Nn)return me(e)}throw Error(P(438,String(e)))}function Ld(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ud(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=oS;return t.index++,n}function qn(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=Bt();return zd(t,pt,e)}function zd(e,t,n){var i=e.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,d=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(at&p)===p:(xi&p)===p){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===gs&&(d=!0);else if((xi&m)===m){h=h.next,m===gs&&(d=!0);continue}else p={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,W.lanes|=m,Pi|=m;p=h.action,fr&&n(s,p),s=h.hasEagerState?h.eagerState:n(s,p)}else m={lane:p,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,W.lanes|=p,Pi|=p;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Ue(s,e.memoizedState)&&($t=!0,d&&(n=is,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function uh(e){var t=Bt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Ue(s,t.memoizedState)||($t=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Xv(e,t,n){var i=W,r=Bt(),s=lt;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=t();var a=!Ue((pt||r).memoizedState,n);a&&(r.memoizedState=n,$t=!0),r=r.queue;var l=Jv.bind(null,i,r,e);if(So(2048,8,l,[e]),r.getSnapshot!==t||a||zt!==null&&zt.memoizedState.tag&1){if(i.flags|=2048,ys(9,tc(),Zv.bind(null,i,r,n,t),null),Et===null)throw Error(P(349));s||xi&124||$v(i,t,n)}return n}function $v(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=Ud(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zv(e,t,n,i){t.value=n,t.getSnapshot=i,Wv(t)&&tE(e)}function Jv(e,t,n){return n(function(){Wv(t)&&tE(e)})}function Wv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ue(e,n)}catch{return!0}}function tE(e){var t=Ms(e,2);t!==null&&Pe(t,e,2)}function ff(e){var t=Ae();if(typeof e=="function"){var n=e;if(e=n(),fr){gi(!0);try{n()}finally{gi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:e},t}function eE(e,t,n,i){return e.baseState=n,zd(e,pt,typeof i=="function"?i:qn)}function bb(e,t,n,i,r){if(ec(e))throw Error(P(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};K.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,nE(t,s)):(s.next=n.next,t.pending=n.next=s)}}function nE(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=K.T,a={};K.T=a;try{var l=n(r,i),u=K.S;u!==null&&u(a,l),Cp(e,t,l)}catch(h){df(e,t,h)}finally{K.T=s}}else try{s=n(r,i),Cp(e,t,s)}catch(h){df(e,t,h)}}function Cp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Dp(e,t,i)},function(i){return df(e,t,i)}):Dp(e,t,n)}function Dp(e,t,n){t.status="fulfilled",t.value=n,iE(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,nE(e,n)))}function df(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,iE(t),t=t.next;while(t!==i)}e.action=null}function iE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rE(e,t){return t}function Np(e,t){if(lt){var n=Et.formState;if(n!==null){t:{var i=W;if(lt){if(Mt){e:{for(var r=Mt,s=an;r.nodeType!==8;){if(!s){r=null;break e}if(r=tn(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Mt=tn(r.nextSibling),i=r.data==="F!";break t}}cr(i)}i=!1}i&&(t=n[0])}}return n=Ae(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rE,lastRenderedState:t},n.queue=i,n=EE.bind(null,W,i),i.dispatch=n,i=ff(!1),s=Hd.bind(null,W,!1,i.queue),i=Ae(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=bb.bind(null,W,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Op(e){var t=Bt();return sE(t,pt,e)}function sE(e,t,n){if(t=zd(e,t,rE)[0],e=Nl(qn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ao(t)}catch(a){throw a===To?Ju:a}else i=t;t=Bt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(W.flags|=2048,ys(9,tc(),wb.bind(null,r,n),null)),[i,s,e]}function wb(e,t){e.action=t}function Vp(e){var t=Bt(),n=pt;if(n!==null)return sE(t,n,e);Bt(),t=t.memoizedState,n=Bt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function ys(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=W.updateQueue,t===null&&(t=Ud(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function tc(){return{destroy:void 0,resource:void 0}}function aE(){return Bt().memoizedState}function Ol(e,t,n,i){var r=Ae();i=i===void 0?null:i,W.flags|=e,r.memoizedState=ys(1|t,tc(),n,i)}function So(e,t,n,i){var r=Bt();i=i===void 0?null:i;var s=r.memoizedState.inst;pt!==null&&i!==null&&Vd(i,pt.memoizedState.deps)?r.memoizedState=ys(t,s,n,i):(W.flags|=e,r.memoizedState=ys(1|t,s,n,i))}function Mp(e,t){Ol(8390656,8,e,t)}function oE(e,t){So(2048,8,e,t)}function lE(e,t){return So(4,2,e,t)}function uE(e,t){return So(4,4,e,t)}function cE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hE(e,t,n){n=n!=null?n.concat([e]):null,So(4,4,cE.bind(null,t,e),n)}function jd(){}function fE(e,t){var n=Bt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Vd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function dE(e,t){var n=Bt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Vd(t,i[1]))return i[0];if(i=e(),fr){gi(!0);try{e()}finally{gi(!1)}}return n.memoizedState=[i,t],i}function Bd(e,t,n){return n===void 0||xi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=i0(),W.lanes|=e,Pi|=e,n)}function mE(e,t,n,i){return Ue(n,t)?n:ps.current!==null?(e=Bd(e,n,i),Ue(e,t)||($t=!0),e):xi&42?(e=i0(),W.lanes|=e,Pi|=e,t):($t=!0,e.memoizedState=n)}function gE(e,t,n,i,r){var s=ut.p;ut.p=s!==0&&8>s?s:8;var a=K.T,l={};K.T=l,Hd(e,!1,t,n);try{var u=r(),h=K.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=Tb(u,i);Ca(e,t,d,ke(e))}else Ca(e,t,i,ke(e))}catch(p){Ca(e,t,{then:function(){},status:"rejected",reason:p},ke())}finally{ut.p=s,K.T=a}}function Rb(){}function mf(e,t,n,i){if(e.tag!==5)throw Error(P(476));var r=pE(e).queue;gE(e,r,t,nr,n===null?Rb:function(){return yE(e),n(i)})}function pE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:nr,baseState:nr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:nr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function yE(e){var t=pE(e).next.queue;Ca(e,t,{},ke())}function qd(){return me(Za)}function _E(){return Bt().memoizedState}function vE(){return Bt().memoizedState}function Ib(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ke();e=Ti(n);var i=Ai(t,e,n);i!==null&&(Pe(i,t,n),wa(i,t,n)),t={cache:Cd()},e.payload=t;return}t=t.return}}function Cb(e,t,n){var i=ke();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ec(e)?TE(t,n):(n=bd(e,t,n,i),n!==null&&(Pe(n,e,i),AE(n,t,i)))}function EE(e,t,n){var i=ke();Ca(e,t,n,i)}function Ca(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ec(e))TE(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ue(l,a))return Zu(e,t,r,0),Et===null&&$u(),!1}catch{}finally{}if(n=bd(e,t,r,i),n!==null)return Pe(n,e,i),AE(n,t,i),!0}return!1}function Hd(e,t,n,i){if(i={lane:2,revertLane:Zd(),action:i,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(t)throw Error(P(479))}else t=bd(e,n,i,2),t!==null&&Pe(t,e,2)}function ec(e){var t=e.alternate;return e===W||t!==null&&t===W}function TE(e,t){rs=ru=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AE(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,fv(e,n)}}var au={readContext:me,use:Wu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},SE={readContext:me,use:Wu,useCallback:function(e,t){return Ae().memoizedState=[e,t===void 0?null:t],e},useContext:me,useEffect:Mp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ol(4194308,4,cE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){Ol(4,2,e,t)},useMemo:function(e,t){var n=Ae();t=t===void 0?null:t;var i=e();if(fr){gi(!0);try{e()}finally{gi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ae();if(n!==void 0){var r=n(t);if(fr){gi(!0);try{n(t)}finally{gi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=Cb.bind(null,W,e),[i.memoizedState,e]},useRef:function(e){var t=Ae();return e={current:e},t.memoizedState=e},useState:function(e){e=ff(e);var t=e.queue,n=EE.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:jd,useDeferredValue:function(e,t){var n=Ae();return Bd(n,e,t)},useTransition:function(){var e=ff(!1);return e=gE.bind(null,W,e.queue,!0,!1),Ae().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=W,r=Ae();if(lt){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Et===null)throw Error(P(349));at&124||$v(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Mp(Jv.bind(null,i,s,e),[e]),i.flags|=2048,ys(9,tc(),Zv.bind(null,i,s,n,t),null),n},useId:function(){var e=Ae(),t=Et.identifierPrefix;if(lt){var n=Vn,i=On;n=(i&~(1<<32-xe(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=su++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Ab++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:qd,useFormState:Np,useActionState:Np,useOptimistic:function(e){var t=Ae();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hd.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ld,useCacheRefresh:function(){return Ae().memoizedState=Ib.bind(null,W)}},bE={readContext:me,use:Wu,useCallback:fE,useContext:me,useEffect:oE,useImperativeHandle:hE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:dE,useReducer:Nl,useRef:aE,useState:function(){return Nl(qn)},useDebugValue:jd,useDeferredValue:function(e,t){var n=Bt();return mE(n,pt.memoizedState,e,t)},useTransition:function(){var e=Nl(qn)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Ao(e),t]},useSyncExternalStore:Xv,useId:_E,useHostTransitionStatus:qd,useFormState:Op,useActionState:Op,useOptimistic:function(e,t){var n=Bt();return eE(n,pt,e,t)},useMemoCache:Ld,useCacheRefresh:vE},Db={readContext:me,use:Wu,useCallback:fE,useContext:me,useEffect:oE,useImperativeHandle:hE,useInsertionEffect:lE,useLayoutEffect:uE,useMemo:dE,useReducer:uh,useRef:aE,useState:function(){return uh(qn)},useDebugValue:jd,useDeferredValue:function(e,t){var n=Bt();return pt===null?Bd(n,e,t):mE(n,pt.memoizedState,e,t)},useTransition:function(){var e=uh(qn)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Ao(e),t]},useSyncExternalStore:Xv,useId:_E,useHostTransitionStatus:qd,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,t){var n=Bt();return pt!==null?eE(n,pt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ld,useCacheRefresh:vE},as=null,Ka=0;function hl(e){var t=Ka;return Ka+=1,as===null&&(as=[]),Gv(as,e,t)}function oa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fl(e,t){throw t.$$typeof===sS?Error(P(525)):(e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function xp(e){var t=e._init;return t(e._payload)}function wE(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function r(b,v){return b=Un(b,v),b.index=0,b.sibling=null,b}function s(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=67108866,v):w):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function l(b,v,w,D){return v===null||v.tag!==6?(v=ah(w,b.mode,D),v.return=b,v):(v=r(v,w),v.return=b,v)}function u(b,v,w,D){var z=w.type;return z===Br?d(b,v,w.props.children,D,w.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===si&&xp(z)===v.type)?(v=r(v,w.props),oa(v,w),v.return=b,v):(v=Cl(w.type,w.key,w.props,null,b.mode,D),oa(v,w),v.return=b,v)}function h(b,v,w,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=oh(w,b.mode,D),v.return=b,v):(v=r(v,w.children||[]),v.return=b,v)}function d(b,v,w,D,z){return v===null||v.tag!==7?(v=ir(w,b.mode,D,z),v.return=b,v):(v=r(v,w),v.return=b,v)}function p(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=ah(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rl:return w=Cl(v.type,v.key,v.props,null,b.mode,w),oa(w,v),w.return=b,w;case ha:return v=oh(v,b.mode,w),v.return=b,v;case si:var D=v._init;return v=D(v._payload),p(b,v,w)}if(fa(v)||ia(v))return v=ir(v,b.mode,w,null),v.return=b,v;if(typeof v.then=="function")return p(b,hl(v),w);if(v.$$typeof===Nn)return p(b,ul(b,v),w);fl(b,v)}return null}function m(b,v,w,D){var z=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return z!==null?null:l(b,v,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rl:return w.key===z?u(b,v,w,D):null;case ha:return w.key===z?h(b,v,w,D):null;case si:return z=w._init,w=z(w._payload),m(b,v,w,D)}if(fa(w)||ia(w))return z!==null?null:d(b,v,w,D,null);if(typeof w.then=="function")return m(b,v,hl(w),D);if(w.$$typeof===Nn)return m(b,v,ul(b,w),D);fl(b,w)}return null}function _(b,v,w,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return b=b.get(w)||null,l(v,b,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case rl:return b=b.get(D.key===null?w:D.key)||null,u(v,b,D,z);case ha:return b=b.get(D.key===null?w:D.key)||null,h(v,b,D,z);case si:var L=D._init;return D=L(D._payload),_(b,v,w,D,z)}if(fa(D)||ia(D))return b=b.get(w)||null,d(v,b,D,z,null);if(typeof D.then=="function")return _(b,v,w,hl(D),z);if(D.$$typeof===Nn)return _(b,v,w,ul(v,D),z);fl(v,D)}return null}function N(b,v,w,D){for(var z=null,L=null,E=v,y=v=0,A=null;E!==null&&y<w.length;y++){E.index>y?(A=E,E=null):A=E.sibling;var S=m(b,E,w[y],D);if(S===null){E===null&&(E=A);break}e&&E&&S.alternate===null&&t(b,E),v=s(S,v,y),L===null?z=S:L.sibling=S,L=S,E=A}if(y===w.length)return n(b,E),lt&&Ji(b,y),z;if(E===null){for(;y<w.length;y++)E=p(b,w[y],D),E!==null&&(v=s(E,v,y),L===null?z=E:L.sibling=E,L=E);return lt&&Ji(b,y),z}for(E=i(E);y<w.length;y++)A=_(E,b,y,w[y],D),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?y:A.key),v=s(A,v,y),L===null?z=A:L.sibling=A,L=A);return e&&E.forEach(function(R){return t(b,R)}),lt&&Ji(b,y),z}function V(b,v,w,D){if(w==null)throw Error(P(151));for(var z=null,L=null,E=v,y=v=0,A=null,S=w.next();E!==null&&!S.done;y++,S=w.next()){E.index>y?(A=E,E=null):A=E.sibling;var R=m(b,E,S.value,D);if(R===null){E===null&&(E=A);break}e&&E&&R.alternate===null&&t(b,E),v=s(R,v,y),L===null?z=R:L.sibling=R,L=R,E=A}if(S.done)return n(b,E),lt&&Ji(b,y),z;if(E===null){for(;!S.done;y++,S=w.next())S=p(b,S.value,D),S!==null&&(v=s(S,v,y),L===null?z=S:L.sibling=S,L=S);return lt&&Ji(b,y),z}for(E=i(E);!S.done;y++,S=w.next())S=_(E,b,y,S.value,D),S!==null&&(e&&S.alternate!==null&&E.delete(S.key===null?y:S.key),v=s(S,v,y),L===null?z=S:L.sibling=S,L=S);return e&&E.forEach(function(I){return t(b,I)}),lt&&Ji(b,y),z}function k(b,v,w,D){if(typeof w=="object"&&w!==null&&w.type===Br&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rl:t:{for(var z=w.key;v!==null;){if(v.key===z){if(z=w.type,z===Br){if(v.tag===7){n(b,v.sibling),D=r(v,w.props.children),D.return=b,b=D;break t}}else if(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===si&&xp(z)===v.type){n(b,v.sibling),D=r(v,w.props),oa(D,w),D.return=b,b=D;break t}n(b,v);break}else t(b,v);v=v.sibling}w.type===Br?(D=ir(w.props.children,b.mode,D,w.key),D.return=b,b=D):(D=Cl(w.type,w.key,w.props,null,b.mode,D),oa(D,w),D.return=b,b=D)}return a(b);case ha:t:{for(z=w.key;v!==null;){if(v.key===z)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(b,v.sibling),D=r(v,w.children||[]),D.return=b,b=D;break t}else{n(b,v);break}else t(b,v);v=v.sibling}D=oh(w,b.mode,D),D.return=b,b=D}return a(b);case si:return z=w._init,w=z(w._payload),k(b,v,w,D)}if(fa(w))return N(b,v,w,D);if(ia(w)){if(z=ia(w),typeof z!="function")throw Error(P(150));return w=z.call(w),V(b,v,w,D)}if(typeof w.then=="function")return k(b,v,hl(w),D);if(w.$$typeof===Nn)return k(b,v,ul(b,w),D);fl(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(b,v.sibling),D=r(v,w),D.return=b,b=D):(n(b,v),D=ah(w,b.mode,D),D.return=b,b=D),a(b)):n(b,v)}return function(b,v,w,D){try{Ka=0;var z=k(b,v,w,D);return as=null,z}catch(E){if(E===To||E===Ju)throw E;var L=Ve(29,E,null,b.mode);return L.lanes=D,L.return=b,L}finally{}}}var _s=wE(!0),RE=wE(!1),Ke=En(null),cn=null;function li(e){var t=e.alternate;Rt(Ht,Ht.current&1),Rt(Ke,e),cn===null&&(t===null||ps.current!==null||t.memoizedState!==null)&&(cn=e)}function IE(e){if(e.tag===22){if(Rt(Ht,Ht.current),Rt(Ke,e),cn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(cn=e)}}else ui()}function ui(){Rt(Ht,Ht.current),Rt(Ke,Ke.current)}function xn(e){Jt(Ke),cn===e&&(cn=null),Jt(Ht)}var Ht=En(0);function ou(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Of(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ch(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:St({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ke(),r=Ti(i);r.payload=t,n!=null&&(r.callback=n),t=Ai(e,r,i),t!==null&&(Pe(t,e,i),wa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ke(),r=Ti(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ai(e,r,i),t!==null&&(Pe(t,e,i),wa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),i=Ti(n);i.tag=2,t!=null&&(i.callback=t),t=Ai(e,i,n),t!==null&&(Pe(t,e,n),wa(t,e,n))}};function kp(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ga(n,i)||!Ga(r,s):!0}function Pp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function dr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=St({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function CE(e){lu(e)}function DE(e){console.error(e)}function NE(e){lu(e)}function uu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Up(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function pf(e,t,n){return n=Ti(n),n.tag=3,n.payload={element:null},n.callback=function(){uu(e,t)},n}function OE(e){return e=Ti(e),e.tag=3,e}function VE(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Up(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Up(t,n,i),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Nb(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&vo(t,n,r,!0),n=Ke.current,n!==null){switch(n.tag){case 13:return cn===null?bf():n.alternate===null&&xt===0&&(xt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===lf?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Th(e,i,r)),!1;case 22:return n.flags|=65536,i===lf?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Th(e,i,r)),!1}throw Error(P(435,n.tag))}return Th(e,i,r),bf(),!1}if(lt)return t=Ke.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==nf&&(e=Error(P(422),{cause:i}),Fa(He(e,n)))):(i!==nf&&(t=Error(P(423),{cause:i}),Fa(He(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=He(i,n),r=pf(e.stateNode,i,r),lh(e,r),xt!==4&&(xt=2)),!1;var s=Error(P(520),{cause:i});if(s=He(s,n),Oa===null?Oa=[s]:Oa.push(s),xt!==4&&(xt=2),t===null)return!0;i=He(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=pf(n.stateNode,i,e),lh(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Si===null||!Si.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=OE(r),VE(r,e,n,i),lh(n,r),!1}n=n.return}while(n!==null);return!1}var ME=Error(P(461)),$t=!1;function te(e,t,n,i){t.child=e===null?RE(t,null,n,i):_s(t,e.child,n,i)}function Lp(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return hr(t),i=Md(e,t,n,a,s,r),l=xd(),e!==null&&!$t?(kd(e,t,r),Hn(e,t,r)):(lt&&l&&Rd(t),t.flags|=1,te(e,t,i,r),t.child)}function zp(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!wd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,xE(e,t,s,i,r)):(e=Cl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Gd(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(a,i)&&e.ref===t.ref)return Hn(e,t,r)}return t.flags|=1,e=Un(s,i),e.ref=t.ref,e.return=t,t.child=e}function xE(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ga(s,i)&&e.ref===t.ref)if($t=!1,t.pendingProps=i=s,Gd(e,r))e.flags&131072&&($t=!0);else return t.lanes=e.lanes,Hn(e,t,r)}return yf(e,t,n,i,r)}function kE(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return jp(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(t,s!==null?s.cachePool:null),s!==null?Ip(t,s):hf(),IE(t);else return t.lanes=t.childLanes=536870912,jp(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Dl(t,s.cachePool),Ip(t,s),ui(),t.memoizedState=null):(e!==null&&Dl(t,null),hf(),ui());return te(e,t,r,n),t.child}function jp(e,t,n,i){var r=Dd();return r=r===null?null:{parent:qt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Dl(t,null),hf(),IE(t),e!==null&&vo(e,t,i,!0),null}function Vl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function yf(e,t,n,i,r){return hr(t),n=Md(e,t,n,i,void 0,r),i=xd(),e!==null&&!$t?(kd(e,t,r),Hn(e,t,r)):(lt&&i&&Rd(t),t.flags|=1,te(e,t,n,r),t.child)}function Bp(e,t,n,i,r,s){return hr(t),t.updateQueue=null,n=Yv(t,i,n,r),Kv(e),i=xd(),e!==null&&!$t?(kd(e,t,s),Hn(e,t,s)):(lt&&i&&Rd(t),t.flags|=1,te(e,t,n,s),t.child)}function qp(e,t,n,i,r){if(hr(t),t.stateNode===null){var s=Xr,a=n.contextType;typeof a=="object"&&a!==null&&(s=me(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=gf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Nd(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?me(a):Xr,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(ch(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&gf.enqueueReplaceState(s,s.state,null),Ia(t,i,s,r),Ra(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=dr(n,l);s.props=u;var h=s.context,d=n.contextType;a=Xr,typeof d=="object"&&d!==null&&(a=me(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&Pp(t,s,i,a),ai=!1;var m=t.memoizedState;s.state=m,Ia(t,i,s,r),Ra(),h=t.memoizedState,l||m!==h||ai?(typeof p=="function"&&(ch(t,n,p,i),h=t.memoizedState),(u=ai||kp(t,n,u,i,m,h,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,uf(e,t),a=t.memoizedProps,d=dr(n,a),s.props=d,p=t.pendingProps,m=s.context,h=n.contextType,u=Xr,typeof h=="object"&&h!==null&&(u=me(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==u)&&Pp(t,s,i,u),ai=!1,m=t.memoizedState,s.state=m,Ia(t,i,s,r),Ra();var _=t.memoizedState;a!==p||m!==_||ai||e!==null&&e.dependencies!==null&&nu(e.dependencies)?(typeof l=="function"&&(ch(t,n,l,i),_=t.memoizedState),(d=ai||kp(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&nu(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,_,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,_,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),s.props=i,s.state=_,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Vl(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=_s(t,e.child,null,r),t.child=_s(t,null,n,r)):te(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Hn(e,t,r),e}function Hp(e,t,n,i){return _o(),t.flags|=256,te(e,t,n,i),t.child}var hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(e){return{baseLanes:e,cachePool:qv()}}function dh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Qe),e}function PE(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(Ht.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(lt){if(r?li(t):ui(),lt){var l=Mt,u;if(u=l){t:{for(u=l,l=an;u.nodeType!==8;){if(!l){l=null;break t}if(u=tn(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:rr!==null?{id:On,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},u=Ve(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,_e=t,Mt=null,u=!0):u=!1}u||cr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Of(l)?t.lanes=32:t.lanes=536870912,null;xn(t)}return l=i.children,i=i.fallback,r?(ui(),r=t.mode,l=cu({mode:"hidden",children:l},r),i=ir(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=fh(n),r.childLanes=dh(e,a,n),t.memoizedState=hh,i):(li(t),_f(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(li(t),t.flags&=-257,t=mh(e,t,n)):t.memoizedState!==null?(ui(),t.child=e.child,t.flags|=128,t=null):(ui(),r=i.fallback,l=t.mode,i=cu({mode:"visible",children:i.children},l),r=ir(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,_s(t,e.child,null,n),i=t.child,i.memoizedState=fh(n),i.childLanes=dh(e,a,n),t.memoizedState=hh,t=r);else if(li(t),Of(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(P(419)),i.stack="",i.digest=a,Fa({value:i,source:null,stack:null}),t=mh(e,t,n)}else if($t||vo(e,t,n,!1),a=(n&e.childLanes)!==0,$t||a){if(a=Et,a!==null&&(i=n&-n,i=i&42?1:md(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Ms(e,i),Pe(a,e,i),ME;l.data==="$?"||bf(),t=mh(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Mt=tn(l.nextSibling),_e=t,lt=!0,sr=null,an=!1,e!==null&&(je[Be++]=On,je[Be++]=Vn,je[Be++]=rr,On=e.id,Vn=e.overflow,rr=t),t=_f(t,i.children),t.flags|=4096);return t}return r?(ui(),r=i.fallback,l=t.mode,u=e.child,h=u.sibling,i=Un(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?r=Un(h,r):(r=ir(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=fh(n):(u=l.cachePool,u!==null?(h=qt._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=qv(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=dh(e,a,n),t.memoizedState=hh,i):(li(t),n=e.child,e=n.sibling,n=Un(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function _f(e,t){return t=cu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cu(e,t){return e=Ve(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function mh(e,t,n){return _s(t,e.child,null,n),e=_f(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),sf(e.return,t,n)}function gh(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function UE(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(te(e,t,i.children,n),i=Ht.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gp(e,n,t);else if(e.tag===19)Gp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(Rt(Ht,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ou(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),gh(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ou(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}gh(t,!0,n,null,s);break;case"together":gh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pi|=t.lanes,!(n&t.childLanes))if(e!==null){if(vo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&nu(e)))}function Ob(e,t,n){switch(t.tag){case 3:Yl(t,t.stateNode.containerInfo),oi(t,qt,e.memoizedState.cache),_o();break;case 27:case 5:Qh(t);break;case 4:Yl(t,t.stateNode.containerInfo);break;case 10:oi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(li(t),t.flags|=128,null):n&t.child.childLanes?PE(e,t,n):(li(t),e=Hn(e,t,n),e!==null?e.sibling:null);li(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(vo(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return UE(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Rt(Ht,Ht.current),i)break;return null;case 22:case 23:return t.lanes=0,kE(e,t,n);case 24:oi(t,qt,e.memoizedState.cache)}return Hn(e,t,n)}function LE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$t=!0;else{if(!Gd(e,n)&&!(t.flags&128))return $t=!1,Ob(e,t,n);$t=!!(e.flags&131072)}else $t=!1,lt&&t.flags&1048576&&jv(t,eu,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")wd(i)?(e=dr(i,e),t.tag=1,t=qp(null,t,i,e,n)):(t.tag=0,t=yf(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===hd){t.tag=11,t=Lp(null,t,i,e,n);break t}else if(r===fd){t.tag=14,t=zp(null,t,i,e,n);break t}}throw t=Gh(i)||i,Error(P(306,t,""))}}return t;case 0:return yf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=dr(i,t.pendingProps),qp(e,t,i,r,n);case 3:t:{if(Yl(t,t.stateNode.containerInfo),e===null)throw Error(P(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,uf(e,t),Ia(t,i,null,n);var a=t.memoizedState;if(i=a.cache,oi(t,qt,i),i!==s.cache&&af(t,[qt],n,!0),Ra(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Hp(e,t,i,n);break t}else if(i!==r){r=He(Error(P(424)),t),Fa(r),t=Hp(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Mt=tn(e.firstChild),_e=t,lt=!0,sr=null,an=!0,n=RE(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(_o(),i===r){t=Hn(e,t,n);break t}te(e,t,i,n)}t=t.child}return t;case 26:return Vl(e,t),e===null?(n=oy(t.type,null,t.pendingProps,null))?t.memoizedState=n:lt||(n=t.type,e=t.pendingProps,i=yu(Ei.current).createElement(n),i[de]=t,i[Re]=e,re(i,n,e),Xt(i),t.stateNode=i):t.memoizedState=oy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qh(t),e===null&&lt&&(i=t.stateNode=b0(t.type,t.pendingProps,Ei.current),_e=t,an=!0,r=Mt,Fi(t.type)?(Vf=r,Mt=tn(i.firstChild)):Mt=r),te(e,t,t.pendingProps.children,n),Vl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&lt&&((r=i=Mt)&&(i=sw(i,t.type,t.pendingProps,an),i!==null?(t.stateNode=i,_e=t,Mt=tn(i.firstChild),an=!1,r=!0):r=!1),r||cr(t)),Qh(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Df(r,s)?i=null:a!==null&&Df(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=Md(e,t,Sb,null,null,n),Za._currentValue=r),Vl(e,t),te(e,t,i,n),t.child;case 6:return e===null&&lt&&((e=n=Mt)&&(n=aw(n,t.pendingProps,an),n!==null?(t.stateNode=n,_e=t,Mt=null,e=!0):e=!1),e||cr(t)),null;case 13:return PE(e,t,n);case 4:return Yl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=_s(t,null,i,n):te(e,t,i,n),t.child;case 11:return Lp(e,t,t.type,t.pendingProps,n);case 7:return te(e,t,t.pendingProps,n),t.child;case 8:return te(e,t,t.pendingProps.children,n),t.child;case 12:return te(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,oi(t,t.type,i.value),te(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,hr(t),r=me(r),i=i(r),t.flags|=1,te(e,t,i,n),t.child;case 14:return zp(e,t,t.type,t.pendingProps,n);case 15:return xE(e,t,t.type,t.pendingProps,n);case 19:return UE(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=cu(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Un(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return kE(e,t,n);case 24:return hr(t),i=me(qt),e===null?(r=Dd(),r===null&&(r=Et,s=Cd(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Nd(t),oi(t,qt,r)):(e.lanes&n&&(uf(e,t),Ia(t,null,null,n),Ra()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),oi(t,qt,i)):(i=s.cache,oi(t,qt,i),i!==r.cache&&af(t,[qt],n,!0))),te(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(P(156,t.tag))}function In(e){e.flags|=4}function Fp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!I0(t)){if(t=Ke.current,t!==null&&((at&4194048)===at?cn!==null:(at&62914560)!==at&&!(at&536870912)||t!==cn))throw ba=lf,Hv;e.flags|=8192}}function dl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?cv():536870912,e.lanes|=t,vs|=t)}function la(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Vb(e,t,n){var i=t.pendingProps;switch(Id(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ct(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(qt),fs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(aa(t)?In(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tp())),Ct(t),null;case 26:return n=t.memoizedState,e===null?(In(t),n!==null?(Ct(t),Fp(t,n)):(Ct(t),t.flags&=-16777217)):n?n!==e.memoizedState?(In(t),Ct(t),Fp(t,n)):(Ct(t),t.flags&=-16777217):(e.memoizedProps!==i&&In(t),Ct(t),t.flags&=-16777217),null;case 27:Xl(t),n=Ei.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Ct(t),null}e=ln.current,aa(t)?vp(t):(e=b0(r,i,n),t.stateNode=e,In(t))}return Ct(t),null;case 5:if(Xl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(!i){if(t.stateNode===null)throw Error(P(166));return Ct(t),null}if(e=ln.current,aa(t))vp(t);else{switch(r=yu(Ei.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[de]=t,e[Re]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(re(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&In(t)}}return Ct(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&In(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(e=Ei.current,aa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=_e,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[de]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||T0(e.nodeValue,n)),e||cr(t)}else e=yu(e).createTextNode(i),e[de]=t,t.stateNode=e}return Ct(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=aa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(P(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[de]=t}else _o(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),r=!1}else r=Tp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(xn(t),t):(xn(t),null)}if(xn(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),Ct(t),null;case 4:return fs(),e===null&&Jd(t.stateNode.containerInfo),Ct(t),null;case 10:return Ln(t.type),Ct(t),null;case 19:if(Jt(Ht),r=t.memoizedState,r===null)return Ct(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)la(r,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ou(e),s!==null){for(t.flags|=128,la(r,!1),e=s.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zv(n,e),n=n.sibling;return Rt(Ht,Ht.current&1|2),t.child}e=e.sibling}r.tail!==null&&un()>fu&&(t.flags|=128,i=!0,la(r,!1),t.lanes=4194304)}else{if(!i)if(e=ou(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),la(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!lt)return Ct(t),null}else 2*un()-r.renderingStartTime>fu&&n!==536870912&&(t.flags|=128,i=!0,la(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=un(),t.sibling=null,e=Ht.current,Rt(Ht,i?e&1|2:e&1),t):(Ct(t),null);case 22:case 23:return xn(t),Od(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),n=t.updateQueue,n!==null&&dl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Jt(ar),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ln(qt),Ct(t),null;case 25:return null;case 30:return null}throw Error(P(156,t.tag))}function Mb(e,t){switch(Id(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(qt),fs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xl(t),null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));_o()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jt(Ht),null;case 4:return fs(),null;case 10:return Ln(t.type),null;case 22:case 23:return xn(t),Od(),e!==null&&Jt(ar),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(qt),null;case 25:return null;default:return null}}function zE(e,t){switch(Id(t),t.tag){case 3:Ln(qt),fs();break;case 26:case 27:case 5:Xl(t);break;case 4:fs();break;case 13:xn(t);break;case 19:Jt(Ht);break;case 10:Ln(t.type);break;case 22:case 23:xn(t),Od(),e!==null&&Jt(ar);break;case 24:Ln(qt)}}function bo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){_t(t,t.return,l)}}function ki(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(d){_t(r,u,d)}}}i=i.next}while(i!==s)}}catch(d){_t(t,t.return,d)}}function jE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Qv(t,n)}catch(i){_t(e,e.return,i)}}}function BE(e,t,n){n.props=dr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){_t(e,t,i)}}function Da(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){_t(e,t,r)}}function on(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){_t(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){_t(e,t,r)}else n.current=null}function qE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){_t(e,e.return,r)}}function ph(e,t,n){try{var i=e.stateNode;tw(i,e.type,n,t),i[Re]=t}catch(r){_t(e,e.return,r)}}function HE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fi(e.type)||e.tag===4}function yh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||HE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sc));else if(i!==4&&(i===27&&Fi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vf(e,t,n),e=e.sibling;e!==null;)vf(e,t,n),e=e.sibling}function hu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Fi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(hu(e,t,n),e=e.sibling;e!==null;)hu(e,t,n),e=e.sibling}function GE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);re(t,i,n),t[de]=e,t[Re]=n}catch(s){_t(e,e.return,s)}}var Dn=!1,Pt=!1,_h=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function xb(e,t){if(e=e.containerInfo,If=Tu,e=Ov(e),Ad(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,h=0,d=0,p=e,m=null;e:for(;;){for(var _;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===e)break e;if(m===n&&++h===r&&(l=a),m===s&&++d===i&&(u=a),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cf={focusedElem:e,selectionRange:n},Tu=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){switch(t=Yt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var N=dr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(N,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(V){_t(n,n.return,V)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Nf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(P(163))}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}}function FE(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n),i&4&&bo(5,n);break;case 1:if(ni(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){_t(n,n.return,a)}else{var r=dr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){_t(n,n.return,a)}}i&64&&jE(n),i&512&&Da(n,n.return);break;case 3:if(ni(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Qv(e,t)}catch(a){_t(n,n.return,a)}}break;case 27:t===null&&i&4&&GE(n);case 26:case 5:ni(e,n),t===null&&i&4&&qE(n),i&512&&Da(n,n.return);break;case 12:ni(e,n);break;case 13:ni(e,n),i&4&&YE(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Hb.bind(null,n),ow(e,n))));break;case 22:if(i=n.memoizedState!==null||Dn,!i){t=t!==null&&t.memoizedState!==null||Pt,r=Dn;var s=Pt;Dn=i,(Pt=t)&&!s?ri(e,n,(n.subtreeFlags&8772)!==0):ni(e,n),Dn=r,Pt=s}break;case 30:break;default:ni(e,n)}}function QE(e){var t=e.alternate;t!==null&&(e.alternate=null,QE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&pd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,Se=!1;function Cn(e,t,n){for(n=n.child;n!==null;)KE(e,t,n),n=n.sibling}function KE(e,t,n){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(fo,n)}catch{}switch(n.tag){case 26:Pt||on(n,t),Cn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Pt||on(n,t);var i=bt,r=Se;Fi(n.type)&&(bt=n.stateNode,Se=!1),Cn(e,t,n),Ma(n.stateNode),bt=i,Se=r;break;case 5:Pt||on(n,t);case 6:if(i=bt,r=Se,bt=null,Cn(e,t,n),bt=i,Se=r,bt!==null)if(Se)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(n.stateNode)}catch(s){_t(n,t,s)}else try{bt.removeChild(n.stateNode)}catch(s){_t(n,t,s)}break;case 18:bt!==null&&(Se?(e=bt,ry(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),to(e)):ry(bt,n.stateNode));break;case 4:i=bt,r=Se,bt=n.stateNode.containerInfo,Se=!0,Cn(e,t,n),bt=i,Se=r;break;case 0:case 11:case 14:case 15:Pt||ki(2,n,t),Pt||ki(4,n,t),Cn(e,t,n);break;case 1:Pt||(on(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&BE(n,t,i)),Cn(e,t,n);break;case 21:Cn(e,t,n);break;case 22:Pt=(i=Pt)||n.memoizedState!==null,Cn(e,t,n),Pt=i;break;default:Cn(e,t,n)}}function YE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{to(e)}catch(n){_t(t,t.return,n)}}function kb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qp),t;default:throw Error(P(435,e.tag))}}function vh(e,t){var n=kb(e);t.forEach(function(i){var r=Gb.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function De(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(Fi(l.type)){bt=l.stateNode,Se=!1;break t}break;case 5:bt=l.stateNode,Se=!1;break t;case 3:case 4:bt=l.stateNode.containerInfo,Se=!0;break t}l=l.return}if(bt===null)throw Error(P(160));KE(s,a,r),bt=null,Se=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)XE(t,e),t=t.sibling}var $e=null;function XE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:De(t,e),Ne(e),i&4&&(ki(3,e,e.return),bo(3,e),ki(5,e,e.return));break;case 1:De(t,e),Ne(e),i&512&&(Pt||n===null||on(n,n.return)),i&64&&Dn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=$e;if(De(t,e),Ne(e),i&512&&(Pt||n===null||on(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[po]||s[de]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),re(s,i,n),s[de]=e,Xt(s),i=s;break t;case"link":var a=uy("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),re(s,i,n),r.head.appendChild(s);break;case"meta":if(a=uy("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),re(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[de]=e,Xt(s),i=s}e.stateNode=i}else cy(r,e.type,e.stateNode);else e.stateNode=ly(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?cy(r,e.type,e.stateNode):ly(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ph(e,e.memoizedProps,n.memoizedProps)}break;case 27:De(t,e),Ne(e),i&512&&(Pt||n===null||on(n,n.return)),n!==null&&i&4&&ph(e,e.memoizedProps,n.memoizedProps);break;case 5:if(De(t,e),Ne(e),i&512&&(Pt||n===null||on(n,n.return)),e.flags&32){r=e.stateNode;try{ms(r,"")}catch(_){_t(e,e.return,_)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,ph(e,r,n!==null?n.memoizedProps:r)),i&1024&&(_h=!0);break;case 6:if(De(t,e),Ne(e),i&4){if(e.stateNode===null)throw Error(P(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(_){_t(e,e.return,_)}}break;case 3:if(kl=null,r=$e,$e=_u(t.containerInfo),De(t,e),$e=r,Ne(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{to(t.containerInfo)}catch(_){_t(e,e.return,_)}_h&&(_h=!1,$E(e));break;case 4:i=$e,$e=_u(e.stateNode.containerInfo),De(t,e),Ne(e),$e=i;break;case 12:De(t,e),Ne(e);break;case 13:De(t,e),Ne(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Xd=un()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vh(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Dn,d=Pt;if(Dn=h||r,Pt=d||u,De(t,e),Pt=d,Dn=h,Ne(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Dn||Pt||Wi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){_t(u,u.return,_)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(_){_t(u,u.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,vh(e,n))));break;case 19:De(t,e),Ne(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,vh(e,i)));break;case 30:break;case 21:break;default:De(t,e),Ne(e)}}function Ne(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(HE(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=yh(e);hu(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(ms(a,""),n.flags&=-33);var l=yh(e);hu(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=yh(e);vf(e,h,u);break;default:throw Error(P(161))}}catch(d){_t(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $E(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$E(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ni(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)FE(e,t.alternate,t),t=t.sibling}function Wi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ki(4,t,t.return),Wi(t);break;case 1:on(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&BE(t,t.return,n),Wi(t);break;case 27:Ma(t.stateNode);case 26:case 5:on(t,t.return),Wi(t);break;case 22:t.memoizedState===null&&Wi(t);break;case 30:Wi(t);break;default:Wi(t)}e=e.sibling}}function ri(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:ri(r,s,n),bo(4,s);break;case 1:if(ri(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){_t(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)Fv(u[r],l)}catch(h){_t(i,i.return,h)}}n&&a&64&&jE(s),Da(s,s.return);break;case 27:GE(s);case 26:case 5:ri(r,s,n),n&&i===null&&a&4&&qE(s),Da(s,s.return);break;case 12:ri(r,s,n);break;case 13:ri(r,s,n),n&&a&4&&YE(r,s);break;case 22:s.memoizedState===null&&ri(r,s,n),Da(s,s.return);break;case 30:break;default:ri(r,s,n)}t=t.sibling}}function Fd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Eo(n))}function Qd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Eo(e))}function rn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ZE(e,t,n,i),t=t.sibling}function ZE(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:rn(e,t,n,i),r&2048&&bo(9,t);break;case 1:rn(e,t,n,i);break;case 3:rn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Eo(e)));break;case 12:if(r&2048){rn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){_t(t,t.return,u)}}else rn(e,t,n,i);break;case 13:rn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?rn(e,t,n,i):Na(e,t):s._visibility&2?rn(e,t,n,i):(s._visibility|=2,kr(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&Fd(a,t);break;case 24:rn(e,t,n,i),r&2048&&Qd(t.alternate,t);break;default:rn(e,t,n,i)}}function kr(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:kr(s,a,l,u,r),bo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?kr(s,a,l,u,r):Na(s,a):(d._visibility|=2,kr(s,a,l,u,r)),r&&h&2048&&Fd(a.alternate,a);break;case 24:kr(s,a,l,u,r),r&&h&2048&&Qd(a.alternate,a);break;default:kr(s,a,l,u,r)}t=t.sibling}}function Na(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Na(n,i),r&2048&&Fd(i.alternate,i);break;case 24:Na(n,i),r&2048&&Qd(i.alternate,i);break;default:Na(n,i)}t=t.sibling}}var ma=8192;function Or(e){if(e.subtreeFlags&ma)for(e=e.child;e!==null;)JE(e),e=e.sibling}function JE(e){switch(e.tag){case 26:Or(e),e.flags&ma&&e.memoizedState!==null&&Ew($e,e.memoizedState,e.memoizedProps);break;case 5:Or(e);break;case 3:case 4:var t=$e;$e=_u(e.stateNode.containerInfo),Or(e),$e=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ma,ma=16777216,Or(e),ma=t):Or(e));break;default:Or(e)}}function WE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ua(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Yt=i,e0(i,e)}WE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)t0(e),e=e.sibling}function t0(e){switch(e.tag){case 0:case 11:case 15:ua(e),e.flags&2048&&ki(9,e,e.return);break;case 3:ua(e);break;case 12:ua(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ml(e)):ua(e);break;default:ua(e)}}function Ml(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Yt=i,e0(i,e)}WE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ki(8,t,t.return),Ml(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ml(t));break;default:Ml(t)}e=e.sibling}}function e0(e,t){for(;Yt!==null;){var n=Yt;switch(n.tag){case 0:case 11:case 15:ki(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Eo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Yt=i;else t:for(n=e;Yt!==null;){i=Yt;var r=i.sibling,s=i.return;if(QE(i),i===n){Yt=null;break t}if(r!==null){r.return=s,Yt=r;break t}Yt=s}}}var Pb={getCacheForType:function(e){var t=me(qt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Ub=typeof WeakMap=="function"?WeakMap:Map,mt=0,Et=null,et=null,at=0,dt=0,Oe=null,yi=!1,xs=!1,Kd=!1,Gn=0,xt=0,Pi=0,or=0,Yd=0,Qe=0,vs=0,Oa=null,be=null,Ef=!1,Xd=0,fu=1/0,du=null,Si=null,ne=0,bi=null,Es=null,os=0,Tf=0,Af=null,n0=null,Va=0,Sf=null;function ke(){if(mt&2&&at!==0)return at&-at;if(K.T!==null){var e=gs;return e!==0?e:Zd()}return dv()}function i0(){Qe===0&&(Qe=!(at&536870912)||lt?uv():536870912);var e=Ke.current;return e!==null&&(e.flags|=32),Qe}function Pe(e,t,n){(e===Et&&(dt===2||dt===9)||e.cancelPendingCommit!==null)&&(Ts(e,0),_i(e,at,Qe,!1)),go(e,n),(!(mt&2)||e!==Et)&&(e===Et&&(!(mt&2)&&(or|=n),xt===4&&_i(e,at,Qe,!1)),Tn(e))}function r0(e,t,n){if(mt&6)throw Error(P(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||mo(e,t),r=i?jb(e,t):Eh(e,t,!0),s=i;do{if(r===0){xs&&!i&&_i(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Lb(n)){r=Eh(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=Oa;var u=l.current.memoizedState.isDehydrated;if(u&&(Ts(l,a).flags|=256),a=Eh(l,a,!1),a!==2){if(Kd&&!u){l.errorRecoveryDisabledLanes|=s,or|=s,r=4;break t}s=be,be=r,s!==null&&(be===null?be=s:be.push.apply(be,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ts(e,0),_i(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((t&4194048)!==t)break;case 6:_i(i,t,Qe,!yi);break t;case 2:be=null;break;case 3:case 5:break;default:throw Error(P(329))}if((t&62914560)===t&&(r=Xd+300-un(),10<r)){if(_i(i,t,Qe,!yi),Qu(i,0,!0)!==0)break t;i.timeoutHandle=S0(Kp.bind(null,i,n,be,du,Ef,t,Qe,or,vs,yi,s,2,-0,0),r);break t}Kp(i,n,be,du,Ef,t,Qe,or,vs,yi,s,0,-0,0)}}break}while(!0);Tn(e)}function Kp(e,t,n,i,r,s,a,l,u,h,d,p,m,_){if(e.timeoutHandle=-1,p=t.subtreeFlags,(p&8192||(p&16785408)===16785408)&&($a={stylesheets:null,count:0,unsuspend:vw},JE(t),p=Tw(),p!==null)){e.cancelPendingCommit=p(Xp.bind(null,e,t,s,n,i,r,a,l,u,d,1,m,_)),_i(e,s,a,!h);return}Xp(e,t,s,n,i,r,a,l,u)}function Lb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ue(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _i(e,t,n,i){t&=~Yd,t&=~or,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-xe(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&hv(e,n,t)}function nc(){return mt&6?!0:(wo(0),!1)}function $d(){if(et!==null){if(dt===0)var e=et.return;else e=et,Mn=Ar=null,Pd(e),as=null,Ka=0,e=et;for(;e!==null;)zE(e.alternate,e),e=e.return;et=null}}function Ts(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,nw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),$d(),Et=e,et=n=Un(e.current,null),at=t,dt=0,Oe=null,yi=!1,xs=mo(e,t),Kd=!1,vs=Qe=Yd=or=Pi=xt=0,be=Oa=null,Ef=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-xe(i),s=1<<r;t|=e[r],i&=~s}return Gn=t,$u(),n}function s0(e,t){W=null,K.H=au,t===To||t===Ju?(t=wp(),dt=3):t===Hv?(t=wp(),dt=4):dt=t===ME?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Oe=t,et===null&&(xt=1,uu(e,He(t,e.current)))}function a0(){var e=K.H;return K.H=au,e===null?au:e}function o0(){var e=K.A;return K.A=Pb,e}function bf(){xt=4,yi||(at&4194048)!==at&&Ke.current!==null||(xs=!0),!(Pi&134217727)&&!(or&134217727)||Et===null||_i(Et,at,Qe,!1)}function Eh(e,t,n){var i=mt;mt|=2;var r=a0(),s=o0();(Et!==e||at!==t)&&(du=null,Ts(e,t)),t=!1;var a=xt;t:do try{if(dt!==0&&et!==null){var l=et,u=Oe;switch(dt){case 8:$d(),a=6;break t;case 3:case 2:case 9:case 6:Ke.current===null&&(t=!0);var h=dt;if(dt=0,Oe=null,Jr(e,l,u,h),n&&xs){a=0;break t}break;default:h=dt,dt=0,Oe=null,Jr(e,l,u,h)}}zb(),a=xt;break}catch(d){s0(e,d)}while(!0);return t&&e.shellSuspendCounter++,Mn=Ar=null,mt=i,K.H=r,K.A=s,et===null&&(Et=null,at=0,$u()),a}function zb(){for(;et!==null;)l0(et)}function jb(e,t){var n=mt;mt|=2;var i=a0(),r=o0();Et!==e||at!==t?(du=null,fu=un()+500,Ts(e,t)):xs=mo(e,t);t:do try{if(dt!==0&&et!==null){t=et;var s=Oe;e:switch(dt){case 1:dt=0,Oe=null,Jr(e,t,s,1);break;case 2:case 9:if(bp(s)){dt=0,Oe=null,Yp(t);break}t=function(){dt!==2&&dt!==9||Et!==e||(dt=7),Tn(e)},s.then(t,t);break t;case 3:dt=7;break t;case 4:dt=5;break t;case 7:bp(s)?(dt=0,Oe=null,Yp(t)):(dt=0,Oe=null,Jr(e,t,s,7));break;case 5:var a=null;switch(et.tag){case 26:a=et.memoizedState;case 5:case 27:var l=et;if(!a||I0(a)){dt=0,Oe=null;var u=l.sibling;if(u!==null)et=u;else{var h=l.return;h!==null?(et=h,ic(h)):et=null}break e}}dt=0,Oe=null,Jr(e,t,s,5);break;case 6:dt=0,Oe=null,Jr(e,t,s,6);break;case 8:$d(),xt=6;break t;default:throw Error(P(462))}}Bb();break}catch(d){s0(e,d)}while(!0);return Mn=Ar=null,K.H=i,K.A=r,mt=n,et!==null?0:(Et=null,at=0,$u(),xt)}function Bb(){for(;et!==null&&!uS();)l0(et)}function l0(e){var t=LE(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?ic(e):et=t}function Yp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Bp(n,t,t.pendingProps,t.type,void 0,at);break;case 11:t=Bp(n,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:Pd(t);default:zE(n,t),t=et=zv(t,Gn),t=LE(n,t,Gn)}e.memoizedProps=e.pendingProps,t===null?ic(e):et=t}function Jr(e,t,n,i){Mn=Ar=null,Pd(t),as=null,Ka=0;var r=t.return;try{if(Nb(e,r,t,n,at)){xt=1,uu(e,He(n,e.current)),et=null;return}}catch(s){if(r!==null)throw et=r,s;xt=1,uu(e,He(n,e.current)),et=null;return}t.flags&32768?(lt||i===1?e=!0:xs||at&536870912?e=!1:(yi=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ke.current,i!==null&&i.tag===13&&(i.flags|=16384))),u0(t,e)):ic(t)}function ic(e){var t=e;do{if(t.flags&32768){u0(t,yi);return}e=t.return;var n=Vb(t.alternate,t,Gn);if(n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);xt===0&&(xt=5)}function u0(e,t){do{var n=Mb(e.alternate,e);if(n!==null){n.flags&=32767,et=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){et=e;return}et=e=n}while(e!==null);xt=6,et=null}function Xp(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do rc();while(ne!==0);if(mt&6)throw Error(P(327));if(t!==null){if(t===e.current)throw Error(P(177));if(s=t.lanes|t.childLanes,s|=Sd,vS(e,n,s,a,l,u),e===Et&&(et=Et=null,at=0),Es=t,bi=e,os=n,Tf=s,Af=r,n0=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Fb($l,function(){return m0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,r=ut.p,ut.p=2,a=mt,mt|=4;try{xb(e,t,n)}finally{mt=a,ut.p=r,K.T=i}}ne=1,c0(),h0(),f0()}}function c0(){if(ne===1){ne=0;var e=bi,t=Es,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=ut.p;ut.p=2;var r=mt;mt|=4;try{XE(t,e);var s=Cf,a=Ov(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&Nv(l.ownerDocument.documentElement,l)){if(u!==null&&Ad(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var p=l.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var _=m.getSelection(),N=l.textContent.length,V=Math.min(u.start,N),k=u.end===void 0?V:Math.min(u.end,N);!_.extend&&V>k&&(a=k,k=V,V=a);var b=pp(l,V),v=pp(l,k);if(b&&v&&(_.rangeCount!==1||_.anchorNode!==b.node||_.anchorOffset!==b.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var w=p.createRange();w.setStart(b.node,b.offset),_.removeAllRanges(),V>k?(_.addRange(w),_.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),_.addRange(w))}}}}for(p=[],_=l;_=_.parentNode;)_.nodeType===1&&p.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var D=p[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Tu=!!If,Cf=If=null}finally{mt=r,ut.p=i,K.T=n}}e.current=t,ne=2}}function h0(){if(ne===2){ne=0;var e=bi,t=Es,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=ut.p;ut.p=2;var r=mt;mt|=4;try{FE(e,t.alternate,t)}finally{mt=r,ut.p=i,K.T=n}}ne=3}}function f0(){if(ne===4||ne===3){ne=0,cS();var e=bi,t=Es,n=os,i=n0;t.subtreeFlags&10256||t.flags&10256?ne=5:(ne=0,Es=bi=null,d0(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Si=null),gd(n),t=t.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(fo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,r=ut.p,ut.p=2,K.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{K.T=t,ut.p=r}}os&3&&rc(),Tn(e),r=e.pendingLanes,n&4194090&&r&42?e===Sf?Va++:(Va=0,Sf=e):Va=0,wo(0)}}function d0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Eo(t)))}function rc(e){return c0(),h0(),f0(),m0()}function m0(){if(ne!==5)return!1;var e=bi,t=Tf;Tf=0;var n=gd(os),i=K.T,r=ut.p;try{ut.p=32>n?32:n,K.T=null,n=Af,Af=null;var s=bi,a=os;if(ne=0,Es=bi=null,os=0,mt&6)throw Error(P(331));var l=mt;if(mt|=4,t0(s.current),ZE(s,s.current,a,n),mt=l,wo(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(fo,s)}catch{}return!0}finally{ut.p=r,K.T=i,d0(e,t)}}function $p(e,t,n){t=He(n,t),t=pf(e.stateNode,t,2),e=Ai(e,t,2),e!==null&&(go(e,2),Tn(e))}function _t(e,t,n){if(e.tag===3)$p(e,e,n);else for(;t!==null;){if(t.tag===3){$p(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Si===null||!Si.has(i))){e=He(n,e),n=OE(2),i=Ai(t,n,2),i!==null&&(VE(n,i,t,e),go(i,2),Tn(i));break}}t=t.return}}function Th(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Ub;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Kd=!0,r.add(n),e=qb.bind(null,e,t,n),t.then(e,e))}function qb(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Et===e&&(at&n)===n&&(xt===4||xt===3&&(at&62914560)===at&&300>un()-Xd?!(mt&2)&&Ts(e,0):Yd|=n,vs===at&&(vs=0)),Tn(e)}function g0(e,t){t===0&&(t=cv()),e=Ms(e,t),e!==null&&(go(e,t),Tn(e))}function Hb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),g0(e,n)}function Gb(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(t),g0(e,n)}function Fb(e,t){return dd(e,t)}var mu=null,Pr=null,wf=!1,gu=!1,Ah=!1,lr=0;function Tn(e){e!==Pr&&e.next===null&&(Pr===null?mu=Pr=e:Pr=Pr.next=e),gu=!0,wf||(wf=!0,Kb())}function wo(e,t){if(!Ah&&gu){Ah=!0;do for(var n=!1,i=mu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Zp(i,s))}else s=at,s=Qu(i,i===Et?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||mo(i,s)||(n=!0,Zp(i,s));i=i.next}while(n);Ah=!1}}function Qb(){p0()}function p0(){gu=wf=!1;var e=0;lr!==0&&(ew()&&(e=lr),lr=0);for(var t=un(),n=null,i=mu;i!==null;){var r=i.next,s=y0(i,t);s===0?(i.next=null,n===null?mu=r:n.next=r,r===null&&(Pr=n)):(n=i,(e!==0||s&3)&&(gu=!0)),i=r}wo(e)}function y0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-xe(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=_S(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=Et,n=at,n=Qu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(dt===2||dt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Yc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||mo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Yc(i),gd(n)){case 2:case 8:n=ov;break;case 32:n=$l;break;case 268435456:n=lv;break;default:n=$l}return i=_0.bind(null,e),n=dd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Yc(i),e.callbackPriority=2,e.callbackNode=null,2}function _0(e,t){if(ne!==0&&ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(rc()&&e.callbackNode!==n)return null;var i=at;return i=Qu(e,e===Et?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(r0(e,i,t),y0(e,un()),e.callbackNode!=null&&e.callbackNode===n?_0.bind(null,e):null)}function Zp(e,t){if(rc())return null;r0(e,t,!0)}function Kb(){iw(function(){mt&6?dd(av,Qb):p0()})}function Zd(){return lr===0&&(lr=uv()),lr}function Jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wl(""+e)}function Wp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Yb(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=Jp((r[Re]||null).action),a=i.submitter;a&&(t=(t=a[Re]||null)?Jp(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new Ku("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(lr!==0){var u=a?Wp(r,a):new FormData(r);mf(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Wp(r,a):new FormData(r),mf(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Sh=0;Sh<ef.length;Sh++){var bh=ef[Sh],Xb=bh.toLowerCase(),$b=bh[0].toUpperCase()+bh.slice(1);en(Xb,"on"+$b)}en(Mv,"onAnimationEnd");en(xv,"onAnimationIteration");en(kv,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(db,"onTransitionRun");en(mb,"onTransitionStart");en(gb,"onTransitionCancel");en(Pv,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ya));function v0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){lu(d)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=h;try{s(r)}catch(d){lu(d)}r.currentTarget=null,s=u}}}}function tt(e,t){var n=t[Yh];n===void 0&&(n=t[Yh]=new Set);var i=e+"__bubble";n.has(i)||(E0(t,e,2,!1),n.add(i))}function wh(e,t,n){var i=0;t&&(i|=4),E0(n,e,i,t)}var ml="_reactListening"+Math.random().toString(36).slice(2);function Jd(e){if(!e[ml]){e[ml]=!0,mv.forEach(function(n){n!=="selectionchange"&&(Zb.has(n)||wh(n,!1,e),wh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ml]||(t[ml]=!0,wh("selectionchange",!1,t))}}function E0(e,t,n,i){switch(V0(t)){case 2:var r=bw;break;case 8:r=ww;break;default:r=nm}n=r.bind(null,t,n,e),r=void 0,!Jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Rh(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Hr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}Av(function(){var h=s,d=_d(n),p=[];t:{var m=Uv.get(e);if(m!==void 0){var _=Ku,N=e;switch(e){case"keypress":if(Il(n)===0)break t;case"keydown":case"keyup":_=FS;break;case"focusin":N="focus",_=nh;break;case"focusout":N="blur",_=nh;break;case"beforeblur":case"afterblur":_=nh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=MS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=YS;break;case Mv:case xv:case kv:_=PS;break;case Pv:_=$S;break;case"scroll":case"scrollend":_=OS;break;case"wheel":_=JS;break;case"copy":case"cut":case"paste":_=LS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=lp;break;case"toggle":case"beforetoggle":_=tb}var V=(t&4)!==0,k=!V&&(e==="scroll"||e==="scrollend"),b=V?m!==null?m+"Capture":null:m;V=[];for(var v=h,w;v!==null;){var D=v;if(w=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||w===null||b===null||(D=qa(v,b),D!=null&&V.push(Xa(v,D,w))),k)break;v=v.return}0<V.length&&(m=new _(m,N,null,n,d),p.push({event:m,listeners:V}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==Zh&&(N=n.relatedTarget||n.fromElement)&&(Hr(N)||N[Os]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(N=n.relatedTarget||n.toElement,_=h,N=N?Hr(N):null,N!==null&&(k=ho(N),V=N.tag,N!==k||V!==5&&V!==27&&V!==6)&&(N=null)):(_=null,N=h),_!==N)){if(V=ap,D="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(V=lp,D="onPointerLeave",b="onPointerEnter",v="pointer"),k=_==null?m:da(_),w=N==null?m:da(N),m=new V(D,v+"leave",_,n,d),m.target=k,m.relatedTarget=w,D=null,Hr(d)===h&&(V=new V(b,v+"enter",N,n,d),V.target=w,V.relatedTarget=k,D=V),k=D,_&&N)e:{for(V=_,b=N,v=0,w=V;w;w=Vr(w))v++;for(w=0,D=b;D;D=Vr(D))w++;for(;0<v-w;)V=Vr(V),v--;for(;0<w-v;)b=Vr(b),w--;for(;v--;){if(V===b||b!==null&&V===b.alternate)break e;V=Vr(V),b=Vr(b)}V=null}else V=null;_!==null&&ty(p,m,_,V,!1),N!==null&&k!==null&&ty(p,k,N,V,!0)}}t:{if(m=h?da(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var z=fp;else if(hp(m))if(Cv)z=cb;else{z=lb;var L=ob}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&yd(h.elementType)&&(z=fp):z=ub;if(z&&(z=z(e,h))){Iv(p,z,n,d);break t}L&&L(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&$h(m,"number",m.value)}switch(L=h?da(h):window,e){case"focusin":(hp(L)||L.contentEditable==="true")&&(Qr=L,Wh=h,Aa=null);break;case"focusout":Aa=Wh=Qr=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,yp(p,n,d);break;case"selectionchange":if(fb)break;case"keydown":case"keyup":yp(p,n,d)}var E;if(Td)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Fr?wv(e,n)&&(y="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(bv&&n.locale!=="ko"&&(Fr||y!=="onCompositionStart"?y==="onCompositionEnd"&&Fr&&(E=Sv()):(pi=d,vd="value"in pi?pi.value:pi.textContent,Fr=!0)),L=pu(h,y),0<L.length&&(y=new op(y,e,null,n,d),p.push({event:y,listeners:L}),E?y.data=E:(E=Rv(n),E!==null&&(y.data=E)))),(E=nb?ib(e,n):rb(e,n))&&(y=pu(h,"onBeforeInput"),0<y.length&&(L=new op("onBeforeInput","beforeinput",null,n,d),p.push({event:L,listeners:y}),L.data=E)),Yb(p,e,h,n,d)}v0(p,t)})}function Xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=qa(e,n),r!=null&&i.unshift(Xa(e,r,s)),r=qa(e,t),r!=null&&i.push(Xa(e,r,s))),e.tag===3)return i;e=e.return}return[]}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ty(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=qa(n,s),h!=null&&a.unshift(Xa(n,h,u))):r||(h=qa(n,s),h!=null&&a.push(Xa(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Jb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function ey(e){return(typeof e=="string"?e:""+e).replace(Jb,`
`).replace(Wb,"")}function T0(e,t){return t=ey(t),ey(e)===t}function sc(){}function gt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ms(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ms(e,""+i);break;case"className":ol(e,"class",i);break;case"tabIndex":ol(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ol(e,n,i);break;case"style":Tv(e,i,s);break;case"data":if(t!=="object"){ol(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=wl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&gt(e,t,"name",r.name,r,null),gt(e,t,"formEncType",r.formEncType,r,null),gt(e,t,"formMethod",r.formMethod,r,null),gt(e,t,"formTarget",r.formTarget,r,null)):(gt(e,t,"encType",r.encType,r,null),gt(e,t,"method",r.method,r,null),gt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=wl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=sc);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=wl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":tt("beforetoggle",e),tt("toggle",e),bl(e,"popover",i);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":bl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=DS.get(n)||n,bl(e,n,i))}}function Rf(e,t,n,i,r,s){switch(n){case"style":Tv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ms(e,i):(typeof i=="number"||typeof i=="bigint")&&ms(e,""+i);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Re]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):bl(e,n,i)}}}function re(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:gt(e,t,s,a,n,null)}}r&&gt(e,t,"srcSet",n.srcSet,n,null),i&&gt(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":r=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(P(137,t));break;default:gt(e,t,i,d,n,null)}}_v(e,s,l,u,h,a,r,!1),Zl(e);return;case"select":tt("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:gt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?es(e,!!i,t,!1):n!=null&&es(e,!!i,n,!0);return;case"textarea":tt("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:gt(e,t,a,l,n,null)}Ev(e,i,r,s),Zl(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:gt(e,t,u,i,n,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(i=0;i<Ya.length;i++)tt(Ya[i],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,t));default:gt(e,t,h,i,n,null)}return;default:if(yd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Rf(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&gt(e,t,l,i,n,null))}function tw(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var p=n[_];if(n.hasOwnProperty(_)&&p!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(_)||gt(e,t,_,null,i,p)}}for(var m in i){var _=i[m];if(p=n[m],i.hasOwnProperty(m)&&(_!=null||p!=null))switch(m){case"type":s=_;break;case"name":r=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(P(137,t));break;default:_!==p&&gt(e,t,m,_,i,p)}}Xh(e,a,l,u,h,d,s,r);return;case"select":_=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(s)||gt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&gt(e,t,r,s,i,u)}t=l,n=a,i=_,m!=null?es(e,!!n,m,!1):!!i!=!!n&&(t!=null?es(e,!!n,t,!0):es(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:gt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":_=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&gt(e,t,a,r,i,s)}vv(e,m,_);return;case"option":for(var N in n)if(m=n[N],n.hasOwnProperty(N)&&m!=null&&!i.hasOwnProperty(N))switch(N){case"selected":e.selected=!1;break;default:gt(e,t,N,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:gt(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!=null&&!i.hasOwnProperty(V)&&gt(e,t,V,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(P(137,t));break;default:gt(e,t,h,m,i,_)}return;default:if(yd(t)){for(var k in n)m=n[k],n.hasOwnProperty(k)&&m!==void 0&&!i.hasOwnProperty(k)&&Rf(e,t,k,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||Rf(e,t,d,m,i,_);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&gt(e,t,b,null,i,m);for(p in i)m=i[p],_=n[p],!i.hasOwnProperty(p)||m===_||m==null&&_==null||gt(e,t,p,m,i,_)}var If=null,Cf=null;function yu(e){return e.nodeType===9?e:e.ownerDocument}function ny(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Df(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ih=null;function ew(){var e=window.event;return e&&e.type==="popstate"?e===Ih?!1:(Ih=e,!0):(Ih=null,!1)}var S0=typeof setTimeout=="function"?setTimeout:void 0,nw=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,iw=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(e){return iy.resolve(null).then(e).catch(rw)}:S0;function rw(e){setTimeout(function(){throw e})}function Fi(e){return e==="head"}function ry(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&Ma(a.documentElement),n&2&&Ma(a.body),n&4)for(n=a.head,Ma(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[po]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),to(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);to(t)}function Nf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Nf(n),pd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function sw(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[po])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function aw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tn(e.nextSibling),e===null))return null;return e}function Of(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function ow(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Vf=null;function sy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function b0(e,t,n){switch(t=yu(n),e){case"html":if(e=t.documentElement,!e)throw Error(P(452));return e;case"head":if(e=t.head,!e)throw Error(P(453));return e;case"body":if(e=t.body,!e)throw Error(P(454));return e;default:throw Error(P(451))}}function Ma(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);pd(e)}var Ye=new Map,ay=new Set;function _u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $n=ut.d;ut.d={f:lw,r:uw,D:cw,C:hw,L:fw,m:dw,X:gw,S:mw,M:pw};function lw(){var e=$n.f(),t=nc();return e||t}function uw(e){var t=Vs(e);t!==null&&t.tag===5&&t.type==="form"?yE(t):$n.r(e)}var ks=typeof document>"u"?null:document;function w0(e,t,n){var i=ks;if(i&&typeof t=="string"&&t){var r=qe(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),ay.has(r)||(ay.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),re(t,"link",e),Xt(t),i.head.appendChild(t)))}}function cw(e){$n.D(e),w0("dns-prefetch",e,null)}function hw(e,t){$n.C(e,t),w0("preconnect",e,t)}function fw(e,t,n){$n.L(e,t,n);var i=ks;if(i&&e&&t){var r='link[rel="preload"][as="'+qe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+qe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+qe(n.imageSizes)+'"]')):r+='[href="'+qe(e)+'"]';var s=r;switch(t){case"style":s=As(e);break;case"script":s=Ps(e)}Ye.has(s)||(e=St({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ye.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Ro(s))||t==="script"&&i.querySelector(Io(s))||(t=i.createElement("link"),re(t,"link",e),Xt(t),i.head.appendChild(t)))}}function dw(e,t){$n.m(e,t);var n=ks;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+qe(i)+'"][href="'+qe(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ps(e)}if(!Ye.has(s)&&(e=St({rel:"modulepreload",href:e},t),Ye.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Io(s)))return}i=n.createElement("link"),re(i,"link",e),Xt(i),n.head.appendChild(i)}}}function mw(e,t,n){$n.S(e,t,n);var i=ks;if(i&&e){var r=ts(i).hoistableStyles,s=As(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Ro(s)))l.loading=5;else{e=St({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ye.get(s))&&Wd(e,n);var u=a=i.createElement("link");Xt(u),re(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,xl(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function gw(e,t){$n.X(e,t);var n=ks;if(n&&e){var i=ts(n).hoistableScripts,r=Ps(e),s=i.get(r);s||(s=n.querySelector(Io(r)),s||(e=St({src:e,async:!0},t),(t=Ye.get(r))&&tm(e,t),s=n.createElement("script"),Xt(s),re(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function pw(e,t){$n.M(e,t);var n=ks;if(n&&e){var i=ts(n).hoistableScripts,r=Ps(e),s=i.get(r);s||(s=n.querySelector(Io(r)),s||(e=St({src:e,async:!0,type:"module"},t),(t=Ye.get(r))&&tm(e,t),s=n.createElement("script"),Xt(s),re(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function oy(e,t,n,i){var r=(r=Ei.current)?_u(r):null;if(!r)throw Error(P(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=As(n.href),n=ts(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=As(n.href);var s=ts(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(Ro(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Ye.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ye.set(e,n),s||yw(r,e,n,a.state))),t&&i===null)throw Error(P(528,""));return a}if(t&&i!==null)throw Error(P(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ps(n),n=ts(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,e))}}function As(e){return'href="'+qe(e)+'"'}function Ro(e){return'link[rel="stylesheet"]['+e+"]"}function R0(e){return St({},e,{"data-precedence":e.precedence,precedence:null})}function yw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),re(t,"link",n),Xt(t),e.head.appendChild(t))}function Ps(e){return'[src="'+qe(e)+'"]'}function Io(e){return"script[async]"+e}function ly(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+qe(n.href)+'"]');if(i)return t.instance=i,Xt(i),i;var r=St({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Xt(i),re(i,"style",r),xl(i,n.precedence,e),t.instance=i;case"stylesheet":r=As(n.href);var s=e.querySelector(Ro(r));if(s)return t.state.loading|=4,t.instance=s,Xt(s),s;i=R0(n),(r=Ye.get(r))&&Wd(i,r),s=(e.ownerDocument||e).createElement("link"),Xt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),re(s,"link",i),t.state.loading|=4,xl(s,n.precedence,e),t.instance=s;case"script":return s=Ps(n.src),(r=e.querySelector(Io(s)))?(t.instance=r,Xt(r),r):(i=n,(r=Ye.get(s))&&(i=St({},n),tm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Xt(r),re(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(P(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,xl(i,n.precedence,e));return t.instance}function xl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Wd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var kl=null;function uy(e,t,n){if(kl===null){var i=new Map,r=kl=new Map;r.set(n,i)}else r=kl,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[po]||s[de]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function cy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function _w(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function I0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var $a=null;function vw(){}function Ew(e,t,n){if($a===null)throw Error(P(475));var i=$a;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=As(n.href),s=e.querySelector(Ro(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=vu.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,Xt(s);return}s=e.ownerDocument||e,n=R0(n),(r=Ye.get(r))&&Wd(n,r),s=s.createElement("link"),Xt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),re(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=vu.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function Tw(){if($a===null)throw Error(P(475));var e=$a;return e.stylesheets&&e.count===0&&Mf(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Mf(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function vu(){if(this.count--,this.count===0){if(this.stylesheets)Mf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Eu=null;function Mf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Eu=new Map,t.forEach(Aw,e),Eu=null,vu.call(e))}function Aw(e,t){if(!(t.state.loading&4)){var n=Eu.get(e);if(n)var i=n.get(null);else{n=new Map,Eu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=vu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Za={$$typeof:Nn,Provider:null,Consumer:null,_currentValue:nr,_currentValue2:nr,_threadCount:0};function Sw(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.hiddenUpdates=Xc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function C0(e,t,n,i,r,s,a,l,u,h,d,p){return e=new Sw(e,t,n,a,l,u,h,p),t=1,s===!0&&(t|=24),s=Ve(3,null,null,t),e.current=s,s.stateNode=e,t=Cd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Nd(s),e}function D0(e){return e?(e=Xr,e):Xr}function N0(e,t,n,i,r,s){r=D0(r),i.context===null?i.context=r:i.pendingContext=r,i=Ti(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ai(e,i,t),n!==null&&(Pe(n,e,t),wa(n,e,t))}function hy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function em(e,t){hy(e,t),(e=e.alternate)&&hy(e,t)}function O0(e){if(e.tag===13){var t=Ms(e,67108864);t!==null&&Pe(t,e,67108864),em(e,67108864)}}var Tu=!0;function bw(e,t,n,i){var r=K.T;K.T=null;var s=ut.p;try{ut.p=2,nm(e,t,n,i)}finally{ut.p=s,K.T=r}}function ww(e,t,n,i){var r=K.T;K.T=null;var s=ut.p;try{ut.p=8,nm(e,t,n,i)}finally{ut.p=s,K.T=r}}function nm(e,t,n,i){if(Tu){var r=xf(i);if(r===null)Rh(e,t,i,Au,n),fy(e,i);else if(Iw(r,e,t,n,i))i.stopPropagation();else if(fy(e,i),t&4&&-1<Rw.indexOf(e)){for(;r!==null;){var s=Vs(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Zi(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-xe(a);l.entanglements[1]|=u,a&=~u}Tn(s),!(mt&6)&&(fu=un()+500,wo(0))}}break;case 13:l=Ms(s,2),l!==null&&Pe(l,s,2),nc(),em(s,2)}if(s=xf(i),s===null&&Rh(e,t,i,Au,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Rh(e,t,i,null,n)}}function xf(e){return e=_d(e),im(e)}var Au=null;function im(e){if(Au=null,e=Hr(e),e!==null){var t=ho(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=nv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Au=e,null}function V0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hS()){case av:return 2;case ov:return 8;case $l:case fS:return 32;case lv:return 268435456;default:return 32}default:return 32}}var kf=!1,wi=null,Ri=null,Ii=null,Ja=new Map,Wa=new Map,ci=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(e,t){switch(e){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Ja.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function ca(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=Vs(t),t!==null&&O0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Iw(e,t,n,i,r){switch(t){case"focusin":return wi=ca(wi,e,t,n,i,r),!0;case"dragenter":return Ri=ca(Ri,e,t,n,i,r),!0;case"mouseover":return Ii=ca(Ii,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ja.set(s,ca(Ja.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Wa.set(s,ca(Wa.get(s)||null,e,t,n,i,r)),!0}return!1}function M0(e){var t=Hr(e.target);if(t!==null){var n=ho(t);if(n!==null){if(t=n.tag,t===13){if(t=nv(n),t!==null){e.blockedOn=t,ES(e.priority,function(){if(n.tag===13){var i=ke();i=md(i);var r=Ms(n,i);r!==null&&Pe(r,n,i),em(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Zh=i,n.target.dispatchEvent(i),Zh=null}else return t=Vs(n),t!==null&&O0(t),e.blockedOn=n,!1;t.shift()}return!0}function dy(e,t,n){Pl(e)&&n.delete(t)}function Cw(){kf=!1,wi!==null&&Pl(wi)&&(wi=null),Ri!==null&&Pl(Ri)&&(Ri=null),Ii!==null&&Pl(Ii)&&(Ii=null),Ja.forEach(dy),Wa.forEach(dy)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,kf||(kf=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,Cw)))}var pl=null;function my(e){pl!==e&&(pl=e,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,function(){pl===e&&(pl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(im(i||n)===null)continue;break}var s=Vs(n);s!==null&&(e.splice(t,3),t-=3,mf(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function to(e){function t(u){return gl(u,e)}wi!==null&&gl(wi,e),Ri!==null&&gl(Ri,e),Ii!==null&&gl(Ii,e),Ja.forEach(t),Wa.forEach(t);for(var n=0;n<ci.length;n++){var i=ci[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)M0(n),n.blockedOn===null&&ci.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Re]||null;if(typeof s=="function")a||my(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Re]||null)l=a.formAction;else if(im(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),my(n)}}}function rm(e){this._internalRoot=e}ac.prototype.render=rm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));var n=t.current,i=ke();N0(n,i,e,t,null,null)};ac.prototype.unmount=rm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;N0(e.current,2,null,e,null,null),nc(),t[Os]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=dv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ci.length&&t!==0&&t<ci[n].priority;n++);ci.splice(n,0,e),n===0&&M0(e)}};var gy=tv.version;if(gy!=="19.1.1")throw Error(P(527,gy,"19.1.1"));ut.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=rS(t),e=e!==null?iv(e):null,e=e===null?null:e.stateNode,e};var Dw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{fo=yl.inject(Dw),Me=yl}catch{}}Gu.createRoot=function(e,t){if(!ev(e))throw Error(P(299));var n=!1,i="",r=CE,s=DE,a=NE,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=C0(e,1,!1,null,null,n,i,r,s,a,l,null),e[Os]=t.current,Jd(e),new rm(t)};Gu.hydrateRoot=function(e,t,n){if(!ev(e))throw Error(P(299));var i=!1,r="",s=CE,a=DE,l=NE,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),t=C0(e,1,!0,t,n??null,i,r,s,a,l,u,h),t.context=D0(null),n=t.current,i=ke(),i=md(i),r=Ti(i),r.callback=null,Ai(n,r,i),n=i,t.current.lanes=n,go(t,n),Tn(t),e[Os]=t.current,Jd(e),new ac(t)};Gu.version="19.1.1";function x0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x0)}catch(e){console.error(e)}}x0(),Y_.exports=Gu;var Nw=Y_.exports;const Ow=()=>{};var py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Vw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[p],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(k0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Vw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new Mw;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),p!==64){const N=h<<6&192|p;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Mw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xw=function(e){const t=k0(e);return P0.encodeByteArray(t,!0)},Su=function(e){return xw(e).replace(/\./g,"")},U0=function(e){try{return P0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=()=>kw().__FIREBASE_DEFAULTS__,Uw=()=>{if(typeof process>"u"||typeof py>"u")return;const e=py.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Lw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&U0(e[1]);return t&&JSON.parse(t)},oc=()=>{try{return Ow()||Pw()||Uw()||Lw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},L0=e=>{var t,n;return(n=(t=oc())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},zw=e=>{const t=L0(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},z0=()=>{var e;return(e=oc())==null?void 0:e.config},j0=e=>{var t;return(t=oc())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Su(JSON.stringify(n)),Su(JSON.stringify(a)),""].join(".")}const xa={};function qw(){const e={prod:[],emulator:[]};for(const t of Object.keys(xa))xa[t]?e.emulator.push(t):e.prod.push(t);return e}function Hw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let yy=!1;function q0(e,t){if(typeof window>"u"||typeof document>"u"||!Us(window.location.host)||xa[e]===t||xa[e]||yy)return;xa[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=qw().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{yy=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Hw(i),_=n("text"),N=document.getElementById(_)||document.createElement("span"),V=n("learnmore"),k=document.getElementById(V)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;l(w),d(k,V);const D=h();u(v,b),w.append(v,N,k,D),document.body.appendChild(w)}s?(N.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}function Fw(){var t;const e=(t=oc())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Yw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xw(){const e=ge();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $w(){return!Fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zw(){try{return typeof indexedDB=="object"}catch{return!1}}function Jw(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="FirebaseError";class Zn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Ww,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?tR(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Zn(r,l,i)}}function tR(e,t){return e.replace(eR,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const eR=/\{\$([^}]+)}/g;function nR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function mr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(_y(s)&&_y(a)){if(!mr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function _y(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function iR(e,t){const n=new rR(e,t);return n.subscribe.bind(n)}class rR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");sR(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Ch),r.error===void 0&&(r.error=Ch),r.complete===void 0&&(r.complete=Ch);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ch(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(e){return e&&e._delegate?e._delegate:e}class gr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new jw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lR(t))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=tr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=tr){return this.instances.has(t)}getOptions(t=tr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=tr){return this.component?this.component.multipleInstances?t:tr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oR(e){return e===tr?void 0:e}function lR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new aR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nt||(nt={}));const cR={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},hR=nt.INFO,fR={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},dR=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=fR[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sm{constructor(t){this.name=t,this._logLevel=hR,this._logHandler=dR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?cR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...t),this._logHandler(this,nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...t),this._logHandler(this,nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...t),this._logHandler(this,nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...t),this._logHandler(this,nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...t),this._logHandler(this,nt.ERROR,...t)}}const mR=(e,t)=>t.some(n=>e instanceof n);let vy,Ey;function gR(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return Ey||(Ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,Pf=new WeakMap,G0=new WeakMap,Dh=new WeakMap,am=new WeakMap;function yR(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ci(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&H0.set(n,e)}).catch(()=>{}),am.set(t,e),t}function _R(e){if(Pf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Pf.set(e,t)}let Uf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Pf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||G0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function vR(e){Uf=e(Uf)}function ER(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Nh(this),t,...n);return G0.set(i,t.sort?t.sort():[t]),Ci(i)}:pR().includes(e)?function(...t){return e.apply(Nh(this),t),Ci(H0.get(this))}:function(...t){return Ci(e.apply(Nh(this),t))}}function TR(e){return typeof e=="function"?ER(e):(e instanceof IDBTransaction&&_R(e),mR(e,gR())?new Proxy(e,Uf):e)}function Ci(e){if(e instanceof IDBRequest)return yR(e);if(Dh.has(e))return Dh.get(e);const t=TR(e);return t!==e&&(Dh.set(e,t),am.set(t,e)),t}const Nh=e=>am.get(e);function AR(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Ci(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ci(a.result),u.oldVersion,u.newVersion,Ci(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const SR=["get","getKey","getAll","getAllKeys","count"],bR=["put","add","delete","clear"],Oh=new Map;function Ty(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Oh.get(t))return Oh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=bR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||SR.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return Oh.set(t,s),s}vR(e=>({...e,get:(t,n,i)=>Ty(t,n)||e.get(t,n,i),has:(t,n)=>!!Ty(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function RR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lf="@firebase/app",Ay="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new sm("@firebase/app"),IR="@firebase/app-compat",CR="@firebase/analytics-compat",DR="@firebase/analytics",NR="@firebase/app-check-compat",OR="@firebase/app-check",VR="@firebase/auth",MR="@firebase/auth-compat",xR="@firebase/database",kR="@firebase/data-connect",PR="@firebase/database-compat",UR="@firebase/functions",LR="@firebase/functions-compat",zR="@firebase/installations",jR="@firebase/installations-compat",BR="@firebase/messaging",qR="@firebase/messaging-compat",HR="@firebase/performance",GR="@firebase/performance-compat",FR="@firebase/remote-config",QR="@firebase/remote-config-compat",KR="@firebase/storage",YR="@firebase/storage-compat",XR="@firebase/firestore",$R="@firebase/ai",ZR="@firebase/firestore-compat",JR="firebase",WR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",t2={[Lf]:"fire-core",[IR]:"fire-core-compat",[DR]:"fire-analytics",[CR]:"fire-analytics-compat",[OR]:"fire-app-check",[NR]:"fire-app-check-compat",[VR]:"fire-auth",[MR]:"fire-auth-compat",[xR]:"fire-rtdb",[kR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[UR]:"fire-fn",[LR]:"fire-fn-compat",[zR]:"fire-iid",[jR]:"fire-iid-compat",[BR]:"fire-fcm",[qR]:"fire-fcm-compat",[HR]:"fire-perf",[GR]:"fire-perf-compat",[FR]:"fire-rc",[QR]:"fire-rc-compat",[KR]:"fire-gcs",[YR]:"fire-gcs-compat",[XR]:"fire-fst",[ZR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Map,e2=new Map,jf=new Map;function Sy(e,t){try{e.container.addComponent(t)}catch(n){Fn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ss(e){const t=e.name;if(jf.has(t))return Fn.debug(`There were multiple attempts to register component ${t}.`),!1;jf.set(t,e);for(const n of bu.values())Sy(n,e);for(const n of e2.values())Sy(n,e);return!0}function om(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ze(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Co("app","Firebase",n2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=WR;function F0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:zf,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Di.create("bad-app-name",{appName:String(r)});if(n||(n=z0()),!n)throw Di.create("no-options");const s=bu.get(r);if(s){if(mr(n,s.options)&&mr(i,s.config))return s;throw Di.create("duplicate-app",{appName:r})}const a=new uR(r);for(const u of jf.values())a.addComponent(u);const l=new i2(n,i,a);return bu.set(r,l),l}function Q0(e=zf){const t=bu.get(e);if(!t&&e===zf&&z0())return F0();if(!t)throw Di.create("no-app",{appName:e});return t}function Ni(e,t,n){let i=t2[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fn.warn(a.join(" "));return}Ss(new gr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="firebase-heartbeat-database",s2=1,eo="firebase-heartbeat-store";let Vh=null;function K0(){return Vh||(Vh=AR(r2,s2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(eo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Di.create("idb-open",{originalErrorMessage:e.message})})),Vh}async function a2(e){try{const n=(await K0()).transaction(eo),i=await n.objectStore(eo).get(Y0(e));return await n.done,i}catch(t){if(t instanceof Zn)Fn.warn(t.message);else{const n=Di.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fn.warn(n.message)}}}async function by(e,t){try{const i=(await K0()).transaction(eo,"readwrite");await i.objectStore(eo).put(t,Y0(e)),await i.done}catch(n){if(n instanceof Zn)Fn.warn(n.message);else{const i=Di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fn.warn(i.message)}}}function Y0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=1024,l2=30;class u2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>l2){const a=f2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Fn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wy(),{heartbeatsToSend:i,unsentEntries:r}=c2(this._heartbeatsCache.heartbeats),s=Su(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fn.warn(n),""}}}function wy(){return new Date().toISOString().substring(0,10)}function c2(e,t=o2){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),Ry(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ry(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class h2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zw()?Jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return by(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return by(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Ry(e){return Su(JSON.stringify({version:2,heartbeats:e})).length}function f2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(e){Ss(new gr("platform-logger",t=>new wR(t),"PRIVATE")),Ss(new gr("heartbeat",t=>new u2(t),"PRIVATE")),Ni(Lf,Ay,e),Ni(Lf,Ay,"esm2020"),Ni("fire-js","")}d2("");var m2="firebase",g2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(m2,g2,"app");var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oi,X0;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,y){function A(){}A.prototype=y.prototype,E.D=y.prototype,E.prototype=new A,E.prototype.constructor=E,E.C=function(S,R,I){for(var T=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)T[vt-2]=arguments[vt];return y.prototype[R].apply(S,T)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,A){A||(A=0);var S=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)S[R]=y.charCodeAt(A++)|y.charCodeAt(A++)<<8|y.charCodeAt(A++)<<16|y.charCodeAt(A++)<<24;else for(R=0;16>R;++R)S[R]=y[A++]|y[A++]<<8|y[A++]<<16|y[A++]<<24;y=E.g[0],A=E.g[1],R=E.g[2];var I=E.g[3],T=y+(I^A&(R^I))+S[0]+3614090360&4294967295;y=A+(T<<7&4294967295|T>>>25),T=I+(R^y&(A^R))+S[1]+3905402710&4294967295,I=y+(T<<12&4294967295|T>>>20),T=R+(A^I&(y^A))+S[2]+606105819&4294967295,R=I+(T<<17&4294967295|T>>>15),T=A+(y^R&(I^y))+S[3]+3250441966&4294967295,A=R+(T<<22&4294967295|T>>>10),T=y+(I^A&(R^I))+S[4]+4118548399&4294967295,y=A+(T<<7&4294967295|T>>>25),T=I+(R^y&(A^R))+S[5]+1200080426&4294967295,I=y+(T<<12&4294967295|T>>>20),T=R+(A^I&(y^A))+S[6]+2821735955&4294967295,R=I+(T<<17&4294967295|T>>>15),T=A+(y^R&(I^y))+S[7]+4249261313&4294967295,A=R+(T<<22&4294967295|T>>>10),T=y+(I^A&(R^I))+S[8]+1770035416&4294967295,y=A+(T<<7&4294967295|T>>>25),T=I+(R^y&(A^R))+S[9]+2336552879&4294967295,I=y+(T<<12&4294967295|T>>>20),T=R+(A^I&(y^A))+S[10]+4294925233&4294967295,R=I+(T<<17&4294967295|T>>>15),T=A+(y^R&(I^y))+S[11]+2304563134&4294967295,A=R+(T<<22&4294967295|T>>>10),T=y+(I^A&(R^I))+S[12]+1804603682&4294967295,y=A+(T<<7&4294967295|T>>>25),T=I+(R^y&(A^R))+S[13]+4254626195&4294967295,I=y+(T<<12&4294967295|T>>>20),T=R+(A^I&(y^A))+S[14]+2792965006&4294967295,R=I+(T<<17&4294967295|T>>>15),T=A+(y^R&(I^y))+S[15]+1236535329&4294967295,A=R+(T<<22&4294967295|T>>>10),T=y+(R^I&(A^R))+S[1]+4129170786&4294967295,y=A+(T<<5&4294967295|T>>>27),T=I+(A^R&(y^A))+S[6]+3225465664&4294967295,I=y+(T<<9&4294967295|T>>>23),T=R+(y^A&(I^y))+S[11]+643717713&4294967295,R=I+(T<<14&4294967295|T>>>18),T=A+(I^y&(R^I))+S[0]+3921069994&4294967295,A=R+(T<<20&4294967295|T>>>12),T=y+(R^I&(A^R))+S[5]+3593408605&4294967295,y=A+(T<<5&4294967295|T>>>27),T=I+(A^R&(y^A))+S[10]+38016083&4294967295,I=y+(T<<9&4294967295|T>>>23),T=R+(y^A&(I^y))+S[15]+3634488961&4294967295,R=I+(T<<14&4294967295|T>>>18),T=A+(I^y&(R^I))+S[4]+3889429448&4294967295,A=R+(T<<20&4294967295|T>>>12),T=y+(R^I&(A^R))+S[9]+568446438&4294967295,y=A+(T<<5&4294967295|T>>>27),T=I+(A^R&(y^A))+S[14]+3275163606&4294967295,I=y+(T<<9&4294967295|T>>>23),T=R+(y^A&(I^y))+S[3]+4107603335&4294967295,R=I+(T<<14&4294967295|T>>>18),T=A+(I^y&(R^I))+S[8]+1163531501&4294967295,A=R+(T<<20&4294967295|T>>>12),T=y+(R^I&(A^R))+S[13]+2850285829&4294967295,y=A+(T<<5&4294967295|T>>>27),T=I+(A^R&(y^A))+S[2]+4243563512&4294967295,I=y+(T<<9&4294967295|T>>>23),T=R+(y^A&(I^y))+S[7]+1735328473&4294967295,R=I+(T<<14&4294967295|T>>>18),T=A+(I^y&(R^I))+S[12]+2368359562&4294967295,A=R+(T<<20&4294967295|T>>>12),T=y+(A^R^I)+S[5]+4294588738&4294967295,y=A+(T<<4&4294967295|T>>>28),T=I+(y^A^R)+S[8]+2272392833&4294967295,I=y+(T<<11&4294967295|T>>>21),T=R+(I^y^A)+S[11]+1839030562&4294967295,R=I+(T<<16&4294967295|T>>>16),T=A+(R^I^y)+S[14]+4259657740&4294967295,A=R+(T<<23&4294967295|T>>>9),T=y+(A^R^I)+S[1]+2763975236&4294967295,y=A+(T<<4&4294967295|T>>>28),T=I+(y^A^R)+S[4]+1272893353&4294967295,I=y+(T<<11&4294967295|T>>>21),T=R+(I^y^A)+S[7]+4139469664&4294967295,R=I+(T<<16&4294967295|T>>>16),T=A+(R^I^y)+S[10]+3200236656&4294967295,A=R+(T<<23&4294967295|T>>>9),T=y+(A^R^I)+S[13]+681279174&4294967295,y=A+(T<<4&4294967295|T>>>28),T=I+(y^A^R)+S[0]+3936430074&4294967295,I=y+(T<<11&4294967295|T>>>21),T=R+(I^y^A)+S[3]+3572445317&4294967295,R=I+(T<<16&4294967295|T>>>16),T=A+(R^I^y)+S[6]+76029189&4294967295,A=R+(T<<23&4294967295|T>>>9),T=y+(A^R^I)+S[9]+3654602809&4294967295,y=A+(T<<4&4294967295|T>>>28),T=I+(y^A^R)+S[12]+3873151461&4294967295,I=y+(T<<11&4294967295|T>>>21),T=R+(I^y^A)+S[15]+530742520&4294967295,R=I+(T<<16&4294967295|T>>>16),T=A+(R^I^y)+S[2]+3299628645&4294967295,A=R+(T<<23&4294967295|T>>>9),T=y+(R^(A|~I))+S[0]+4096336452&4294967295,y=A+(T<<6&4294967295|T>>>26),T=I+(A^(y|~R))+S[7]+1126891415&4294967295,I=y+(T<<10&4294967295|T>>>22),T=R+(y^(I|~A))+S[14]+2878612391&4294967295,R=I+(T<<15&4294967295|T>>>17),T=A+(I^(R|~y))+S[5]+4237533241&4294967295,A=R+(T<<21&4294967295|T>>>11),T=y+(R^(A|~I))+S[12]+1700485571&4294967295,y=A+(T<<6&4294967295|T>>>26),T=I+(A^(y|~R))+S[3]+2399980690&4294967295,I=y+(T<<10&4294967295|T>>>22),T=R+(y^(I|~A))+S[10]+4293915773&4294967295,R=I+(T<<15&4294967295|T>>>17),T=A+(I^(R|~y))+S[1]+2240044497&4294967295,A=R+(T<<21&4294967295|T>>>11),T=y+(R^(A|~I))+S[8]+1873313359&4294967295,y=A+(T<<6&4294967295|T>>>26),T=I+(A^(y|~R))+S[15]+4264355552&4294967295,I=y+(T<<10&4294967295|T>>>22),T=R+(y^(I|~A))+S[6]+2734768916&4294967295,R=I+(T<<15&4294967295|T>>>17),T=A+(I^(R|~y))+S[13]+1309151649&4294967295,A=R+(T<<21&4294967295|T>>>11),T=y+(R^(A|~I))+S[4]+4149444226&4294967295,y=A+(T<<6&4294967295|T>>>26),T=I+(A^(y|~R))+S[11]+3174756917&4294967295,I=y+(T<<10&4294967295|T>>>22),T=R+(y^(I|~A))+S[2]+718787259&4294967295,R=I+(T<<15&4294967295|T>>>17),T=A+(I^(R|~y))+S[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+I&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var A=y-this.blockSize,S=this.B,R=this.h,I=0;I<y;){if(R==0)for(;I<=A;)r(this,E,I),I+=this.blockSize;if(typeof E=="string"){for(;I<y;)if(S[R++]=E.charCodeAt(I++),R==this.blockSize){r(this,S),R=0;break}}else for(;I<y;)if(S[R++]=E[I++],R==this.blockSize){r(this,S),R=0;break}}this.h=R,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var A=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=A&255,A/=256;for(this.u(E),E=Array(16),y=A=0;4>y;++y)for(var S=0;32>S;S+=8)E[A++]=this.g[y]>>>S&255;return E};function s(E,y){var A=l;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=y(E)}function a(E,y){this.h=y;for(var A=[],S=!0,R=E.length-1;0<=R;R--){var I=E[R]|0;S&&I==y||(A[R]=I,S=!1)}this.g=A}var l={};function u(E){return-128<=E&&128>E?s(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return k(h(-E));for(var y=[],A=1,S=0;E>=A;S++)y[S]=E/A|0,A*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return k(d(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(y,8)),S=p,R=0;R<E.length;R+=8){var I=Math.min(8,E.length-R),T=parseInt(E.substring(R,R+I),y);8>I?(I=h(Math.pow(y,I)),S=S.j(I).add(h(T))):(S=S.j(A),S=S.add(h(T)))}return S}var p=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(V(this))return-k(this).m();for(var E=0,y=1,A=0;A<this.g.length;A++){var S=this.i(A);E+=(0<=S?S:4294967296+S)*y,y*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(N(this))return"0";if(V(this))return"-"+k(this).toString(E);for(var y=h(Math.pow(E,6)),A=this,S="";;){var R=D(A,y).g;A=b(A,R.j(y));var I=((0<A.g.length?A.g[0]:A.h)>>>0).toString(E);if(A=R,N(A))return I+S;for(;6>I.length;)I="0"+I;S=I+S}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function N(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function V(E){return E.h==-1}e.l=function(E){return E=b(this,E),V(E)?-1:N(E)?0:1};function k(E){for(var y=E.g.length,A=[],S=0;S<y;S++)A[S]=~E.g[S];return new a(A,~E.h).add(m)}e.abs=function(){return V(this)?k(this):this},e.add=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],S=0,R=0;R<=y;R++){var I=S+(this.i(R)&65535)+(E.i(R)&65535),T=(I>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);S=T>>>16,I&=65535,T&=65535,A[R]=T<<16|I}return new a(A,A[A.length-1]&-2147483648?-1:0)};function b(E,y){return E.add(k(y))}e.j=function(E){if(N(this)||N(E))return p;if(V(this))return V(E)?k(this).j(k(E)):k(k(this).j(E));if(V(E))return k(this.j(k(E)));if(0>this.l(_)&&0>E.l(_))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,A=[],S=0;S<2*y;S++)A[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<E.g.length;R++){var I=this.i(S)>>>16,T=this.i(S)&65535,vt=E.i(R)>>>16,Te=E.i(R)&65535;A[2*S+2*R]+=T*Te,v(A,2*S+2*R),A[2*S+2*R+1]+=I*Te,v(A,2*S+2*R+1),A[2*S+2*R+1]+=T*vt,v(A,2*S+2*R+1),A[2*S+2*R+2]+=I*vt,v(A,2*S+2*R+2)}for(S=0;S<y;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=y;S<2*y;S++)A[S]=0;return new a(A,0)};function v(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function w(E,y){this.g=E,this.h=y}function D(E,y){if(N(y))throw Error("division by zero");if(N(E))return new w(p,p);if(V(E))return y=D(k(E),y),new w(k(y.g),k(y.h));if(V(y))return y=D(E,k(y)),new w(k(y.g),y.h);if(30<E.g.length){if(V(E)||V(y))throw Error("slowDivide_ only works with positive integers.");for(var A=m,S=y;0>=S.l(E);)A=z(A),S=z(S);var R=L(A,1),I=L(S,1);for(S=L(S,2),A=L(A,2);!N(S);){var T=I.add(S);0>=T.l(E)&&(R=R.add(A),I=T),S=L(S,1),A=L(A,1)}return y=b(E,R.j(y)),new w(R,y)}for(R=p;0<=E.l(y);){for(A=Math.max(1,Math.floor(E.m()/y.m())),S=Math.ceil(Math.log(A)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),I=h(A),T=I.j(y);V(T)||0<T.l(E);)A-=S,I=h(A),T=I.j(y);N(I)&&(I=m),R=R.add(I),E=b(E,T)}return new w(R,E)}e.A=function(E){return D(this,E).h},e.and=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],S=0;S<y;S++)A[S]=this.i(S)&E.i(S);return new a(A,this.h&E.h)},e.or=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],S=0;S<y;S++)A[S]=this.i(S)|E.i(S);return new a(A,this.h|E.h)},e.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),A=[],S=0;S<y;S++)A[S]=this.i(S)^E.i(S);return new a(A,this.h^E.h)};function z(E){for(var y=E.g.length+1,A=[],S=0;S<y;S++)A[S]=E.i(S)<<1|E.i(S-1)>>>31;return new a(A,E.h)}function L(E,y){var A=y>>5;y%=32;for(var S=E.g.length-A,R=[],I=0;I<S;I++)R[I]=0<y?E.i(I+A)>>>y|E.i(I+A+1)<<32-y:E.i(I+A);return new a(R,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,X0=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Oi=a}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});var _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $0,ga,Z0,Ul,Bf,J0,W0,tT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof _l=="object"&&_l];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)t:{var f=i;o=o.split(".");for(var g=0;g<o.length-1;g++){var C=o[g];if(!(C in f))break t;f=f[C]}o=o[o.length-1],g=f[o],c=c(g),c!=g&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function s(o,c){o instanceof String&&(o+="");var f=0,g=!1,C={next:function(){if(!g&&f<o.length){var O=f++;return{value:c(O,o[O]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(o){return o||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function p(o,c,f){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),o.apply(c,C)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function N(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(g,C,O){for(var j=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)j[yt-2]=arguments[yt];return c.prototype[C].apply(g,j)}}function V(o){const c=o.length;if(0<c){const f=Array(c);for(let g=0;g<c;g++)f[g]=o[g];return f}return[]}function k(o,c){for(let f=1;f<arguments.length;f++){const g=arguments[f];if(u(g)){const C=o.length||0,O=g.length||0;o.length=C+O;for(let j=0;j<O;j++)o[C+j]=g[j]}else o.push(g)}}class b{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(o){return/^[\s\xa0]*$/.test(o)}function w(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var z=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function L(o,c,f){for(const g in o)c.call(f,o[g],g,o)}function E(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(o,c){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)o[f]=g[f];for(let O=0;O<A.length;O++)f=A[O],Object.prototype.hasOwnProperty.call(g,f)&&(o[f]=g[f])}}function R(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function I(o){l.setTimeout(()=>{throw o},0)}function T(){var o=ht;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class vt{constructor(){this.h=this.g=null}add(c,f){const g=Te.get();g.set(c,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Te=new b(()=>new B,o=>o.reset());class B{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let X,F=!1,ht=new vt,It=()=>{const o=l.Promise.resolve(void 0);X=()=>{o.then(An)}};var An=()=>{for(var o;o=T();){try{o.h.call(o.g)}catch(f){I(f)}var c=Te;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}F=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ot(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var Sn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function nn(o,c){if(Ot.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(z){t:{try{D(c.nodeName);var C=!0;break t}catch{}C=!1}C||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:i1[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&nn.aa.h.call(this)}}N(nn,Ot);var i1={2:"touch",3:"pen",4:"mouse"};nn.prototype.h=function(){nn.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Lo="closure_listenable_"+(1e6*Math.random()|0),r1=0;function s1(o,c,f,g,C){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!g,this.ha=C,this.key=++r1,this.da=this.fa=!1}function zo(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function jo(o){this.src=o,this.g={},this.h=0}jo.prototype.add=function(o,c,f,g,C){var O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);var j=wc(o,c,g,C);return-1<j?(c=o[j],f||(c.fa=!1)):(c=new s1(c,this.src,O,!!g,C),c.fa=f,o.push(c)),c};function bc(o,c){var f=c.type;if(f in o.g){var g=o.g[f],C=Array.prototype.indexOf.call(g,c,void 0),O;(O=0<=C)&&Array.prototype.splice.call(g,C,1),O&&(zo(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function wc(o,c,f,g){for(var C=0;C<o.length;++C){var O=o[C];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==g)return C}return-1}var Rc="closure_lm_"+(1e6*Math.random()|0),Ic={};function Qm(o,c,f,g,C){if(Array.isArray(c)){for(var O=0;O<c.length;O++)Qm(o,c[O],f,g,C);return null}return f=Xm(f),o&&o[Lo]?o.K(c,f,h(g)?!!g.capture:!1,C):a1(o,c,f,!1,g,C)}function a1(o,c,f,g,C,O){if(!c)throw Error("Invalid event type");var j=h(C)?!!C.capture:!!C,yt=Dc(o);if(yt||(o[Rc]=yt=new jo(o)),f=yt.add(c,f,g,j,O),f.proxy)return f;if(g=o1(),f.proxy=g,g.src=o,g.listener=f,o.addEventListener)Sn||(C=j),C===void 0&&(C=!1),o.addEventListener(c.toString(),g,C);else if(o.attachEvent)o.attachEvent(Ym(c.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function o1(){function o(f){return c.call(o.src,o.listener,f)}const c=l1;return o}function Km(o,c,f,g,C){if(Array.isArray(c))for(var O=0;O<c.length;O++)Km(o,c[O],f,g,C);else g=h(g)?!!g.capture:!!g,f=Xm(f),o&&o[Lo]?(o=o.i,c=String(c).toString(),c in o.g&&(O=o.g[c],f=wc(O,f,g,C),-1<f&&(zo(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete o.g[c],o.h--)))):o&&(o=Dc(o))&&(c=o.g[c.toString()],o=-1,c&&(o=wc(c,f,g,C)),(f=-1<o?c[o]:null)&&Cc(f))}function Cc(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[Lo])bc(c.i,o);else{var f=o.type,g=o.proxy;c.removeEventListener?c.removeEventListener(f,g,o.capture):c.detachEvent?c.detachEvent(Ym(f),g):c.addListener&&c.removeListener&&c.removeListener(g),(f=Dc(c))?(bc(f,o),f.h==0&&(f.src=null,c[Rc]=null)):zo(o)}}}function Ym(o){return o in Ic?Ic[o]:Ic[o]="on"+o}function l1(o,c){if(o.da)o=!0;else{c=new nn(c,this);var f=o.listener,g=o.ha||o.src;o.fa&&Cc(o),o=f.call(g,c)}return o}function Dc(o){return o=o[Rc],o instanceof jo?o:null}var Nc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xm(o){return typeof o=="function"?o:(o[Nc]||(o[Nc]=function(c){return o.handleEvent(c)}),o[Nc])}function oe(){ae.call(this),this.i=new jo(this),this.M=this,this.F=null}N(oe,ae),oe.prototype[Lo]=!0,oe.prototype.removeEventListener=function(o,c,f,g){Km(this,o,c,f,g)};function pe(o,c){var f,g=o.F;if(g)for(f=[];g;g=g.F)f.push(g);if(o=o.M,g=c.type||c,typeof c=="string")c=new Ot(c,o);else if(c instanceof Ot)c.target=c.target||o;else{var C=c;c=new Ot(g,o),S(c,C)}if(C=!0,f)for(var O=f.length-1;0<=O;O--){var j=c.g=f[O];C=Bo(j,g,!0,c)&&C}if(j=c.g=o,C=Bo(j,g,!0,c)&&C,C=Bo(j,g,!1,c)&&C,f)for(O=0;O<f.length;O++)j=c.g=f[O],C=Bo(j,g,!1,c)&&C}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],g=0;g<f.length;g++)zo(f[g]);delete o.g[c],o.h--}}this.F=null},oe.prototype.K=function(o,c,f,g){return this.i.add(String(o),c,!1,f,g)},oe.prototype.L=function(o,c,f,g){return this.i.add(String(o),c,!0,f,g)};function Bo(o,c,f,g){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var C=!0,O=0;O<c.length;++O){var j=c[O];if(j&&!j.da&&j.capture==f){var yt=j.listener,Wt=j.ha||j.src;j.fa&&bc(o.i,j),C=yt.call(Wt,g)!==!1&&C}}return C&&!g.defaultPrevented}function $m(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function Zm(o){o.g=$m(()=>{o.g=null,o.i&&(o.i=!1,Zm(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class u1 extends ae{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Zm(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(o){ae.call(this),this.h=o,this.g={}}N(Gs,ae);var Jm=[];function Wm(o){L(o.g,function(c,f){this.g.hasOwnProperty(f)&&Cc(c)},o),o.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),Wm(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oc=l.JSON.stringify,c1=l.JSON.parse,h1=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Vc(){}Vc.prototype.h=null;function tg(o){return o.h||(o.h=o.i())}function eg(){}var Fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mc(){Ot.call(this,"d")}N(Mc,Ot);function xc(){Ot.call(this,"c")}N(xc,Ot);var Qi={},ng=null;function qo(){return ng=ng||new oe}Qi.La="serverreachability";function ig(o){Ot.call(this,Qi.La,o)}N(ig,Ot);function Qs(o){const c=qo();pe(c,new ig(c))}Qi.STAT_EVENT="statevent";function rg(o,c){Ot.call(this,Qi.STAT_EVENT,o),this.stat=c}N(rg,Ot);function ye(o){const c=qo();pe(c,new rg(c,o))}Qi.Ma="timingevent";function sg(o,c){Ot.call(this,Qi.Ma,o),this.size=c}N(sg,Ot);function Ks(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Ys(){this.g=!0}Ys.prototype.xa=function(){this.g=!1};function f1(o,c,f,g,C,O){o.info(function(){if(o.g)if(O)for(var j="",yt=O.split("&"),Wt=0;Wt<yt.length;Wt++){var ot=yt[Wt].split("=");if(1<ot.length){var le=ot[0];ot=ot[1];var ue=le.split("_");j=2<=ue.length&&ue[1]=="type"?j+(le+"="+ot+"&"):j+(le+"=redacted&")}}else j=null;else j=O;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+c+`
`+f+`
`+j})}function d1(o,c,f,g,C,O,j){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+c+`
`+f+`
`+O+" "+j})}function Ir(o,c,f,g){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+g1(o,f)+(g?" "+g:"")})}function m1(o,c){o.info(function(){return"TIMEOUT: "+c})}Ys.prototype.info=function(){};function g1(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var g=f[o];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var O=C[0];if(O!="noop"&&O!="stop"&&O!="close")for(var j=1;j<C.length;j++)C[j]=""}}}}return Oc(f)}catch{return c}}var Ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ag={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kc;function Go(){}N(Go,Vc),Go.prototype.g=function(){return new XMLHttpRequest},Go.prototype.i=function(){return{}},kc=new Go;function Jn(o,c,f,g){this.j=o,this.i=c,this.l=f,this.R=g||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new og}function og(){this.i=null,this.g="",this.h=!1}var lg={},Pc={};function Uc(o,c,f){o.L=1,o.v=Yo(bn(c)),o.m=f,o.P=!0,ug(o,null)}function ug(o,c){o.F=Date.now(),Fo(o),o.A=bn(o.v);var f=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),Sg(f.i,"t",g),o.C=0,f=o.j.J,o.h=new og,o.g=Bg(o.j,f?c:null,!o.m),0<o.O&&(o.M=new u1(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,g=o.ca;var C="readystatechange";Array.isArray(C)||(C&&(Jm[0]=C.toString()),C=Jm);for(var O=0;O<C.length;O++){var j=Qm(f,C[O],g||c.handleEvent,!1,c.h||c);if(!j)break;c.g[j.key]=j}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Qs(),f1(o.i,o.u,o.A,o.l,o.R,o.m)}Jn.prototype.ca=function(o){o=o.target;const c=this.M;c&&wn(o)==3?c.j():this.Y(o)},Jn.prototype.Y=function(o){try{if(o==this.g)t:{const ue=wn(this.g);var c=this.g.Ba();const Nr=this.g.Z();if(!(3>ue)&&(ue!=3||this.g&&(this.h.h||this.g.oa()||Ng(this.g)))){this.J||ue!=4||c==7||(c==8||0>=Nr?Qs(3):Qs(2)),Lc(this);var f=this.g.Z();this.X=f;e:if(cg(this)){var g=Ng(this.g);o="";var C=g.length,O=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),Xs(this);var j="";break e}this.h.i=new l.TextDecoder}for(c=0;c<C;c++)this.h.h=!0,o+=this.h.i.decode(g[c],{stream:!(O&&c==C-1)});g.length=0,this.h.g+=o,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,d1(this.i,this.u,this.A,this.l,this.R,ue,f),this.o){if(this.T&&!this.K){e:{if(this.g){var yt,Wt=this.g;if((yt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(yt)){var ot=yt;break e}}ot=null}if(f=ot)Ir(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zc(this,f);else{this.o=!1,this.s=3,ye(12),Ki(this),Xs(this);break t}}if(this.P){f=!0;let Xe;for(;!this.J&&this.C<j.length;)if(Xe=p1(this,j),Xe==Pc){ue==4&&(this.s=4,ye(14),f=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==lg){this.s=4,ye(15),Ir(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Ir(this.i,this.l,Xe,null),zc(this,Xe);if(cg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ue!=4||j.length!=0||this.h.h||(this.s=1,ye(16),f=!1),this.o=this.o&&f,!f)Ir(this.i,this.l,j,"[Invalid Chunked Response]"),Ki(this),Xs(this);else if(0<j.length&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.ba&&!le.M&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Fc(le),le.M=!0,ye(11))}}else Ir(this.i,this.l,j,null),zc(this,j);ue==4&&Ki(this),this.o&&!this.J&&(ue==4?Ug(this.j,this):(this.o=!1,Fo(this)))}else M1(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),Ki(this),Xs(this)}}}catch{}finally{}};function cg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function p1(o,c){var f=o.C,g=c.indexOf(`
`,f);return g==-1?Pc:(f=Number(c.substring(f,g)),isNaN(f)?lg:(g+=1,g+f>c.length?Pc:(c=c.slice(g,g+f),o.C=g+f,c)))}Jn.prototype.cancel=function(){this.J=!0,Ki(this)};function Fo(o){o.S=Date.now()+o.I,hg(o,o.I)}function hg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ks(m(o.ba,o),c)}function Lc(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Jn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(m1(this.i,this.A),this.L!=2&&(Qs(),ye(17)),Ki(this),this.s=2,Xs(this)):hg(this,this.S-o)};function Xs(o){o.j.G==0||o.J||Ug(o.j,o)}function Ki(o){Lc(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Wm(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function zc(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||jc(f.h,o))){if(!o.K&&jc(f.h,o)&&f.G==3){try{var g=f.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)tl(f),Jo(f);else break t;Gc(f),ye(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ks(m(f.Za,f),6e3));if(1>=mg(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Xi(f,11)}else if((o.K||f.g==o)&&tl(f),!v(c))for(C=f.Da.g.parse(c),c=0;c<C.length;c++){let ot=C[c];if(f.T=ot[0],ot=ot[1],f.G==2)if(ot[0]=="c"){f.K=ot[1],f.ia=ot[2];const le=ot[3];le!=null&&(f.la=le,f.j.info("VER="+f.la));const ue=ot[4];ue!=null&&(f.Aa=ue,f.j.info("SVER="+f.Aa));const Nr=ot[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(g=1.5*Nr,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const Xe=o.g;if(Xe){const nl=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nl){var O=g.h;O.g||nl.indexOf("spdy")==-1&&nl.indexOf("quic")==-1&&nl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Bc(O,O.h),O.h=null))}if(g.D){const Qc=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Qc&&(g.ya=Qc,Tt(g.I,g.D,Qc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var j=o;if(g.qa=jg(g,g.J?g.ia:null,g.W),j.K){gg(g.h,j);var yt=j,Wt=g.L;Wt&&(yt.I=Wt),yt.B&&(Lc(yt),Fo(yt)),g.g=j}else kg(g);0<f.i.length&&Wo(f)}else ot[0]!="stop"&&ot[0]!="close"||Xi(f,7);else f.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Xi(f,7):Hc(f):ot[0]!="noop"&&f.l&&f.l.ta(ot),f.v=0)}}Qs(4)}catch{}}var y1=class{constructor(o,c){this.g=o,this.map=c}};function fg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function mg(o){return o.h?1:o.g?o.g.size:0}function jc(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Bc(o,c){o.g?o.g.add(c):o.h=c}function gg(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}fg.prototype.cancel=function(){if(this.i=pg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function pg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return V(o.i)}function _1(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,g=0;g<f;g++)c.push(o[g]);return c}c=[],f=0;for(g in o)c[f++]=o[g];return c}function v1(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const g in o)c[f++]=g;return c}}}function yg(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=v1(o),g=_1(o),C=g.length,O=0;O<C;O++)c.call(void 0,g[O],f&&f[O],o)}var _g=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function E1(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var g=o[f].indexOf("="),C=null;if(0<=g){var O=o[f].substring(0,g);C=o[f].substring(g+1)}else O=o[f];c(O,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Yi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Yi){this.h=o.h,Qo(this,o.j),this.o=o.o,this.g=o.g,Ko(this,o.s),this.l=o.l;var c=o.i,f=new Js;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),vg(this,f),this.m=o.m}else o&&(c=String(o).match(_g))?(this.h=!1,Qo(this,c[1]||"",!0),this.o=$s(c[2]||""),this.g=$s(c[3]||"",!0),Ko(this,c[4]),this.l=$s(c[5]||"",!0),vg(this,c[6]||"",!0),this.m=$s(c[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}Yi.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Zs(c,Eg,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Zs(c,Eg,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Zs(f,f.charAt(0)=="/"?S1:A1,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Zs(f,w1)),o.join("")};function bn(o){return new Yi(o)}function Qo(o,c,f){o.j=f?$s(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Ko(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function vg(o,c,f){c instanceof Js?(o.i=c,R1(o.i,o.h)):(f||(c=Zs(c,b1)),o.i=new Js(c,o.h))}function Tt(o,c,f){o.i.set(c,f)}function Yo(o){return Tt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function $s(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Zs(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,T1),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function T1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Eg=/[#\/\?@]/g,A1=/[#\?:]/g,S1=/[#\?]/g,b1=/[#\?@]/g,w1=/#/g;function Js(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Wn(o){o.g||(o.g=new Map,o.h=0,o.i&&E1(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Js.prototype,e.add=function(o,c){Wn(this),this.i=null,o=Cr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Tg(o,c){Wn(o),c=Cr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Ag(o,c){return Wn(o),c=Cr(o,c),o.g.has(c)}e.forEach=function(o,c){Wn(this),this.g.forEach(function(f,g){f.forEach(function(C){o.call(c,C,g,this)},this)},this)},e.na=function(){Wn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let g=0;g<c.length;g++){const C=o[g];for(let O=0;O<C.length;O++)f.push(c[g])}return f},e.V=function(o){Wn(this);let c=[];if(typeof o=="string")Ag(this,o)&&(c=c.concat(this.g.get(Cr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return Wn(this),this.i=null,o=Cr(this,o),Ag(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Sg(o,c,f){Tg(o,c),0<f.length&&(o.i=null,o.g.set(Cr(o,c),V(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var g=c[f];const O=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var C=O;j[g]!==""&&(C+="="+encodeURIComponent(String(j[g]))),o.push(C)}}return this.i=o.join("&")};function Cr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function R1(o,c){c&&!o.j&&(Wn(o),o.i=null,o.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(Tg(this,g),Sg(this,C,f))},o)),o.j=c}function I1(o,c){const f=new Ys;if(l.Image){const g=new Image;g.onload=_(ti,f,"TestLoadImage: loaded",!0,c,g),g.onerror=_(ti,f,"TestLoadImage: error",!1,c,g),g.onabort=_(ti,f,"TestLoadImage: abort",!1,c,g),g.ontimeout=_(ti,f,"TestLoadImage: timeout",!1,c,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else c(!1)}function C1(o,c){const f=new Ys,g=new AbortController,C=setTimeout(()=>{g.abort(),ti(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:g.signal}).then(O=>{clearTimeout(C),O.ok?ti(f,"TestPingServer: ok",!0,c):ti(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),ti(f,"TestPingServer: error",!1,c)})}function ti(o,c,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function D1(){this.g=new h1}function N1(o,c,f){const g=f||"";try{yg(o,function(C,O){let j=C;h(C)&&(j=Oc(C)),c.push(g+O+"="+encodeURIComponent(j))})}catch(C){throw c.push(g+"type="+encodeURIComponent("_badmap")),C}}function Xo(o){this.l=o.Ub||null,this.j=o.eb||!1}N(Xo,Vc),Xo.prototype.g=function(){return new $o(this.l,this.j)},Xo.prototype.i=function(o){return function(){return o}}({});function $o(o,c){oe.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N($o,oe),e=$o.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,ta(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bg(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function bg(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Ws(this):ta(this),this.readyState==3&&bg(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Ws(this))},e.Qa=function(o){this.g&&(this.response=o,Ws(this))},e.ga=function(){this.g&&Ws(this)};function Ws(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ta(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function ta(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty($o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function wg(o){let c="";return L(o,function(f,g){c+=g,c+=":",c+=f,c+=`\r
`}),c}function qc(o,c,f){t:{for(g in f){var g=!1;break t}g=!0}g||(f=wg(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Tt(o,c,f))}function Vt(o){oe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Vt,oe);var O1=/^https?$/i,V1=["POST","PUT"];e=Vt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kc.g(),this.v=this.o?tg(this.o):tg(kc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(O){Rg(this,O);return}if(o=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const O of g.keys())f.set(O,g.get(O));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),C=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(V1,c,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,j]of f)this.g.setRequestHeader(O,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dg(this),this.u=!0,this.g.send(o),this.u=!1}catch(O){Rg(this,O)}};function Rg(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Ig(o),Zo(o)}function Ig(o){o.A||(o.A=!0,pe(o,"complete"),pe(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,pe(this,"complete"),pe(this,"abort"),Zo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zo(this,!0)),Vt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Cg(this):this.bb())},e.bb=function(){Cg(this)};function Cg(o){if(o.h&&typeof a<"u"&&(!o.v[1]||wn(o)!=4||o.Z()!=2)){if(o.u&&wn(o)==4)$m(o.Ea,0,o);else if(pe(o,"readystatechange"),wn(o)==4){o.h=!1;try{const j=o.Z();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var g;if(g=j===0){var C=String(o.D).match(_g)[1]||null;!C&&l.self&&l.self.location&&(C=l.self.location.protocol.slice(0,-1)),g=!O1.test(C?C.toLowerCase():"")}f=g}if(f)pe(o,"complete"),pe(o,"success");else{o.m=6;try{var O=2<wn(o)?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.Z()+"]",Ig(o)}}finally{Zo(o)}}}}function Zo(o,c){if(o.g){Dg(o);const f=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||pe(o,"ready");try{f.onreadystatechange=g}catch{}}}function Dg(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function wn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),c1(c)}};function Ng(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function M1(o){const c={};o=(o.g&&2<=wn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(v(o[g]))continue;var f=R(o[g]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[C]||[];c[C]=O,O.push(f)}E(c,function(g){return g.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ea(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Og(o){this.Aa=0,this.i=[],this.j=new Ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ea("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ea("baseRetryDelayMs",5e3,o),this.cb=ea("retryDelaySeedMs",1e4,o),this.Wa=ea("forwardChannelMaxRetries",2,o),this.wa=ea("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new fg(o&&o.concurrentRequestLimit),this.Da=new D1,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Og.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,g){ye(0),this.W=o,this.H=c||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=jg(this,null,this.W),Wo(this)};function Hc(o){if(Vg(o),o.G==3){var c=o.U++,f=bn(o.I);if(Tt(f,"SID",o.K),Tt(f,"RID",c),Tt(f,"TYPE","terminate"),na(o,f),c=new Jn(o,o.j,c),c.L=2,c.v=Yo(bn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Bg(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Fo(c)}zg(o)}function Jo(o){o.g&&(Fc(o),o.g.cancel(),o.g=null)}function Vg(o){Jo(o),o.u&&(l.clearTimeout(o.u),o.u=null),tl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Wo(o){if(!dg(o.h)&&!o.s){o.s=!0;var c=o.Ga;X||It(),F||(X(),F=!0),ht.add(c,o),o.B=0}}function x1(o,c){return mg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ks(m(o.Ga,o,c),Lg(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const C=new Jn(this,this.j,o);let O=this.o;if(this.S&&(O?(O=y(O),S(O,this.S)):O=this.S),this.m!==null||this.O||(C.H=O,O=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=xg(this,C,c),f=bn(this.I),Tt(f,"RID",o),Tt(f,"CVER",22),this.D&&Tt(f,"X-HTTP-Session-Id",this.D),na(this,f),O&&(this.O?c="headers="+encodeURIComponent(String(wg(O)))+"&"+c:this.m&&qc(f,this.m,O)),Bc(this.h,C),this.Ua&&Tt(f,"TYPE","init"),this.P?(Tt(f,"$req",c),Tt(f,"SID","null"),C.T=!0,Uc(C,f,null)):Uc(C,f,c),this.G=2}}else this.G==3&&(o?Mg(this,o):this.i.length==0||dg(this.h)||Mg(this))};function Mg(o,c){var f;c?f=c.l:f=o.U++;const g=bn(o.I);Tt(g,"SID",o.K),Tt(g,"RID",f),Tt(g,"AID",o.T),na(o,g),o.m&&o.o&&qc(g,o.m,o.o),f=new Jn(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=xg(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Bc(o.h,f),Uc(f,g,c)}function na(o,c){o.H&&L(o.H,function(f,g){Tt(c,g,f)}),o.l&&yg({},function(f,g){Tt(c,g,f)})}function xg(o,c,f){f=Math.min(o.i.length,f);var g=o.l?m(o.l.Na,o.l,o):null;t:{var C=o.i;let O=-1;for(;;){const j=["count="+f];O==-1?0<f?(O=C[0].g,j.push("ofs="+O)):O=0:j.push("ofs="+O);let yt=!0;for(let Wt=0;Wt<f;Wt++){let ot=C[Wt].g;const le=C[Wt].map;if(ot-=O,0>ot)O=Math.max(0,C[Wt].g-100),yt=!1;else try{N1(le,j,"req"+ot+"_")}catch{g&&g(le)}}if(yt){g=j.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,g}function kg(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;X||It(),F||(X(),F=!0),ht.add(c,o),o.v=0}}function Gc(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ks(m(o.Fa,o),Lg(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Pg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ks(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),Jo(this),Pg(this))};function Fc(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Pg(o){o.g=new Jn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=bn(o.qa);Tt(c,"RID","rpc"),Tt(c,"SID",o.K),Tt(c,"AID",o.T),Tt(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Tt(c,"TO",o.ja),Tt(c,"TYPE","xmlhttp"),na(o,c),o.m&&o.o&&qc(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Yo(bn(c)),f.m=null,f.P=!0,ug(f,o)}e.Za=function(){this.C!=null&&(this.C=null,Jo(this),Gc(this),ye(19))};function tl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Ug(o,c){var f=null;if(o.g==c){tl(o),Fc(o),o.g=null;var g=2}else if(jc(o.h,c))f=c.D,gg(o.h,c),g=1;else return;if(o.G!=0){if(c.o)if(g==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var C=o.B;g=qo(),pe(g,new sg(g,f)),Wo(o)}else kg(o);else if(C=c.s,C==3||C==0&&0<c.X||!(g==1&&x1(o,c)||g==2&&Gc(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),C){case 1:Xi(o,5);break;case 4:Xi(o,10);break;case 3:Xi(o,6);break;default:Xi(o,2)}}}function Lg(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function Xi(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),g=o.Xa;const C=!g;g=new Yi(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Qo(g,"https"),Yo(g),C?I1(g.toString(),f):C1(g.toString(),f)}else ye(2);o.G=0,o.l&&o.l.sa(c),zg(o),Vg(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function zg(o){if(o.G=0,o.ka=[],o.l){const c=pg(o.h);(c.length!=0||o.i.length!=0)&&(k(o.ka,c),k(o.ka,o.i),o.h.i.length=0,V(o.i),o.i.length=0),o.l.ra()}}function jg(o,c,f){var g=f instanceof Yi?bn(f):new Yi(f);if(g.g!="")c&&(g.g=c+"."+g.g),Ko(g,g.s);else{var C=l.location;g=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;var O=new Yi(null);g&&Qo(O,g),c&&(O.g=c),C&&Ko(O,C),f&&(O.l=f),g=O}return f=o.D,c=o.ya,f&&c&&Tt(g,f,c),Tt(g,"VER",o.la),na(o,g),g}function Bg(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Vt(new Xo({eb:f})):new Vt(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qg(){}e=qg.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function el(){}el.prototype.g=function(o,c){return new Ce(o,c)};function Ce(o,c){oe.call(this),this.g=new Og(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!v(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Dr(this)}N(Ce,oe),Ce.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ce.prototype.close=function(){Hc(this.g)},Ce.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Oc(o),o=f);c.i.push(new y1(c.Ya++,o)),c.G==3&&Wo(c)},Ce.prototype.N=function(){this.g.l=null,delete this.j,Hc(this.g),delete this.g,Ce.aa.N.call(this)};function Hg(o){Mc.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}N(Hg,Mc);function Gg(){xc.call(this),this.status=1}N(Gg,xc);function Dr(o){this.g=o}N(Dr,qg),Dr.prototype.ua=function(){pe(this.g,"a")},Dr.prototype.ta=function(o){pe(this.g,new Hg(o))},Dr.prototype.sa=function(o){pe(this.g,new Gg)},Dr.prototype.ra=function(){pe(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Ce.prototype.send=Ce.prototype.o,Ce.prototype.open=Ce.prototype.m,Ce.prototype.close=Ce.prototype.close,tT=function(){return new el},W0=function(){return qo()},J0=Qi,Bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ho.NO_ERROR=0,Ho.TIMEOUT=8,Ho.HTTP_ERROR=6,Ul=Ho,ag.COMPLETE="complete",Z0=ag,eg.EventType=Fs,Fs.OPEN="a",Fs.CLOSE="b",Fs.ERROR="c",Fs.MESSAGE="d",oe.prototype.listen=oe.prototype.K,ga=eg,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,$0=Vt}).apply(typeof _l<"u"?_l:typeof self<"u"?self:typeof window<"u"?window:{});const Cy="@firebase/firestore",Dy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}he.UNAUTHENTICATED=new he(null),he.GOOGLE_CREDENTIALS=new he("google-credentials-uid"),he.FIRST_PARTY=new he("first-party-uid"),he.MOCK_USER=new he("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new sm("@firebase/firestore");function Ur(){return pr.logLevel}function q(e,...t){if(pr.logLevel<=nt.DEBUG){const n=t.map(lm);pr.debug(`Firestore (${zs}): ${e}`,...n)}}function Qn(e,...t){if(pr.logLevel<=nt.ERROR){const n=t.map(lm);pr.error(`Firestore (${zs}): ${e}`,...n)}}function bs(e,...t){if(pr.logLevel<=nt.WARN){const n=t.map(lm);pr.warn(`Firestore (${zs}): ${e}`,...n)}}function lm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,eT(e,i,n)}function eT(e,t,n){let i=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qn(i),new Error(i)}function ct(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||eT(t,r,i)}function Z(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Zn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class p2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(he.UNAUTHENTICATED))}shutdown(){}}class y2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _2{constructor(t){this.t=t,this.currentUser=he.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ct(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vi,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vi)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new nT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ct(t===null||typeof t=="string",2055,{h:t}),new he(t)}}class v2{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=he.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E2{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new v2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(he.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ny{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ze(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ct(this.o===void 0,3512);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ny(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ny(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=A2(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function it(e,t){return e<t?-1:e>t?1:0}function qf(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return Mh(r)===Mh(s)?it(r,s):Mh(r)?1:-1}return it(e.length,t.length)}const S2=55296,b2=57343;function Mh(e){const t=e.charCodeAt(0);return t>=S2&&t<=b2}function ws(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="__name__";class sn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Q(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Q(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return sn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=sn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return it(t.length,n.length)}static compareSegments(t,n){const i=sn.isNumericId(t),r=sn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?sn.extractNumericId(t).compare(sn.extractNumericId(n)):qf(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Oi.fromString(t.substring(4,t.length-2))}}class Dt extends sn{construct(t,n,i){return new Dt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const w2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ie extends sn{construct(t,n,i){return new ie(t,n,i)}static isValidIdentifier(t){return w2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ie.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oy}static keyField(){return new ie([Oy])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new H(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new H(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ie(n)}static emptyPath(){return new ie([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(Dt.fromString(t))}static fromName(t){return new G(Dt.fromString(t).popFirst(5))}static empty(){return new G(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Dt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new Dt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(e,t,n){if(!n)throw new H(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function I2(e,t,n,i){if(t===!0&&i===!0)throw new H(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vy(e){if(!G.isDocumentKey(e))throw new H(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function iT(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function cm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q(12329,{type:typeof e})}function no(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(e);throw new H(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e,t){const n={typeString:e};return t&&(n.value=t),n}function No(e,t){if(!iT(e))throw new H(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new H(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-62135596800,xy=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(t){return At.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*xy);return new At(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<My)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xy}_compareTo(t){return this.seconds===t.seconds?it(this.nanoseconds,t.nanoseconds):it(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(No(t,At._jsonSchema))return new At(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-My;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:jt("string",At._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(t){return new $(t)}static min(){return new $(new At(0,0))}static max(){return new $(new At(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function C2(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new Ui(r,G.empty(),t)}function D2(e){return new Ui(e.readTime,e.key,io)}class Ui{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ui($.min(),G.empty(),io)}static max(){return new Ui($.max(),G.empty(),io)}}function N2(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:it(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==O2)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new x((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):x.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):x.reject(n)}static resolve(t){return new x((n,i)=>{n(t)})}static reject(t){return new x((n,i)=>{i(t)})}static waitFor(t){return new x((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=x.resolve(!1);for(const i of t)n=n.next(r=>r?x.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new x((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===s&&i(a)},d=>r(d))}})}static doWhile(t,n){return new x((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function M2(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bs(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function uc(e){return e==null}function wu(e){return e===0&&1/e==-1/0}function x2(e){return typeof e=="number"&&Number.isInteger(e)&&!wu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="";function k2(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ky(t)),t=P2(e.get(n),t);return ky(t)}function P2(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case rT:n+="";break;default:n+=s}}return n}function ky(e){return e+rT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,n){this.comparator=t,this.root=n||ee.EMPTY}insert(t,n){return new Nt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ee.BLACK,null,null))}remove(t){return new Nt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ee.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vl(this.root,t,this.comparator,!1)}getReverseIterator(){return new vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vl(this.root,t,this.comparator,!0)}}class vl{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ee{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??ee.RED,this.left=r??ee.EMPTY,this.right=s??ee.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new ee(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ee.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ee.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ee.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ee.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Q(27949);return t+(this.isRed()?0:1)}}ee.EMPTY=null,ee.RED=!0,ee.BLACK=!1;ee.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new ee(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.comparator=t,this.data=new Nt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(t){return new Uy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ft)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ft(this.comparator);return n.data=t,n}}class Uy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.fields=t,t.sort(ie.comparator)}static empty(){return new Je([])}unionWith(t){let n=new Ft(ie.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Je(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ws(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aT("Invalid base64 string: "+s):s}}(t);return new se(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new se(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return it(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}se.EMPTY_BYTE_STRING=new se("");const U2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(e){if(ct(!!e,39018),typeof e=="string"){let t=0;const n=U2.exec(e);if(ct(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ut(e.seconds),nanos:Ut(e.nanos)}}function Ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function zi(e){return typeof e=="string"?se.fromBase64String(e):se.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function fm(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[lT])==null?void 0:i.stringValue)===oT}function cc(e){const t=e.mapValue.fields[uT];return fm(t)?cc(t):t}function ro(e){const t=Li(e.mapValue.fields[cT].timestampValue);return new At(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n,i,r,s,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Ru="(default)";class so{constructor(t,n){this.projectId=t,this.database=n||Ru}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===Ru}isEqual(t){return t instanceof so&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__type__",z2="__max__",El={mapValue:{}},fT="__vector__",Iu="value";function ji(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fm(e)?4:B2(e)?9007199254740991:j2(e)?10:11:Q(28295,{value:e})}function _n(e,t){if(e===t)return!0;const n=ji(e);if(n!==ji(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ro(e).isEqual(ro(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Li(r.timestampValue),l=Li(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return zi(r.bytesValue).isEqual(zi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return Ut(r.geoPointValue.latitude)===Ut(s.geoPointValue.latitude)&&Ut(r.geoPointValue.longitude)===Ut(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ut(r.integerValue)===Ut(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ut(r.doubleValue),l=Ut(s.doubleValue);return a===l?wu(a)===wu(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return ws(e.arrayValue.values||[],t.arrayValue.values||[],_n);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Py(a)!==Py(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!_n(a[u],l[u])))return!1;return!0}(e,t);default:return Q(52216,{left:e})}}function ao(e,t){return(e.values||[]).find(n=>_n(n,t))!==void 0}function Rs(e,t){if(e===t)return 0;const n=ji(e),i=ji(t);if(n!==i)return it(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Ut(s.integerValue||s.doubleValue),u=Ut(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return Ly(e.timestampValue,t.timestampValue);case 4:return Ly(ro(e),ro(t));case 5:return qf(e.stringValue,t.stringValue);case 6:return function(s,a){const l=zi(s),u=zi(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=it(l[h],u[h]);if(d!==0)return d}return it(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=it(Ut(s.latitude),Ut(a.latitude));return l!==0?l:it(Ut(s.longitude),Ut(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return zy(e.arrayValue,t.arrayValue);case 10:return function(s,a){var m,_,N,V;const l=s.fields||{},u=a.fields||{},h=(m=l[Iu])==null?void 0:m.arrayValue,d=(_=u[Iu])==null?void 0:_.arrayValue,p=it(((N=h==null?void 0:h.values)==null?void 0:N.length)||0,((V=d==null?void 0:d.values)==null?void 0:V.length)||0);return p!==0?p:zy(h,d)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===El.mapValue&&a===El.mapValue)return 0;if(s===El.mapValue)return 1;if(a===El.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=qf(u[p],d[p]);if(m!==0)return m;const _=Rs(l[u[p]],h[d[p]]);if(_!==0)return _}return it(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Q(23264,{he:n})}}function Ly(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return it(e,t);const n=Li(e),i=Li(t),r=it(n.seconds,i.seconds);return r!==0?r:it(n.nanos,i.nanos)}function zy(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Rs(n[r],i[r]);if(s)return s}return it(n.length,i.length)}function Is(e){return Hf(e)}function Hf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Li(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return zi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Hf(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${Hf(n.fields[a])}`;return r+"}"}(e.mapValue):Q(61005,{value:e})}function Ll(e){switch(ji(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cc(e);return t?16+Ll(t):16;case 5:return 2*e.stringValue.length;case 6:return zi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Ll(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Sr(i.fields,(s,a)=>{r+=s.length+Ll(a)}),r}(e.mapValue);default:throw Q(13486,{value:e})}}function Gf(e){return!!e&&"integerValue"in e}function dm(e){return!!e&&"arrayValue"in e}function jy(e){return!!e&&"nullValue"in e}function By(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zl(e){return!!e&&"mapValue"in e}function j2(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[hT])==null?void 0:i.stringValue)===fT}function ka(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Sr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ka(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ka(e.arrayValue.values[n]);return t}return{...e}}function B2(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===z2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.value=t}static empty(){return new Ge({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!zl(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ka(n)}setAll(t){let n=ie.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=ka(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _n(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];zl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Sr(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ge(ka(this.value))}}function dT(e){const t=[];return Sr(e.fields,(n,i)=>{const r=new ie([n]);if(zl(i)){const s=dT(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new Je(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new fe(t,0,$.min(),$.min(),$.min(),Ge.empty(),0)}static newFoundDocument(t,n,i,r){return new fe(t,1,n,$.min(),i,r,0)}static newNoDocument(t,n){return new fe(t,2,n,$.min(),$.min(),Ge.empty(),0)}static newUnknownDocument(t,n){return new fe(t,3,n,$.min(),$.min(),Ge.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ge.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ge.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n){this.position=t,this.inclusive=n}}function qy(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=Rs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_n(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(t,n="asc"){this.field=t,this.dir=n}}function q2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{}class Gt extends mT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new G2(t,n,i):n==="array-contains"?new K2(t,i):n==="in"?new Y2(t,i):n==="not-in"?new X2(t,i):n==="array-contains-any"?new $2(t,i):new Gt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new F2(t,i):new Q2(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rs(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vn extends mT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new vn(t,n)}matches(t){return gT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gT(e){return e.op==="and"}function pT(e){return H2(e)&&gT(e)}function H2(e){for(const t of e.filters)if(t instanceof vn)return!1;return!0}function Ff(e){if(e instanceof Gt)return e.field.canonicalString()+e.op.toString()+Is(e.value);if(pT(e))return e.filters.map(t=>Ff(t)).join(",");{const t=e.filters.map(n=>Ff(n)).join(",");return`${e.op}(${t})`}}function yT(e,t){return e instanceof Gt?function(i,r){return r instanceof Gt&&i.op===r.op&&i.field.isEqual(r.field)&&_n(i.value,r.value)}(e,t):e instanceof vn?function(i,r){return r instanceof vn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&yT(a,r.filters[l]),!0):!1}(e,t):void Q(19439)}function _T(e){return e instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Is(n.value)}`}(e):e instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(_T).join(" ,")+"}"}(e):"Filter"}class G2 extends Gt{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class F2 extends Gt{constructor(t,n){super(t,"in",n),this.keys=vT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Q2 extends Gt{constructor(t,n){super(t,"not-in",n),this.keys=vT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function vT(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class K2 extends Gt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dm(n)&&ao(n.arrayValue,this.value)}}class Y2 extends Gt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ao(this.value.arrayValue,n)}}class X2 extends Gt{constructor(t,n){super(t,"not-in",n)}matches(t){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ao(this.value.arrayValue,n)}}class $2 extends Gt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ao(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function Gy(e,t=null,n=[],i=[],r=null,s=null,a=null){return new Z2(e,t,n,i,r,s,a)}function mm(e){const t=Z(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Ff(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),uc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Is(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Is(i)).join(",")),t.Te=n}return t.Te}function gm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!q2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!yT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Hy(e.startAt,t.startAt)&&Hy(e.endAt,t.endAt)}function Qf(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J2(e,t,n,i,r,s,a,l){return new hc(e,t,n,i,r,s,a,l)}function pm(e){return new hc(e)}function Fy(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function W2(e){return e.collectionGroup!==null}function Pa(e){const t=Z(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ft(ie.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Du(s,i))}),n.has(ie.keyField().canonicalString())||t.Ie.push(new Du(ie.keyField(),i))}return t.Ie}function hn(e){const t=Z(e);return t.Ee||(t.Ee=tI(t,Pa(e))),t.Ee}function tI(e,t){if(e.limitType==="F")return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Du(r.field,s)});const n=e.endAt?new Cu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Cu(e.startAt.position,e.startAt.inclusive):null;return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Kf(e,t,n){return new hc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function fc(e,t){return gm(hn(e),hn(t))&&e.limitType===t.limitType}function ET(e){return`${mm(hn(e))}|lt:${e.limitType}`}function Lr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>_T(r)).join(", ")}]`),uc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Is(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Is(r)).join(",")),`Target(${i})`}(hn(e))}; limitType=${e.limitType})`}function dc(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Pa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const h=qy(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,Pa(i),r)||i.endAt&&!function(a,l,u){const h=qy(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,Pa(i),r))}(e,t)}function eI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function TT(e){return(t,n)=>{let i=!1;for(const r of Pa(e)){const s=nI(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function nI(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Rs(u,h):Q(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Sr(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return sT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Nt(G.comparator);function Kn(){return iI}const AT=new Nt(G.comparator);function pa(...e){let t=AT;for(const n of e)t=t.insert(n.key,n);return t}function ST(e){let t=AT;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function er(){return Ua()}function bT(){return Ua()}function Ua(){return new br(e=>e.toString(),(e,t)=>e.isEqual(t))}const rI=new Nt(G.comparator),sI=new Ft(G.comparator);function rt(...e){let t=sI;for(const n of e)t=t.add(n);return t}const aI=new Ft(it);function oI(){return aI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(t)?"-0":t}}function wT(e){return{integerValue:""+e}}function lI(e,t){return x2(t)?wT(t):ym(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this._=void 0}}function uI(e,t,n){return e instanceof Nu?function(r,s){const a={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&fm(s)&&(s=cc(s)),s&&(a.fields[uT]=s),{mapValue:a}}(n,t):e instanceof oo?IT(e,t):e instanceof lo?CT(e,t):function(r,s){const a=RT(r,s),l=Qy(a)+Qy(r.Ae);return Gf(a)&&Gf(r.Ae)?wT(l):ym(r.serializer,l)}(e,t)}function cI(e,t,n){return e instanceof oo?IT(e,t):e instanceof lo?CT(e,t):n}function RT(e,t){return e instanceof Ou?function(i){return Gf(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Nu extends mc{}class oo extends mc{constructor(t){super(),this.elements=t}}function IT(e,t){const n=DT(t);for(const i of e.elements)n.some(r=>_n(r,i))||n.push(i);return{arrayValue:{values:n}}}class lo extends mc{constructor(t){super(),this.elements=t}}function CT(e,t){let n=DT(t);for(const i of e.elements)n=n.filter(r=>!_n(r,i));return{arrayValue:{values:n}}}class Ou extends mc{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Qy(e){return Ut(e.integerValue||e.doubleValue)}function DT(e){return dm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function hI(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof oo&&r instanceof oo||i instanceof lo&&r instanceof lo?ws(i.elements,r.elements,_n):i instanceof Ou&&r instanceof Ou?_n(i.Ae,r.Ae):i instanceof Nu&&r instanceof Nu}(e.transform,t.transform)}class fI{constructor(t,n){this.version=t,this.transformResults=n}}class zn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gc{}function NT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new VT(e.key,zn.none()):new Oo(e.key,e.data,zn.none());{const n=e.data,i=Ge.empty();let r=new Ft(ie.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new wr(e.key,i,new Je(r.toArray()),zn.none())}}function dI(e,t,n){e instanceof Oo?function(r,s,a){const l=r.value.clone(),u=Yy(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof wr?function(r,s,a){if(!jl(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Yy(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(OT(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function La(e,t,n,i){return e instanceof Oo?function(s,a,l,u){if(!jl(s.precondition,a))return l;const h=s.value.clone(),d=Xy(s.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof wr?function(s,a,l,u){if(!jl(s.precondition,a))return l;const h=Xy(s.fieldTransforms,u,a),d=a.data;return d.setAll(OT(s)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,a,l){return jl(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function mI(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=RT(i.transform,r||null);s!=null&&(n===null&&(n=Ge.empty()),n.set(i.field,s))}return n||null}function Ky(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ws(i,r,(s,a)=>hI(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Oo extends gc{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wr extends gc{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Yy(e,t,n){const i=new Map;ct(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,cI(a,l,n[r]))}return i}function Xy(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,uI(s,a,t))}return i}class VT extends gc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gI extends gc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&dI(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=La(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=La(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=bT();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=NT(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&ws(this.mutations,t.mutations,(n,i)=>Ky(n,i))&&ws(this.baseMutations,t.baseMutations,(n,i)=>Ky(n,i))}}class _m{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){ct(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return rI}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new _m(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,st;function vI(e){switch(e){case U.OK:return Q(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Q(15467,{code:e})}}function MT(e){if(e===void 0)return Qn("GRPC error has no .code"),U.UNKNOWN;switch(e){case Lt.OK:return U.OK;case Lt.CANCELLED:return U.CANCELLED;case Lt.UNKNOWN:return U.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return U.INTERNAL;case Lt.UNAVAILABLE:return U.UNAVAILABLE;case Lt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Lt.NOT_FOUND:return U.NOT_FOUND;case Lt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Lt.ABORTED:return U.ABORTED;case Lt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Lt.DATA_LOSS:return U.DATA_LOSS;default:return Q(39323,{code:e})}}(st=Lt||(Lt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Oi([4294967295,4294967295],0);function $y(e){const t=EI().encode(e),n=new X0;return n.update(t),new Uint8Array(n.digest())}function Zy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Oi([n,i],0),new Oi([r,s],0)]}class vm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ya(`Invalid padding: ${n}`);if(i<0)throw new ya(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ya(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Oi.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(Oi.fromNumber(i)));return r.compare(TI)===1&&(r=new Oi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=$y(t),[i,r]=Zy(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new vm(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.ge===0)return;const n=$y(t),[i,r]=Zy(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Vo.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new pc($.min(),r,new Nt(it),Kn(),rt())}}class Vo{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Vo(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,n,i,r){this.be=t,this.removedTargetIds=n,this.key=i,this.De=r}}class xT{constructor(t,n){this.targetId=t,this.Ce=n}}class kT{constructor(t,n,i=se.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Jy{constructor(){this.ve=0,this.Fe=Wy(),this.Me=se.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=rt(),n=rt(),i=rt();return this.Fe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q(38017,{changeType:s})}}),new Vo(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=Wy()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Kn(),this.Je=Tl(),this.He=Tl(),this.Ye=new Nt(it)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Q(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const s=r.target;if(Qf(s))if(i===0){const a=new G(s.path);this.et(n,a,fe.newNoDocument(a,$.min()))}else ct(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(t),u=l?this.ct(l,t,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=zi(i).toUint8Array()}catch(u){if(u instanceof aT)return bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new vm(a,r,s)}catch(u){return bs(u instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(t){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Qf(l.target)){const u=new G(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,fe.newNoDocument(u,t))}s.Be&&(n.set(a,s.ke()),s.qe())}});let i=rt();this.He.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(t));const r=new pc(t,n,this.Ye,this.je,i);return this.je=Kn(),this.Je=Tl(),this.He=Tl(),this.Ye=new Nt(it),r}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Jy,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ft(it),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ft(it),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Jy),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Tl(){return new Nt(G.comparator)}function Wy(){return new Nt(G.comparator)}const SI={asc:"ASCENDING",desc:"DESCENDING"},bI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wI={and:"AND",or:"OR"};class RI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Yf(e,t){return e.useProto3Json||uc(t)?t:{value:t}}function Vu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function II(e,t){return Vu(e,t.toTimestamp())}function fn(e){return ct(!!e,49232),$.fromTimestamp(function(n){const i=Li(n);return new At(i.seconds,i.nanos)}(e))}function Em(e,t){return Xf(e,t).canonicalString()}function Xf(e,t){const n=function(r){return new Dt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function UT(e){const t=Dt.fromString(e);return ct(qT(t),10190,{key:t.toString()}),t}function $f(e,t){return Em(e.databaseId,t.path)}function xh(e,t){const n=UT(t);if(n.get(1)!==e.databaseId.projectId)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(zT(n))}function LT(e,t){return Em(e.databaseId,t)}function CI(e){const t=UT(e);return t.length===4?Dt.emptyPath():zT(t)}function Zf(e){return new Dt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zT(e){return ct(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function t_(e,t,n){return{name:$f(e,t),fields:n.value.mapValue.fields}}function DI(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Q(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(ct(d===void 0||typeof d=="string",58123),se.fromBase64String(d||"")):(ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),se.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?U.UNKNOWN:MT(h.code);return new H(d,h.message||"")}(a);n=new kT(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=xh(e,i.document.name),s=fn(i.document.updateTime),a=i.document.createTime?fn(i.document.createTime):$.min(),l=new Ge({mapValue:{fields:i.document.fields}}),u=fe.newFoundDocument(r,s,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Bl(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=xh(e,i.document),s=i.readTime?fn(i.readTime):$.min(),a=fe.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Bl([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=xh(e,i.document),s=i.removedTargetIds||[];n=new Bl([],s,r,null)}else{if(!("filter"in t))return Q(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new _I(r,s),l=i.targetId;n=new xT(l,a)}}return n}function NI(e,t){let n;if(t instanceof Oo)n={update:t_(e,t.key,t.value)};else if(t instanceof VT)n={delete:$f(e,t.key)};else if(t instanceof wr)n={update:t_(e,t.key,t.data),updateMask:zI(t.fieldMask)};else{if(!(t instanceof gI))return Q(16599,{Vt:t.type});n={verify:$f(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Nu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof oo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof lo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ou)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Q(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:II(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(e,t.precondition)),n}function OI(e,t){return e&&e.length>0?(ct(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?fn(r.updateTime):fn(s);return a.isEqual($.min())&&(a=fn(s)),new fI(a,r.transformResults||[])}(n,t))):[]}function VI(e,t){return{documents:[LT(e,t.path)]}}function MI(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=LT(e,r);const s=function(h){if(h.length!==0)return BT(vn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:zr(m.field),direction:PI(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Yf(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ft:n,parent:r}}function xI(e){let t=CI(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ct(i===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=jT(p);return m instanceof vn&&pT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(N){return new Du(jr(N.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,uc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,_=p.values||[];return new Cu(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,_=p.values||[];return new Cu(_,m)}(n.endAt)),J2(t,r,a,s,l,"F",u,h)}function kI(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function jT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=jr(n.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=jr(n.unaryFilter.field);return Gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=jr(n.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=jr(n.unaryFilter.field);return Gt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(e):e.fieldFilter!==void 0?function(n){return Gt.create(jr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(i=>jT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(e):Q(30097,{filter:e})}function PI(e){return SI[e]}function UI(e){return bI[e]}function LI(e){return wI[e]}function zr(e){return{fieldPath:e.canonicalString()}}function jr(e){return ie.fromServerFormat(e.fieldPath)}function BT(e){return e instanceof Gt?function(n){if(n.op==="=="){if(By(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NAN"}};if(jy(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(By(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NOT_NAN"}};if(jy(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zr(n.field),op:UI(n.op),value:n.value}}}(e):e instanceof vn?function(n){const i=n.getFilters().map(r=>BT(r));return i.length===1?i[0]:{compositeFilter:{op:LI(n.op),filters:i}}}(e):Q(54877,{filter:e})}function zI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function qT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,n,i,r,s=$.min(),a=$.min(),l=se.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new vi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.yt=t}}function BI(e){const t=xI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Kf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.Cn=new HI}addToCollectionParentIndex(t,n){return this.Cn.add(n),x.resolve()}getCollectionParents(t,n){return x.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return x.resolve()}deleteFieldIndex(t,n){return x.resolve()}deleteAllFieldIndexes(t){return x.resolve()}createTargetIndexes(t,n){return x.resolve()}getDocumentsMatchingTarget(t,n){return x.resolve(null)}getIndexType(t,n){return x.resolve(0)}getFieldIndexes(t,n){return x.resolve([])}getNextCollectionGroupToUpdate(t){return x.resolve(null)}getMinOffset(t,n){return x.resolve(Ui.min())}getMinOffsetFromCollectionGroup(t,n){return x.resolve(Ui.min())}updateCollectionGroup(t,n,i){return x.resolve()}updateIndexEntries(t,n){return x.resolve()}}class HI{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Ft(Dt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ft(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HT=41943040;class we{static withCacheSize(t){return new we(t,we.DEFAULT_COLLECTION_PERCENTILE,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */we.DEFAULT_COLLECTION_PERCENTILE=10,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,we.DEFAULT=new we(HT,we.DEFAULT_COLLECTION_PERCENTILE,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),we.DISABLED=new we(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Cs(0)}static cr(){return new Cs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",GI=1048576;function i_([e,t],[n,i]){const r=it(e,n);return r===0?it(t,i):r}class FI{constructor(t){this.Ir=t,this.buffer=new Ft(i_),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();i_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QI{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){q(n_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bs(n)?q(n_,"Ignoring IndexedDB error during garbage collection: ",n):await js(n)}await this.Vr(3e5)})}}class KI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return x.resolve(lc.ce);const i=new FI(n);return this.mr.forEachTarget(t,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(t,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(e_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,r,s,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,l=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(h=Date.now(),Ur()<=nt.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function YI(e,t){return new KI(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.changes=new br(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?x.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&La(i.mutation,r,Je.empty(),At.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const r=er();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=pa();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=er();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=Kn();const a=Ua(),l=function(){return Ua()}();return n.forEach((u,h)=>{const d=i.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof wr)?s=s.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),La(d.mutation,h,d.mutation.getFieldMask(),At.now())):a.set(h.key,Je.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>l.set(h,new $I(d,a.get(h)??null))),l))}recalculateAndSaveOverlays(t,n){const i=Ua();let r=new Nt((a,l)=>a-l),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Je.empty();d=l.applyToLocalView(h,d),i.set(u,d);const p=(r.get(l.batchId)||rt()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=bT();d.forEach(m=>{if(!s.has(m)){const _=NT(n.get(m),i.get(m));_!==null&&p.set(m,_),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,p))}return x.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return G.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):W2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):x.resolve(er());let l=io,u=s;return a.next(h=>x.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?x.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,rt())).next(d=>({batchId:l,changes:ST(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let r=pa();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=pa();return this.indexManager.getCollectionParents(t,s).next(l=>x.forEach(l,u=>{const h=function(p,m){return new hc(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,r).next(d=>{d.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,fe.newInvalidDocument(d)))});let l=pa();return a.forEach((u,h)=>{const d=s.get(u);d!==void 0&&La(d.mutation,h,Je.empty(),At.now()),dc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return x.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:fn(r.createTime)}}(n)),x.resolve()}getNamedQuery(t,n){return x.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(r){return{name:r.name,query:BI(r.bundledQuery),readTime:fn(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.overlays=new Nt(G.comparator),this.qr=new Map}getOverlay(t,n){return x.resolve(this.overlays.get(n))}getOverlays(t,n){const i=er();return x.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),x.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),x.resolve()}getOverlaysForCollection(t,n,i){const r=er(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return x.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Nt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=er(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=er(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=r)););return x.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new yI(n,i));let s=this.qr.get(n);s===void 0&&(s=rt(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.sessionToken=se.EMPTY_BYTE_STRING}getSessionToken(t){return x.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,x.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Kt(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Kt(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new G(new Dt([])),i=new Kt(n,t),r=new Kt(n,t+1),s=[];return this.Ur.forEachInRange([i,r],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new G(new Dt([])),i=new Kt(n,t),r=new Kt(n,t+1);let s=rt();return this.Ur.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Kt(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Kt{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return G.comparator(t.key,n.key)||it(t.Yr,n.Yr)}static Kr(t,n){return it(t.Yr,n.Yr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(t){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new pI(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new Kt(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return x.resolve(a)}lookupMutationBatch(t,n){return x.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?hm:this.tr-1)}getAllMutationBatches(t){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Kt(n,0),r=new Kt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],a=>{const l=this.Xr(a.Yr);s.push(l)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ft(it);return n.forEach(r=>{const s=new Kt(r,0),a=new Kt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{i=i.add(l.Yr)})}),x.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new Kt(new G(s),0);let l=new Ft(it);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Yr)),!0)},a),x.resolve(this.ti(l))}ti(t){const n=[];return t.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return x.forEach(n.mutations,r=>{const s=new Kt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Kt(n,0),r=this.Zr.firstAfterOrEqual(i);return x.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,x.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.ri=t,this.docs=function(){return new Nt(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return x.resolve(i?i.document.mutableCopy():fe.newInvalidDocument(n))}getEntries(t,n){let i=Kn();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():fe.newInvalidDocument(r))}),x.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=Kn();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||N2(D2(d),i)<=0||(r.has(d.key)||dc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Q(9500)}ii(t,n){return x.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new iC(this)}getSize(t){return x.resolve(this.size)}}class iC extends XI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)}),x.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.persistence=t,this.si=new br(n=>mm(n),gm),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.oi=0,this._i=new Tm,this.targetCount=0,this.ai=Cs.ur()}forEachTarget(t,n){return this.si.forEach((i,r)=>n(r)),x.resolve()}getLastRemoteSnapshotVersion(t){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return x.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),x.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Cs(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,x.resolve()}updateTargetData(t,n){return this.Pr(n),x.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),x.waitFor(s).next(()=>r)}getTargetCount(t){return x.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return x.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),x.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),x.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),x.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return x.resolve(i)}containsKey(t,n){return x.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,n){this.ui={},this.overlays={},this.ci=new lc(0),this.li=!1,this.li=!0,this.hi=new tC,this.referenceDelegate=t(this),this.Pi=new rC(this),this.indexManager=new qI,this.remoteDocumentCache=function(r){return new nC(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new jI(n),this.Ii=new JI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new WI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new eC(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const r=new sC(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(t,n){return x.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class sC extends V2{constructor(t){super(),this.currentSequenceNumber=t}}class Am{constructor(t){this.persistence=t,this.Ri=new Tm,this.Vi=null}static mi(t){return new Am(t)}get fi(){if(this.Vi)return this.Vi;throw Q(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),x.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),x.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),x.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.fi,i=>{const r=G.fromPath(i);return this.gi(t,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return x.or([()=>x.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Mu{constructor(t,n){this.persistence=t,this.pi=new br(i=>k2(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=YI(this,n)}static mi(t,n){return new Mu(t,n)}Ei(){}di(t){return x.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return x.forEach(this.pi,(i,r)=>this.br(t,i,r).next(s=>s?x.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(t,a=>this.br(t,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),x.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),x.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),x.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),x.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ll(t.data.value)),n}br(t,n,i){return x.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.pi.get(n);return x.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=r}static As(t,n){let i=rt(),r=rt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Sm(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $w()?8:M2(ge())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ys(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new aC;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.Vs)return this.bs(t,n,a,l.size)})}).next(()=>s.result)}bs(t,n,i,r){return i.documentReadCount<this.fs?(Ur()<=nt.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Lr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),x.resolve()):(Ur()<=nt.DEBUG&&q("QueryEngine","Query:",Lr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Ur()<=nt.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Lr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hn(n))):x.resolve())}ys(t,n){if(Fy(n))return x.resolve(null);let i=hn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Kf(n,null,"F"),i=hn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=rt(...s);return this.ps.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.Ds(n,l);return this.Cs(n,h,a,u.readTime)?this.ys(t,Kf(n,null,"F")):this.vs(t,h,n,u)}))})))}ws(t,n,i,r){return Fy(n)||r.isEqual($.min())?x.resolve(null):this.ps.getDocuments(t,i).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,i,r)?x.resolve(null):(Ur()<=nt.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lr(n)),this.vs(t,a,n,C2(r,io)).next(l=>l))})}Ds(t,n){let i=new Ft(TT(t));return n.forEach((r,s)=>{dc(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return Ur()<=nt.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Lr(n)),this.ps.getDocumentsMatchingQuery(t,n,Ui.min(),i)}vs(t,n,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LocalStore",lC=3e8;class uC{constructor(t,n,i,r){this.persistence=t,this.Fs=n,this.serializer=r,this.Ms=new Nt(it),this.xs=new br(s=>mm(s),gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function cC(e,t,n,i){return new uC(e,t,n,i)}async function FT(e,t){const n=Z(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=rt();for(const h of r){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Ls:h,removedBatchIds:a,addedBatchIds:l}))})})}function hC(e,t){const n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,m=p.keys();let _=x.resolve();return m.forEach(N=>{_=_.next(()=>d.getEntry(u,N)).next(V=>{const k=h.docVersions.get(N);ct(k!==null,48541),V.version.compareTo(k)<0&&(p.applyToRemoteDocument(V,h),V.isValidDocument()&&(V.setReadTime(h.commitVersion),d.addEntry(V)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=rt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function QT(e){const t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function fC(e,t){const n=Z(e),i=t.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];t.targetChanges.forEach((d,p)=>{const m=r.get(p);if(!m)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,p)));let _=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?_=_.withResumeToken(se.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(p,_),function(V,k,b){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=lC?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,_,d)&&l.push(n.Pi.updateTargetData(s,_))});let u=Kn(),h=rt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(dC(s,a,t.documentUpdates).next(d=>{u=d.ks,h=d.qs})),!i.isEqual($.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(d)}return x.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Ms=r,s))}function dC(e,t,n){let i=rt(),r=rt();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=Kn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):q(bm,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:a,qs:r}})}function mC(e,t){const n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=hm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function gC(e,t){const n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,t).next(s=>s?(r=s,x.resolve(r)):n.Pi.allocateTargetId(i).next(a=>(r=new vi(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function Jf(e,t,n){const i=Z(e),r=i.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Bs(a))throw a;q(bm,`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function r_(e,t,n){const i=Z(e);let r=$.min(),s=rt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const p=Z(u),m=p.xs.get(d);return m!==void 0?x.resolve(p.Ms.get(m)):p.Pi.getTargetData(h,d)}(i,a,hn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(a,t,n?r:$.min(),n?s:rt())).next(l=>(pC(i,eI(t),l),{documents:l,Qs:s})))}function pC(e,t,n){let i=e.Os.get(t)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Os.set(t,i)}class s_{constructor(){this.activeTargetIds=oI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yC{constructor(){this.Mo=new s_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new s_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="ConnectivityMonitor";class o_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(a_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){q(a_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=null;function Wf(){return Al===null?Al=function(){return 268435456+Math.round(2147483648*Math.random())}():Al++,"0x"+Al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="RestConnection",vC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Ru?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,n,i,r,s){const a=Wf(),l=this.zo(t,n.toUriEncodedString());q(kh,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:h}=new URL(l),d=Us(h);return this.Jo(t,l,u,i,d).then(p=>(q(kh,`Received RPC '${t}' ${a}: `,p),p),p=>{throw bs(kh,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Ho(t,n,i,r,s,a){return this.Go(t,n,i,r,s)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}zo(t,n){const i=vC[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce="WebChannelConnection";class AC extends EC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=Wf();return new Promise((l,u)=>{const h=new $0;h.setWithCredentials(!0),h.listenOnce(Z0.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ul.NO_ERROR:const p=h.getResponseJson();q(ce,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Ul.TIMEOUT:q(ce,`RPC '${t}' ${a} timed out`),u(new H(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:const m=h.getStatus();if(q(ce,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const N=_==null?void 0:_.error;if(N&&N.status&&N.message){const V=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(N.status);u(new H(V,N.message))}else u(new H(U.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new H(U.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{q(ce,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(r);q(ce,`RPC '${t}' ${a} sending request:`,r),h.send(n,"POST",d,i,15)})}T_(t,n,i){const r=Wf(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=tT(),l=W0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=s.join("");q(ce,`Creating RPC '${t}' stream ${r}: ${d}`,u);const p=a.createWebChannel(d,u);this.I_(p);let m=!1,_=!1;const N=new TC({Yo:k=>{_?q(ce,`Not sending because RPC '${t}' stream ${r} is closed:`,k):(m||(q(ce,`Opening RPC '${t}' stream ${r} transport.`),p.open(),m=!0),q(ce,`RPC '${t}' stream ${r} sending:`,k),p.send(k))},Zo:()=>p.close()}),V=(k,b,v)=>{k.listen(b,w=>{try{v(w)}catch(D){setTimeout(()=>{throw D},0)}})};return V(p,ga.EventType.OPEN,()=>{_||(q(ce,`RPC '${t}' stream ${r} transport opened.`),N.o_())}),V(p,ga.EventType.CLOSE,()=>{_||(_=!0,q(ce,`RPC '${t}' stream ${r} transport closed`),N.a_(),this.E_(p))}),V(p,ga.EventType.ERROR,k=>{_||(_=!0,bs(ce,`RPC '${t}' stream ${r} transport errored. Name:`,k.name,"Message:",k.message),N.a_(new H(U.UNAVAILABLE,"The operation could not be completed")))}),V(p,ga.EventType.MESSAGE,k=>{var b;if(!_){const v=k.data[0];ct(!!v,16349);const w=v,D=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(D){q(ce,`RPC '${t}' stream ${r} received error:`,D);const z=D.status;let L=function(A){const S=Lt[A];if(S!==void 0)return MT(S)}(z),E=D.message;L===void 0&&(L=U.INTERNAL,E="Unknown error status: "+z+" with message "+D.message),_=!0,N.a_(new H(L,E)),p.close()}else q(ce,`RPC '${t}' stream ${r} received:`,v),N.u_(v)}}),V(l,J0.STAT_EVENT,k=>{k.stat===Bf.PROXY?q(ce,`RPC '${t}' stream ${r} detected buffering proxy`):k.stat===Bf.NOPROXY&&q(ce,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(e){return new RI(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class YT{constructor(t,n,i,r,s,a,l,u){this.Mi=t,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{t(()=>{const r=new H(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return q(l_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(q(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SC extends YT{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=DI(this.serializer,t),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?fn(a.readTime):$.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=Zf(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Qf(u)?{documents:VI(s,u)}:{query:MI(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=PT(s,a.resumeToken);const h=Yf(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=Vu(s,a.snapshotVersion.toTimestamp());const h=Yf(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=kI(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=Zf(this.serializer),n.removeTarget=t,this.q_(n)}}class bC extends YT{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ct(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ct(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ct(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=OI(t.writeResults,t.commitTime),i=fn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=Zf(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>NI(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{}class RC extends wC{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(t,Xf(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(U.UNKNOWN,s.toString())})}Ho(t,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(t,Xf(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(U.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class IC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="RemoteStore";class CC{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{i.enqueueAndForget(async()=>{Rr(this)&&(q(yr,"Restarting streams for network reachability change."),await async function(u){const h=Z(u);h.Ea.add(4),await Mo(h),h.Ra.set("Unknown"),h.Ea.delete(4),await _c(h)}(this))})}),this.Ra=new IC(i,r)}}async function _c(e){if(Rr(e))for(const t of e.da)await t(!0)}async function Mo(e){for(const t of e.da)await t(!1)}function XT(e,t){const n=Z(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Cm(n)?Im(n):qs(n).O_()&&Rm(n,t))}function wm(e,t){const n=Z(e),i=qs(n);n.Ia.delete(t),i.O_()&&$T(n,t),n.Ia.size===0&&(i.O_()?i.L_():Rr(n)&&n.Ra.set("Unknown"))}function Rm(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qs(e).Y_(t)}function $T(e,t){e.Va.Ue(t),qs(e).Z_(t)}function Im(e){e.Va=new AI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),qs(e).start(),e.Ra.ua()}function Cm(e){return Rr(e)&&!qs(e).x_()&&e.Ia.size>0}function Rr(e){return Z(e).Ea.size===0}function ZT(e){e.Va=void 0}async function DC(e){e.Ra.set("Online")}async function NC(e){e.Ia.forEach((t,n)=>{Rm(e,t)})}async function OC(e,t){ZT(e),Cm(e)?(e.Ra.ha(t),Im(e)):e.Ra.set("Unknown")}async function VC(e,t,n){if(e.Ra.set("Online"),t instanceof kT&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(e,t)}catch(i){q(yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await xu(e,i)}else if(t instanceof Bl?e.Va.Ze(t):t instanceof xT?e.Va.st(t):e.Va.tt(t),!n.isEqual($.min()))try{const i=await QT(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(h);d&&s.Ia.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(se.EMPTY_BYTE_STRING,d.snapshotVersion)),$T(s,u);const p=new vi(d.target,u,h,d.sequenceNumber);Rm(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){q(yr,"Failed to raise snapshot:",i),await xu(e,i)}}async function xu(e,t,n){if(!Bs(t))throw t;e.Ea.add(1),await Mo(e),e.Ra.set("Offline"),n||(n=()=>QT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(yr,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await _c(e)})}function JT(e,t){return t().catch(n=>xu(e,n,t))}async function vc(e){const t=Z(e),n=Bi(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:hm;for(;MC(t);)try{const r=await mC(t.localStore,i);if(r===null){t.Ta.length===0&&n.L_();break}i=r.batchId,xC(t,r)}catch(r){await xu(t,r)}WT(t)&&tA(t)}function MC(e){return Rr(e)&&e.Ta.length<10}function xC(e,t){e.Ta.push(t);const n=Bi(e);n.O_()&&n.X_&&n.ea(t.mutations)}function WT(e){return Rr(e)&&!Bi(e).x_()&&e.Ta.length>0}function tA(e){Bi(e).start()}async function kC(e){Bi(e).ra()}async function PC(e){const t=Bi(e);for(const n of e.Ta)t.ea(n.mutations)}async function UC(e,t,n){const i=e.Ta.shift(),r=_m.from(i,t,n);await JT(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await vc(e)}async function LC(e,t){t&&Bi(e).X_&&await async function(i,r){if(function(a){return vI(a)&&a!==U.ABORTED}(r.code)){const s=i.Ta.shift();Bi(i).B_(),await JT(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await vc(i)}}(e,t),WT(e)&&tA(e)}async function u_(e,t){const n=Z(e);n.asyncQueue.verifyOperationInProgress(),q(yr,"RemoteStore received new credentials");const i=Rr(n);n.Ea.add(3),await Mo(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await _c(n)}async function zC(e,t){const n=Z(e);t?(n.Ea.delete(2),await _c(n)):t||(n.Ea.add(2),await Mo(n),n.Ra.set("Unknown"))}function qs(e){return e.ma||(e.ma=function(n,i,r){const s=Z(n);return s.sa(),new SC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:DC.bind(null,e),t_:NC.bind(null,e),r_:OC.bind(null,e),H_:VC.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Cm(e)?Im(e):e.Ra.set("Unknown")):(await e.ma.stop(),ZT(e))})),e.ma}function Bi(e){return e.fa||(e.fa=function(n,i,r){const s=Z(n);return s.sa(),new bC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:kC.bind(null,e),r_:LC.bind(null,e),ta:PC.bind(null,e),na:UC.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await vc(e)):(await e.fa.stop(),e.Ta.length>0&&(q(yr,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new Dm(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(e,t){if(Qn("AsyncQueue",`${t}: ${e}`),Bs(e))return new H(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{static emptySet(t){return new ls(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=pa(),this.sortedSet=new Nt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ls)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new ls;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.ga=new Nt(G.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Q(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ds{constructor(t,n,i,r,s,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ds(t,n,ls.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class BC{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=Z(n),s=r.queries;r.queries=h_(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new H(U.ABORTED,"Firestore shutting down"))}}function h_(){return new br(e=>ET(e),fc)}async function qC(e,t){const n=Z(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.ba()&&t.Da()&&(i=2):(s=new jC,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Nm(a,`Initialization of query '${Lr(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Om(n)}async function HC(e,t){const n=Z(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.Da()?0:1:!s.ba()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function GC(e,t){const n=Z(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(r)&&(i=!0);a.wa=r}}i&&Om(n)}function FC(e,t,n){const i=Z(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function Om(e){e.Ca.forEach(t=>{t.next()})}var td,f_;(f_=td||(td={})).Ma="default",f_.Cache="cache";class QC{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ds(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Ds.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t){this.key=t}}class nA{constructor(t){this.key=t}}class KC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=TT(t),this.tu=new ls(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new c_,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,p)=>{const m=r.get(d),_=dc(this.query,p)?p:null,N=!!m&&this.mutatedKeys.has(m.key),V=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;m&&_?m.data.isEqual(_.data)?N!==V&&(i.track({type:3,doc:_}),k=!0):this.su(m,_)||(i.track({type:2,doc:_}),k=!0,(u&&this.eu(_,u)>0||h&&this.eu(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),k=!0):m&&!_&&(i.track({type:1,doc:m}),k=!0,(u||h)&&(l=!0)),k&&(_?(a=a.add(_),s=V?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{tu:a,iu:i,Cs:l,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((d,p)=>function(_,N){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Rt:k})}};return V(_)-V(N)}(d.type,p.type)||this.eu(d.doc,p.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,h=u!==this.Za;return this.Za=u,a.length!==0||h?{snapshot:new Ds(this.query,t.tu,s,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=rt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new nA(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new eA(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=rt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Ds.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vm="SyncEngine";class YC{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class XC{constructor(t){this.key=t,this.hu=!1}}class $C{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new br(l=>ET(l),fc),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(G.comparator),this.Au=new Map,this.Ru=new Tm,this.Vu={},this.mu=new Map,this.fu=Cs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZC(e,t,n=!0){const i=lA(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await iA(i,t,n,!0),r}async function JC(e,t){const n=lA(e);await iA(n,t,!0,!1)}async function iA(e,t,n,i){const r=await gC(e.localStore,hn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await WC(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&XT(e.remoteStore,r),l}async function WC(e,t,n,i,r){e.pu=(p,m,_)=>async function(V,k,b,v){let w=k.view.ru(b);w.Cs&&(w=await r_(V.localStore,k.query,!1).then(({documents:E})=>k.view.ru(E,w)));const D=v&&v.targetChanges.get(k.targetId),z=v&&v.targetMismatches.get(k.targetId)!=null,L=k.view.applyChanges(w,V.isPrimaryClient,D,z);return m_(V,k.targetId,L.au),L.snapshot}(e,p,m,_);const s=await r_(e.localStore,t,!0),a=new KC(t,s.Qs),l=a.ru(s.documents),u=Vo.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),h=a.applyChanges(l,e.isPrimaryClient,u);m_(e,n,h.au);const d=new YC(t,n,a);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function tD(e,t,n){const i=Z(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!fc(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Jf(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&wm(i.remoteStore,r.targetId),ed(i,r.targetId)}).catch(js)):(ed(i,r.targetId),await Jf(i.localStore,r.targetId,!0))}async function eD(e,t){const n=Z(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),wm(n.remoteStore,i.targetId))}async function nD(e,t,n){const i=uD(e);try{const r=await function(a,l){const u=Z(a),h=At.now(),d=l.reduce((_,N)=>_.add(N.key),rt());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let N=Kn(),V=rt();return u.Ns.getEntries(_,d).next(k=>{N=k,N.forEach((b,v)=>{v.isValidDocument()||(V=V.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,N)).next(k=>{p=k;const b=[];for(const v of l){const w=mI(v,p.get(v.key).overlayedDocument);w!=null&&b.push(new wr(v.key,w,dT(w.value.mapValue),zn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,b,l)}).next(k=>{m=k;const b=k.applyToLocalDocumentSet(p,V);return u.documentOverlayCache.saveOverlays(_,k.batchId,b)})}).then(()=>({batchId:m.batchId,changes:ST(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let h=a.Vu[a.currentUser.toKey()];h||(h=new Nt(it)),h=h.insert(l,u),a.Vu[a.currentUser.toKey()]=h}(i,r.batchId,n),await xo(i,r.changes),await vc(i.remoteStore)}catch(r){const s=Nm(r,"Failed to persist write");n.reject(s)}}async function rA(e,t){const n=Z(e);try{const i=await fC(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?ct(a.hu,14607):r.removedDocuments.size>0&&(ct(a.hu,42227),a.hu=!1))}),await xo(n,i,t)}catch(i){await js(i)}}function d_(e,t,n){const i=Z(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=Z(a);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const m of p.Sa)m.va(l)&&(h=!0)}),h&&Om(u)}(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function iD(e,t,n){const i=Z(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let a=new Nt(G.comparator);a=a.insert(s,fe.newNoDocument(s,$.min()));const l=rt().add(s),u=new pc($.min(),new Map,new Nt(it),a,l);await rA(i,u),i.du=i.du.remove(s),i.Au.delete(t),Mm(i)}else await Jf(i.localStore,t,!1).then(()=>ed(i,t,n)).catch(js)}async function rD(e,t){const n=Z(e),i=t.batch.batchId;try{const r=await hC(n.localStore,t);aA(n,i,null),sA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xo(n,r)}catch(r){await js(r)}}async function sD(e,t,n){const i=Z(e);try{const r=await function(a,l){const u=Z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(ct(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);aA(i,t,n),sA(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await xo(i,r)}catch(r){await js(r)}}function sA(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function aA(e,t,n){const i=Z(e);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function ed(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||oA(e,i)})}function oA(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(wm(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Mm(e))}function m_(e,t,n){for(const i of n)i instanceof eA?(e.Ru.addReference(i.key,t),aD(e,i)):i instanceof nA?(q(Vm,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||oA(e,i.key)):Q(19791,{wu:i})}function aD(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(q(Vm,"New document in limbo: "+n),e.Eu.add(i),Mm(e))}function Mm(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new G(Dt.fromString(t)),i=e.fu.next();e.Au.set(i,new XC(n)),e.du=e.du.insert(n,i),XT(e.remoteStore,new vi(hn(pm(n.path)),i,"TargetPurposeLimboResolution",lc.ce))}}async function xo(e,t,n){const i=Z(e),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){r.push(h);const p=Sm.As(u.targetId,h);s.push(p)}}))}),await Promise.all(a),i.Pu.H_(r),await async function(u,h){const d=Z(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(h,m=>x.forEach(m.Es,_=>d.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>x.forEach(m.ds,_=>d.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!Bs(p))throw p;q(bm,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const _=d.Ms.get(m),N=_.snapshotVersion,V=_.withLastLimboFreeSnapshotVersion(N);d.Ms=d.Ms.insert(m,V)}}}(i.localStore,s))}async function oD(e,t){const n=Z(e);if(!n.currentUser.isEqual(t)){q(Vm,"User change. New user:",t.toKey());const i=await FT(n.localStore,t);n.currentUser=t,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new H(U.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await xo(n,i.Ls)}}function lD(e,t){const n=Z(e),i=n.Au.get(t);if(i&&i.hu)return rt().add(i.key);{let r=rt();const s=n.Iu.get(t);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function lA(e){const t=Z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iD.bind(null,t),t.Pu.H_=GC.bind(null,t.eventManager),t.Pu.yu=FC.bind(null,t.eventManager),t}function uD(e){const t=Z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sD.bind(null,t),t}class ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return cC(this.persistence,new oC,t.initialUser,this.serializer)}Cu(t){return new GT(Am.mi,this.serializer)}Du(t){return new yC}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ku.provider={build:()=>new ku};class cD extends ku{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ct(this.persistence.referenceDelegate instanceof Mu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QI(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?we.withCacheSize(this.cacheSizeBytes):we.DEFAULT;return new GT(i=>Mu.mi(i,n),this.serializer)}}class nd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>d_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oD.bind(null,this.syncEngine),await zC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new BC}()}createDatastore(t){const n=yc(t.databaseInfo.databaseId),i=function(s){return new AC(s)}(t.databaseInfo);return function(s,a,l,u){return new RC(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new CC(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>d_(this.syncEngine,n,0),function(){return o_.v()?new o_:new _C}())}createSyncEngine(t,n){return function(r,s,a,l,u,h,d){const p=new $C(r,s,a,l,u,h);return d&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=Z(r);q(yr,"RemoteStore shutting down."),s.Ea.add(5),await Mo(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}nd.provider={build:()=>new nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="FirestoreClient";class fD{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=he.UNAUTHENTICATED,this.clientId=um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{q(qi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q(qi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Nm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Uh(e,t){e.asyncQueue.verifyOperationInProgress(),q(qi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await FT(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function g_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await dD(e);q(qi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>u_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>u_(t.remoteStore,r)),e._onlineComponents=t}async function dD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(qi,"Using user provided OfflineComponentProvider");try{await Uh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===U.FAILED_PRECONDITION||r.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),await Uh(e,new ku)}}else q(qi,"Using default OfflineComponentProvider"),await Uh(e,new cD(void 0));return e._offlineComponents}async function uA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(qi,"Using user provided OnlineComponentProvider"),await g_(e,e._uninitializedComponentsProvider._online)):(q(qi,"Using default OnlineComponentProvider"),await g_(e,new nd))),e._onlineComponents}function mD(e){return uA(e).then(t=>t.syncEngine)}async function gD(e){const t=await uA(e),n=t.eventManager;return n.onListen=ZC.bind(null,t.syncEngine),n.onUnlisten=tD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=JC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eD.bind(null,t.syncEngine),n}function pD(e,t,n={}){const i=new Vi;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,h){const d=new hD({next:m=>{d.Nu(),a.enqueueAndForget(()=>HC(s,p));const _=m.docs.has(l);!_&&m.fromCache?h.reject(new H(U.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?h.reject(new H(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new QC(pm(l.path),d,{includeMetadataChanges:!0,qa:!0});return qC(s,p)}(await gD(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firestore.googleapis.com",y_=!0;class __{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new H(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hA,this.ssl=y_}else this.host=t.host,this.ssl=t.ssl??y_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=HT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GI)throw new H(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}I2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cA(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xm{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new p2;switch(i.type){case"firstParty":return new E2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=p_.get(n);i&&(q("ComponentProvider","Removing Datastore"),p_.delete(n),i.terminate())}(this),Promise.resolve()}}function yD(e,t,n,i={}){var h;e=no(e,xm);const r=Us(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;r&&(B0(`https://${l}`),q0("Firestore",!0)),s.host!==hA&&s.host!==l&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!mr(u,a)&&(e._setSettings(u),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=he.MOCK_USER;else{d=Bw(i.mockUserToken,(h=e._app)==null?void 0:h.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new H(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new he(m)}e._authCredentials=new y2(new nT(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new km(this.firestore,t,this._query)}}class Zt{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zt(this.firestore,t,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(No(n,Zt._jsonSchema))return new Zt(t,i||null,new G(Dt.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:jt("string",Zt._jsonSchemaVersion),referencePath:jt("string")};class uo extends km{constructor(t,n,i){super(t,n,pm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zt(this.firestore,null,new G(t))}withConverter(t){return new uo(this.firestore,t,this._path)}}function fA(e,t,...n){if(e=yn(e),arguments.length===1&&(t=um.newId()),R2("doc","path",t),e instanceof xm){const i=Dt.fromString(t,...n);return Vy(i),new Zt(e,null,new G(i))}{if(!(e instanceof Zt||e instanceof uo))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Dt.fromString(t,...n));return Vy(i),new Zt(e.firestore,e instanceof uo?e.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="AsyncQueue";class E_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KT(this,"async_queue_retry"),this._c=()=>{const i=Ph();i&&q(v_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Vi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Bs(t))throw t;q(v_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Qn("INTERNAL UNHANDLED ERROR: ",T_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=Dm.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Q(47125,{Pc:T_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function T_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Pm extends xm{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new E_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new E_(t),this._firestoreClient=void 0,await t}}}function _D(e,t){const n=typeof e=="object"?e:Q0(),i=typeof e=="string"?e:Ru,r=om(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=zw("firestore");s&&yD(r,...s)}return r}function dA(e){if(e._terminated)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||vD(e),e._firestoreClient}function vD(e){var i,r,s;const t=e._freezeSettings(),n=function(l,u,h,d){return new L2(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(r=t.localCache)!=null&&r._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new fD(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fe(se.fromBase64String(t))}catch(n){throw new H(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fe(se.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fe._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(No(t,Fe._jsonSchema))return Fe.fromBase64String(t.bytes)}}Fe._jsonSchemaVersion="firestore/bytes/1.0",Fe._jsonSchema={type:jt("string",Fe._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return it(this._lat,t._lat)||it(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dn._jsonSchemaVersion}}static fromJSON(t){if(No(t,dn._jsonSchema))return new dn(t.latitude,t.longitude)}}dn._jsonSchemaVersion="firestore/geoPoint/1.0",dn._jsonSchema={type:jt("string",dn._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:mn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(No(t,mn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new mn(t.vectorValues);throw new H(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mn._jsonSchemaVersion="firestore/vectorValue/1.0",mn._jsonSchema={type:jt("string",mn._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/^__.*__$/;class TD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new wr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Oo(t,this.data,n,this.fieldTransforms)}}function gA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ac:e})}}class Lm{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Lm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Pu(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(gA(this.Ac)&&ED.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class AD{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||yc(t)}Cc(t,n,i,r=!1){return new Lm({Ac:t,methodName:n,Dc:i,path:ie.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SD(e){const t=e._freezeSettings(),n=yc(e._databaseId);return new AD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bD(e,t,n,i,r,s={}){const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,r);vA("Data must be an object, but it was:",a,i);const l=yA(i,a);let u,h;if(s.merge)u=new Je(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=wD(t,p,n);if(!a.contains(m))throw new H(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ID(d,m)||d.push(m)}u=new Je(d),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new TD(new Ge(l),u,h)}function pA(e,t){if(_A(e=yn(e)))return vA("Unsupported field value:",t,e),yA(e,t);if(e instanceof mA)return function(i,r){if(!gA(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=pA(l,r.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=yn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return lI(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=At.fromDate(i);return{timestampValue:Vu(r.serializer,s)}}if(i instanceof At){const s=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vu(r.serializer,s)}}if(i instanceof dn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fe)return{bytesValue:PT(r.serializer,i._byteString)};if(i instanceof Zt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Em(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof mn)return function(a,l){return{mapValue:{fields:{[hT]:{stringValue:fT},[Iu]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return ym(l.serializer,h)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${cm(i)}`)}(e,t)}function yA(e,t){const n={};return sT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sr(e,(i,r)=>{const s=pA(r,t.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function _A(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof At||e instanceof dn||e instanceof Fe||e instanceof Zt||e instanceof mA||e instanceof mn)}function vA(e,t,n){if(!_A(n)||!iT(n)){const i=cm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function wD(e,t,n){if((t=yn(t))instanceof Um)return t._internalPath;if(typeof t=="string")return EA(e,t);throw Pu("Field path arguments must be of type string or ",e,!1,void 0,n)}const RD=new RegExp("[~\\*/\\[\\]]");function EA(e,t,n){if(t.search(RD)>=0)throw Pu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Um(...t.split("."))._internalPath}catch{throw Pu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Pu(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new H(U.INVALID_ARGUMENT,l+e+u)}function ID(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(AA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CD extends TA{data(){return super.data()}}function AA(e,t){return typeof t=="string"?EA(e,t):t instanceof Um?t._internalPath:t._delegate._internalPath}class DD{convertValue(t,n="none"){switch(ji(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(zi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Q(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Sr(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var i,r,s;const n=(s=(r=(i=t.fields)==null?void 0:i[Iu].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Ut(a.doubleValue));return new mn(n)}convertGeoPoint(t){return new dn(Ut(t.latitude),Ut(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=cc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ro(t));default:return null}}convertTimestamp(t){const n=Li(t);return new At(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Dt.fromString(t);ct(qT(i),9688,{name:t});const r=new so(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||Qn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class _a{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ur extends TA{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(AA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ur._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:jt("string",ur._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class ql extends ur{data(t={}){return super.data(t)}}class za{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new _a(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new ql(this._firestore,this._userDataWriter,i.key,i,new _a(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new ql(r._firestore,r._userDataWriter,l.doc.key,l.doc,new _a(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new ql(r._firestore,r._userDataWriter,l.doc.key,l.doc,new _a(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:OD(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function OD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(e){e=no(e,Zt);const t=no(e.firestore,Pm);return pD(dA(t),e._key).then(n=>PD(t,e,n))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:jt("string",za._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class MD extends DD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fe(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function xD(e,t,n){e=no(e,Zt);const i=no(e.firestore,Pm),r=ND(e.converter,t,n);return kD(i,[bD(SD(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,zn.none())])}function kD(e,t){return function(i,r){const s=new Vi;return i.asyncQueue.enqueueAndForget(async()=>nD(await mD(i),r,s)),s.promise}(dA(e),t)}function PD(e,t,n){const i=n.docs.get(t._key),r=new MD(e);return new ur(e,r,t._key,i,new _a(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(r){zs=r})(Ls),Ss(new gr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Pm(new _2(i.getProvider("auth-internal")),new T2(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new H(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(h.options.projectId,d)}(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ni(Cy,Dy,t),Ni(Cy,Dy,"esm2020")})();function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UD=SA,bA=new Co("auth","Firebase",SA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new sm("@firebase/auth");function LD(e,...t){Uu.logLevel<=nt.WARN&&Uu.warn(`Auth (${Ls}): ${e}`,...t)}function Hl(e,...t){Uu.logLevel<=nt.ERROR&&Uu.error(`Auth (${Ls}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(e,...t){throw zm(e,...t)}function gn(e,...t){return zm(e,...t)}function wA(e,t,n){const i={...UD(),[t]:n};return new Co("auth","Firebase",i).create(t,{appName:e.name})}function Mi(e){return wA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return bA.create(e,...t)}function Y(e,t,...n){if(!e)throw zm(t,...n)}function kn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hl(t),new Error(t)}function Xn(e,t){e||kn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function zD(){return A_()==="http:"||A_()==="https:"}function A_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zD()||Kw()||"connection"in navigator)?navigator.onLine:!0}function BD(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xn(n>t,"Short delay should be less than long delay!"),this.isMobile=Gw()||Yw()}get(){return jD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(e,t){Xn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GD=new ko(3e4,6e4);function Ec(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Hs(e,t,n,i,r={}){return IA(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=Do({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...s};return Qw()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Us(e.emulatorConfig.host)&&(h.credentials="include"),RA.fetch()(await DA(e,e.config.apiHost,n,l),h)})}async function IA(e,t,n){e._canInitEmulator=!1;const i={...qD,...t};try{const r=new FD(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Sl(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sl(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Sl(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Sl(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw wA(e,d,h);Yn(e,d)}}catch(r){if(r instanceof Zn)throw r;Yn(e,"network-request-failed",{message:String(r)})}}async function CA(e,t,n,i,r={}){const s=await Hs(e,t,n,i,r);return"mfaPendingCredential"in s&&Yn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function DA(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?jm(e.config,r):`${e.config.apiScheme}://${r}`;return HD.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class FD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(gn(this.auth,"network-request-failed")),GD.get())})}}function Sl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=gn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(e,t){return Hs(e,"POST","/v1/accounts:delete",t)}async function Lu(e,t){return Hs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KD(e,t=!1){const n=yn(e),i=await n.getIdToken(t),r=Bm(i);Y(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ja(Lh(r.auth_time)),issuedAtTime:ja(Lh(r.iat)),expirationTime:ja(Lh(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lh(e){return Number(e)*1e3}function Bm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Hl("JWT malformed, contained fewer than 3 sections"),null;try{const r=U0(n);return r?JSON.parse(r):(Hl("Failed to decode base64 JWT payload"),null)}catch(r){return Hl("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function S_(e){const t=Bm(e);return Y(t,"internal-error"),Y(typeof t.exp<"u","internal-error"),Y(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Zn&&YD(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function YD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(e){var p;const t=e.auth,n=await e.getIdToken(),i=await co(e,Lu(t,{idToken:n}));Y(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=(p=r.providerUserInfo)!=null&&p.length?NA(r.providerUserInfo):[],a=ZD(e.providerData,s),l=e.isAnonymous,u=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new rd(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function $D(e){const t=yn(e);await zu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZD(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function NA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(e,t){const n=await IA(e,{},async()=>{const i=Do({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await DA(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Us(e.emulatorConfig.host)&&(u.credentials="include"),RA.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WD(e,t){return Hs(e,"POST","/v2/accounts:revokeToken",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Y(t.idToken,"internal-error"),Y(typeof t.idToken<"u","internal-error"),Y(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):S_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Y(t.length!==0,"internal-error");const n=S_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await JD(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new us;return i&&(Y(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(Y(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(Y(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new us,this.toJSON())}_performRefresh(){return kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(e,t){Y(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class We{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new XD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new rd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await co(this,this.stsTokenManager.getToken(this.auth,t));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return KD(this,t)}reload(){return $D(this)}_assign(t){this!==t&&(Y(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new We({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await zu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ze(this.auth.app))return Promise.reject(Mi(this.auth));const t=await this.getIdToken();return await co(this,QD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:_,providerData:N,stsTokenManager:V}=n;Y(p&&V,t,"internal-error");const k=us.fromJSON(this.name,V);Y(typeof p=="string",t,"internal-error"),ii(i,t.name),ii(r,t.name),Y(typeof m=="boolean",t,"internal-error"),Y(typeof _=="boolean",t,"internal-error"),ii(s,t.name),ii(a,t.name),ii(l,t.name),ii(u,t.name),ii(h,t.name),ii(d,t.name);const b=new We({uid:p,auth:t,email:r,emailVerified:m,displayName:i,isAnonymous:_,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:k,createdAt:h,lastLoginAt:d});return N&&Array.isArray(N)&&(b.providerData=N.map(v=>({...v}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(t,n,i=!1){const r=new us;r.updateFromServerResponse(n);const s=new We({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await zu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];Y(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?NA(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new us;l.updateFromIdToken(i);const u=new We({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new rd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;function Pn(e){Xn(e instanceof Function,"Expected a class definition");let t=b_.get(e);return t?(Xn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,b_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}OA.type="NONE";const w_=OA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(e,t,n){return`firebase:${e}:${t}:${n}`}class cs{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Gl(this.userKey,r.apiKey,s),this.fullPersistenceKey=Gl("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Lu(this.auth,{idToken:t}).catch(()=>{});return n?We._fromGetAccountInfoResponse(this.auth,n,t):null}return We._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new cs(Pn(w_),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||Pn(w_);const a=Gl(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let p;if(typeof d=="string"){const m=await Lu(t,{idToken:d}).catch(()=>{});if(!m)break;p=await We._fromGetAccountInfoResponse(t,m,d)}else p=We._fromJSON(t,d);h!==s&&(l=p),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new cs(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new cs(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UA(t))return"Blackberry";if(LA(t))return"Webos";if(MA(t))return"Safari";if((t.includes("chrome/")||xA(t))&&!t.includes("edge/"))return"Chrome";if(PA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function VA(e=ge()){return/firefox\//i.test(e)}function MA(e=ge()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xA(e=ge()){return/crios\//i.test(e)}function kA(e=ge()){return/iemobile/i.test(e)}function PA(e=ge()){return/android/i.test(e)}function UA(e=ge()){return/blackberry/i.test(e)}function LA(e=ge()){return/webos/i.test(e)}function qm(e=ge()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tN(e=ge()){var t;return qm(e)&&!!((t=window.navigator)!=null&&t.standalone)}function eN(){return Xw()&&document.documentMode===10}function zA(e=ge()){return qm(e)||PA(e)||LA(e)||UA(e)||/windows phone/i.test(e)||kA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(e,t=[]){let n;switch(e){case"Browser":n=R_(ge());break;case"Worker":n=`${R_(ge())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ls}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(e,t={}){return Hs(e,"GET","/v2/passwordPolicy",Ec(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=6;class sN{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new nN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await cs.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Lu(this,{idToken:t}),i=await We._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Ze(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ze(this.app))return Promise.reject(Mi(this));const n=t?yn(t):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Y(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ze(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ze(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await iN(this),n=new sN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Co("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await WD(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Pn(t)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await cs.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(Ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&LD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Tc(e){return yn(e)}class I_{constructor(t){this.auth=t,this.observer=null,this.addObserver=iR(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(e){Hm=e}function lN(e){return Hm.loadJS(e)}function uN(){return Hm.gapiScript}function cN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(e,t){const n=om(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(mr(s,t??{}))return r;Yn(r,"already-initialized")}return n.initialize({options:t})}function fN(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Pn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function dN(e,t,n){const i=Tc(e);Y(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=BA(t),{host:a,port:l}=mN(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Y(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Y(mr(h,i.config.emulator)&&mr(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Us(a)?(B0(`${s}//${a}${u}`),q0("Auth",!0)):gN()}function BA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function mN(e){const t=BA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:C_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:C_(a)}}}function C_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function gN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return kn("not implemented")}_getIdTokenResponse(t){return kn("not implemented")}_linkToIdToken(t,n){return kn("not implemented")}_getReauthenticationResolver(t){return kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(e,t){return CA(e,"POST","/v1/accounts:signInWithIdp",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="http://localhost";class _r extends qA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new _r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new _r(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return hs(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,hs(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,hs(t,n)}buildRequest(){const t={requestUri:pN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Do(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends HA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Po{constructor(){super("facebook.com")}static credential(t){return _r._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return _r._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return fi.credential(n,i)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Po{constructor(){super("github.com")}static credential(t){return _r._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return di.credential(t.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Po{constructor(){super("twitter.com")}static credential(t,n){return _r._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return mi.credential(n,i)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(e,t){return CA(e,"POST","/v1/accounts:signUp",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await We._fromIdTokenResponse(t,i,r),a=D_(i);return new Hi({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=D_(i);return new Hi({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function D_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(e){var r;if(Ze(e.app))return Promise.reject(Mi(e));const t=Tc(e);if(await t._initializationPromise,(r=t.currentUser)!=null&&r.isAnonymous)return new Hi({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await yN(t,{returnSecureToken:!0}),i=await Hi._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Zn{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ju.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new ju(t,n,i,r)}}function GA(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ju._fromErrorAndOperation(e,s,t,i):s})}async function vN(e,t,n=!1){const i=await co(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Hi._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(e,t,n=!1){const{auth:i}=e;if(Ze(i.app))return Promise.reject(Mi(i));const r="reauthenticate";try{const s=await co(e,GA(i,r,t,e),n);Y(s.idToken,i,"internal-error");const a=Bm(s.idToken);Y(a,i,"internal-error");const{sub:l}=a;return Y(e.uid===l,i,"user-mismatch"),Hi._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(e,t,n=!1){if(Ze(e.app))return Promise.reject(Mi(e));const i="signIn",r=await GA(e,i,t),s=await Hi._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function AN(e,t,n,i){return yn(e).onIdTokenChanged(t,n,i)}function SN(e,t,n){return yn(e).beforeAuthStateChanged(t,n)}const Bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bu,"1"),this.storage.removeItem(Bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1e3,wN=10;class QA extends FA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);eN()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,wN):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}QA.type="LOCAL";const RN=QA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends FA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}KA.type="SESSION";const YA=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Ac(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await IN(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Gm("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return window}function DN(e){pn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function NN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ON(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function VN(){return XA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebaseLocalStorageDb",MN=1,qu="firebaseLocalStorage",ZA="fbase_key";class Uo{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sc(e,t){return e.transaction([qu],t?"readwrite":"readonly").objectStore(qu)}function xN(){const e=indexedDB.deleteDatabase($A);return new Uo(e).toPromise()}function sd(){const e=indexedDB.open($A,MN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(qu,{keyPath:ZA})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(qu)?t(i):(i.close(),await xN(),t(await sd()))})})}async function N_(e,t,n){const i=Sc(e,!0).put({[ZA]:t,value:n});return new Uo(i).toPromise()}async function kN(e,t){const n=Sc(e,!1).get(t),i=await new Uo(n).toPromise();return i===void 0?null:i.value}function O_(e,t){const n=Sc(e,!0).delete(t);return new Uo(n).toPromise()}const PN=800,UN=3;class JA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>UN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(VN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await NN(),!this.activeServiceWorker)return;this.sender=new CN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ON()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sd();return await N_(t,Bu,"1"),await O_(t,Bu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>N_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>kN(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>O_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Sc(r,!1).getAll();return new Uo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JA.type="LOCAL";const LN=JA;new ko(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(e,t){return t?Pn(t):(Y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends qA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return hs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return hs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return hs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function jN(e){return TN(e.auth,new Fm(e),e.bypassAuthState)}function BN(e){const{auth:t,user:n}=e;return Y(n,t,"internal-error"),EN(n,new Fm(e),e.bypassAuthState)}async function qN(e){const{auth:t,user:n}=e;return Y(n,t,"internal-error"),vN(n,new Fm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return jN;case"linkViaPopup":case"linkViaRedirect":return qN;case"reauthViaPopup":case"reauthViaRedirect":return BN;default:Yn(this.auth,"internal-error")}}resolve(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new ko(2e3,1e4);class Wr extends WA{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Y(t,this.auth,"internal-error"),t}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const t=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,HN.get())};t()}}Wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="pendingRedirect",Fl=new Map;class FN extends WA{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Fl.get(this.auth._key());if(!t){try{const i=await QN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Fl.set(this.auth._key(),t)}return this.bypassAuthState||Fl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QN(e,t){const n=XN(t),i=YN(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function KN(e,t){Fl.set(e._key(),t)}function YN(e){return Pn(e._redirectPersistence)}function XN(e){return Gl(GN,e.config.apiKey,e.name)}async function $N(e,t,n=!1){if(Ze(e.app))return Promise.reject(Mi(e));const i=Tc(e),r=zN(i,t),a=await new FN(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=10*60*1e3;class JN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!WN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!t1(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(gn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZN&&this.cachedEventUids.clear(),this.cachedEventUids.has(V_(t))}saveEventToCache(t){this.cachedEventUids.add(V_(t)),this.lastProcessedEventTime=Date.now()}}function V_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function t1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function WN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(e,t={}){return Hs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n4=/^https?/;async function i4(e){if(e.config.emulator)return;const{authorizedDomains:t}=await t4(e);for(const n of t)try{if(r4(n))return}catch{}Yn(e,"unauthorized-domain")}function r4(e){const t=id(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!n4.test(n))return!1;if(e4.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new ko(3e4,6e4);function M_(){const e=pn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function a4(e){return new Promise((t,n)=>{var r,s,a;function i(){M_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{M_(),n(gn(e,"network-request-failed"))},timeout:s4.get()})}if((s=(r=pn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=pn().gapi)!=null&&a.load)i();else{const l=cN("iframefcb");return pn()[l]=()=>{gapi.load?i():n(gn(e,"network-request-failed"))},lN(`${uN()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Ql=null,t})}let Ql=null;function o4(e){return Ql=Ql||a4(e),Ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new ko(5e3,15e3),u4="__/auth/iframe",c4="emulator/auth/iframe",h4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d4(e){const t=e.config;Y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?jm(t,c4):`https://${e.config.authDomain}/${u4}`,i={apiKey:t.apiKey,appName:e.name,v:Ls},r=f4.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Do(i).slice(1)}`}async function m4(e){const t=await o4(e),n=pn().gapi;return Y(n,e,"internal-error"),t.open({where:document.body,url:d4(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:h4,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=gn(e,"network-request-failed"),l=pn().setTimeout(()=>{s(a)},l4.get());function u(){pn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p4=500,y4=600,_4="_blank",v4="http://localhost";class x_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E4(e,t,n,i=p4,r=y4){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...g4,width:i.toString(),height:r.toString(),top:s,left:a},h=ge().toLowerCase();n&&(l=xA(h)?_4:n),VA(h)&&(t=t||v4,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,N])=>`${m}${_}=${N},`,"");if(tN(h)&&l!=="_self")return T4(t||"",l),new x_(null);const p=window.open(t||"",l,d);Y(p,e,"popup-blocked");try{p.focus()}catch{}return new x_(p)}function T4(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="__/auth/handler",S4="emulator/auth/handler",b4=encodeURIComponent("fac");async function k_(e,t,n,i,r,s){Y(e.config.authDomain,e,"auth-domain-config-required"),Y(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ls,eventId:r};if(t instanceof HA){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",nR(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(t instanceof Po){const d=t.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${b4}=${encodeURIComponent(u)}`:"";return`${w4(e)}?${Do(l).slice(1)}${h}`}function w4({config:e}){return e.emulator?jm(e,S4):`https://${e.authDomain}/${A4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="webStorageSupport";class R4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YA,this._completeRedirectFn=$N,this._overrideRedirectResult=KN}async _openPopup(t,n,i,r){var a;Xn((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await k_(t,n,i,id(),r);return E4(t,s,Gm())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await k_(t,n,i,id(),r);return DN(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Xn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await m4(t),i=new JN(t);return n.register("authEvent",r=>(Y(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zh,{type:zh},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[zh];s!==void 0&&n(!!s),Yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return zA()||MA()||qm()}}const I4=R4;var P_="@firebase/auth",U_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N4(e){Ss(new gr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jA(e)},h=new aN(i,r,s,u);return fN(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ss(new gr("auth-internal",t=>{const n=Tc(t.getProvider("auth").getImmediate());return(i=>new C4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(P_,U_,D4(e)),Ni(P_,U_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=5*60,V4=j0("authIdTokenMaxAge")||O4;let L_=null;const M4=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>V4)return;const r=n==null?void 0:n.token;L_!==r&&(L_=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function x4(e=Q0()){const t=om(e,"auth");if(t.isInitialized())return t.getImmediate();const n=hN(e,{popupRedirectResolver:I4,persistence:[LN,RN,YA]}),i=j0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=M4(s.toString());SN(n,a,()=>a(n.currentUser)),AN(n,l=>a(l))}}const r=L0("auth");return r&&dN(n,`http://${r}`),n}function k4(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}oN({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=gn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",k4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N4("Browser");const P4={apiKey:"AIzaSyDfDGFXGFGkzmgYFAHI1q6AZiLy7esuPrw",authDomain:"tenebris-verbum.firebaseapp.com",projectId:"tenebris-verbum",storageBucket:"tenebris-verbum.firebasestorage.app",messagingSenderId:"637080257821",appId:"1:637080257821:web:7f7440e0bcef2ce7178df4"},e1=F0(P4),n1=_D(e1),U4=x4(e1),L4=({className:e=""})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`opacity-50 ${e}`,children:M.jsx("path",{d:"m9 18 6-6-6-6"})}),z4=({className:e=""})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[M.jsx("circle",{cx:"12",cy:"12",r:"4"}),M.jsx("path",{d:"M12 2v2"}),M.jsx("path",{d:"M12 20v2"}),M.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),M.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),M.jsx("path",{d:"M2 12h2"}),M.jsx("path",{d:"M20 12h2"}),M.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),M.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),j4=({className:e=""})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:M.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),B4=({className:e=""})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[M.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),M.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),q4=({className:e=""})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[M.jsx("path",{d:"M19 12H5"}),M.jsx("polyline",{points:"12 19 5 12 12 5"})]}),H4=({className:e=""})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 ${e}`,children:[M.jsx("circle",{cx:"11",cy:"11",r:"8"}),M.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),G4=({className:e=""})=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`opacity-50 ${e}`,children:[M.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),M.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),F4=({className:e=""})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:M.jsx("path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"})}),Q4=({className:e=""})=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:M.jsx("path",{d:"M19.5 12.572a4.5 4.5 0 0 0-6.43-6.234l-.07.064-.07-.064a4.5 4.5 0 0 0-6.43 6.234l6.5 6.235 6.5-6.235z"})}),K4=({theme:e})=>{const t=jn[e];return M.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center ${t.bg}`,children:[M.jsx(Q4,{className:"animate-pulse-heart text-pink-400"}),M.jsx("p",{className:`mt-4 text-lg ${t.text} opacity-70`,children:"Загрузка новелл..."})]})},jn={light:{bg:"bg-stone-100",text:"text-stone-800",componentBg:"bg-white",componentText:"text-stone-700",border:"border-stone-200",searchBg:"bg-white",searchPlaceholder:"placeholder-stone-400",searchRing:"focus:ring-pink-400",tgBg:"#F5F5F0",tgHeader:"#FFFFFF"},dark:{bg:"bg-gray-900",text:"text-gray-100",componentBg:"bg-gray-800",componentText:"text-gray-200",border:"border-gray-700",searchBg:"bg-gray-800",searchPlaceholder:"placeholder-gray-500",searchRing:"focus:ring-pink-500",tgBg:"#121212",tgHeader:"#171717"}},Y4=({onClose:e,onSelectPlan:t,theme:n})=>{const i=jn[n],r=[{duration:1,name:"1 месяц",price:199},{duration:3,name:"3 месяца",price:539,popular:!0},{duration:12,name:"1 год",price:1899}];return M.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:M.jsxs("div",{className:`w-full max-w-sm rounded-2xl p-6 shadow-lg ${i.componentBg} ${i.text}`,children:[M.jsx(F4,{className:"mx-auto mb-4 text-pink-400"}),M.jsx("h3",{className:"text-xl text-center font-bold",children:"Получите доступ ко всем главам"}),M.jsx("p",{className:"mt-2 mb-6 text-sm text-center opacity-70",children:"Выберите подходящий тариф подписки:"}),M.jsx("div",{className:"space-y-3",children:r.map(s=>M.jsxs("button",{onClick:()=>t(s),className:`relative w-full text-left p-4 rounded-xl border-2 transition-colors duration-200 ${i.border} ${i.componentBg} hover:border-pink-400`,children:[s.popular&&M.jsx("span",{className:"absolute top-2 right-2 text-xs bg-pink-500 text-white px-2 py-0.5 rounded-full",children:"Популярный"}),M.jsx("p",{className:"font-bold",children:s.name}),M.jsxs("p",{className:"text-sm",children:[s.price," ₽"]})]},s.duration))}),M.jsx("button",{onClick:e,className:`w-full py-3 mt-4 rounded-lg border ${i.border}`,children:"Не сейчас"})]})})},X4=({onClose:e,onSelectMethod:t,theme:n,plan:i})=>{const r=jn[n];return M.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:M.jsxs("div",{className:`w-full max-w-sm rounded-2xl p-6 shadow-lg ${r.componentBg} ${r.text}`,children:[M.jsx("h3",{className:"text-xl text-center font-bold",children:"Выберите способ оплаты"}),M.jsxs("p",{className:"mt-2 mb-6 text-sm text-center opacity-70",children:["Тариф: ",i.name," (",i.price," ₽)"]}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("button",{onClick:()=>t("card"),className:`w-full text-left p-4 rounded-xl border-2 transition-colors duration-200 ${r.border} ${r.componentBg} hover:border-pink-400`,children:[M.jsx("p",{className:"font-bold",children:"💳 Банковской картой"}),M.jsx("p",{className:"text-sm opacity-70",children:"Ручная проверка (до 24 часов)"})]}),M.jsxs("button",{onClick:()=>t("tribut"),className:`w-full text-left p-4 rounded-xl border-2 transition-colors duration-200 ${r.border} ${r.componentBg} hover:border-pink-400`,children:[M.jsx("p",{className:"font-bold",children:"❤️ Донат через tribut"}),M.jsx("p",{className:"text-sm opacity-70",children:"Более быстрый способ"})]})]}),M.jsx("button",{onClick:e,className:`w-full py-3 mt-4 rounded-lg border ${r.border}`,children:"Назад"})]})})},$4=({onBack:e,onHome:t})=>{const[n,i]=ft.useState(!1);return M.jsxs("div",{className:"fixed bottom-4 right-4 z-20",children:[n&&M.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[M.jsx("button",{onClick:e,className:"w-14 h-14 rounded-full bg-white/80 dark:bg-gray-700/80 backdrop-blur-md shadow-lg flex items-center justify-center text-stone-700 dark:text-gray-200",children:M.jsx(q4,{})}),M.jsx("button",{onClick:t,className:"w-14 h-14 rounded-full bg-white/80 dark:bg-gray-700/80 backdrop-blur-md shadow-lg flex items-center justify-center text-stone-700 dark:text-gray-200",children:M.jsx(B4,{})})]}),M.jsx("button",{onClick:()=>i(!n),className:"w-16 h-16 rounded-full bg-pink-500 text-white shadow-lg flex items-center justify-center transform transition-transform duration-300 hover:scale-110",children:M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-300 ${n?"rotate-45":"rotate-0"}`,children:[M.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),M.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})]})},Z4=({novels:e,onSelectNovel:t,theme:n,setTheme:i,genreFilter:r,onClearGenreFilter:s})=>{const[a,l]=ft.useState(""),u=jn[n],h=ft.useMemo(()=>e.filter(d=>(!r||d.genres.includes(r))&&d.title.toLowerCase().includes(a.toLowerCase())),[e,a,r]);return!e.length&&!a?M.jsx("div",{className:`p-4 text-center ${u.text}`,children:"Загрузка библиотеки..."}):M.jsxs("div",{className:`p-4 ${u.text}`,children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h1",{className:"text-3xl font-bold",children:"Библиотека"}),M.jsx("button",{onClick:()=>i(n==="dark"?"light":"dark"),className:`p-2 rounded-full ${u.componentBg} ${u.border} border`,children:n==="dark"?M.jsx(z4,{}):M.jsx(j4,{})})]}),r&&M.jsxs("div",{className:`flex items-center justify-between p-3 mb-4 rounded-lg border ${u.border} ${u.componentBg}`,children:[M.jsxs("p",{className:"text-sm",children:[M.jsx("span",{className:"opacity-70",children:"Жанр:"}),M.jsx("strong",{className:"ml-2",children:r})]}),M.jsx("button",{onClick:s,className:"text-xs font-bold text-pink-500 hover:underline",children:"Сбросить"})]}),M.jsxs("div",{className:"relative mb-6",children:[M.jsx(H4,{className:u.searchPlaceholder}),M.jsx("input",{type:"text",placeholder:"Поиск по названию...",value:a,onChange:d=>l(d.target.value),className:`w-full ${u.searchBg} ${u.border} border rounded-lg py-2 pl-10 pr-4 ${u.text} ${u.searchPlaceholder} focus:outline-none focus:ring-2 ${u.searchRing} transition-shadow duration-300`})]}),M.jsx("div",{className:"grid grid-cols-3 gap-x-3 gap-y-5 sm:grid-cols-4",children:h.map(d=>M.jsxs("div",{onClick:()=>t(d),className:"cursor-pointer group relative",children:[M.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-pink-500 to-purple-500 rounded-lg blur-md opacity-0 group-hover:opacity-50 transition duration-500"}),M.jsxs("div",{className:"relative",children:[M.jsx("img",{src:d.coverUrl,alt:d.title,className:`w-full aspect-[2/3] object-cover rounded-lg shadow-md transition-transform duration-300 group-hover:scale-105 ${u.border} border`}),M.jsx("h2",{className:`mt-2 font-semibold text-xs truncate ${u.text}`,children:d.title}),M.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:d.lastUpdate})]})]},d.id))})]})},J4=({novel:e,onSelectChapter:t,onGenreSelect:n,theme:i,subscription:r,botUsername:s,userId:a,chaptersCache:l})=>{const u=jn[i],[h,d]=ft.useState([]),[p,m]=ft.useState(!0),[_,N]=ft.useState(!1),[V,k]=ft.useState(null),b=r&&new Date(r.expires_at)>new Date;ft.useEffect(()=>{l[e.id]?(d(l[e.id]),m(!1)):(m(!0),fetch(`data/chapters/${e.id}.json`).then(L=>L.json()).then(L=>{d(L.chapters||[]),m(!1)}).catch(L=>{console.error(L),d([]),m(!1)}))},[e.id,l]);const v=ft.useMemo(()=>[...h].reverse(),[h]),w=L=>{!b&&L.isPaid?N(!0):t(L)},D=L=>{k(L)},z=async L=>{var y;const E=(y=window.Telegram)==null?void 0:y.WebApp;if(E&&a&&V){const A=fA(n1,"users",a);try{await xD(A,{pendingSubscription:{...V,method:L,date:new Date().toISOString()}},{merge:!0}),E.openTelegramLink(`https://t.me/${s}?start=true`)}catch(S){console.error("Ошибка записи в Firebase:",S),E.showAlert("Не удалось сохранить ваш выбор. Попробуйте снова.")}}};return M.jsxs("div",{className:u.text,children:[_&&!V&&M.jsx(Y4,{onClose:()=>N(!1),onSelectPlan:D,theme:i}),_&&V&&M.jsx(X4,{onClose:()=>k(null),onSelectMethod:z,theme:i,plan:V}),M.jsxs("div",{className:"relative h-64",children:[M.jsx("img",{src:e.coverUrl,alt:e.title,className:"w-full h-full object-cover object-top absolute"}),M.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${i==="dark"?"from-gray-900 via-gray-900/80":"from-stone-100 via-stone-100/80"} to-transparent`}),M.jsxs("div",{className:"absolute bottom-4 left-4",children:[M.jsx("h1",{className:"text-3xl font-bold",style:{textShadow:"1px 1px 3px rgba(0,0,0,0.5)"},children:e.title}),M.jsx("p",{className:"text-sm",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:e.author})]})]}),M.jsxs("div",{className:"p-4",children:[M.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.genres.map(L=>M.jsx("button",{onClick:()=>n(L),className:`text-xs font-semibold px-3 py-1 rounded-full transition-colors duration-200 ${i==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-stone-200 text-stone-700 hover:bg-stone-300"}`,children:L},L))}),M.jsx("p",{className:`text-sm mb-6 ${i==="dark"?"text-gray-300":"text-stone-600"}`,children:e.description}),M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h2",{className:"text-xl font-bold",children:"Главы"}),b&&M.jsxs("p",{className:"text-sm text-green-500",children:["Подписка до ",new Date(r.expires_at).toLocaleDateString()]})]}),p?M.jsx("p",{className:u.text,children:"Загрузка глав..."}):M.jsx("div",{className:"flex flex-col gap-3",children:v.map(L=>{const E=!b&&L.isPaid;return M.jsxs("div",{onClick:()=>w(L),className:`p-4 ${u.componentBg} rounded-xl cursor-pointer transition-colors duration-200 hover:border-pink-400 border ${u.border} flex items-center justify-between ${E?"opacity-70":""}`,children:[M.jsx("div",{children:M.jsx("p",{className:`font-semibold ${u.componentText}`,children:L.title})}),E?M.jsx(G4,{className:u.text}):M.jsx(L4,{className:u.text})]},L.id)})})]})]})},W4=({chapter:e,novel:t,theme:n})=>{const i=jn[n];return M.jsx("div",{className:`min-h-screen transition-colors duration-300 ${i.bg}`,children:M.jsxs("div",{className:"p-4 sm:p-6 md:p-8 max-w-3xl mx-auto",children:[M.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 text-center",children:t.title}),M.jsx("h2",{className:"text-lg sm:text-xl mb-8 text-center opacity-80",children:e.title}),M.jsx("div",{className:`whitespace-pre-wrap leading-relaxed text-lg ${i.text}`,children:e.content})]})})};function tO(){const[e,t]=ft.useState("light"),[n,i]=ft.useState("list"),[r,s]=ft.useState([]),[a,l]=ft.useState(null),[u,h]=ft.useState(null),[d,p]=ft.useState(null),[m,_]=ft.useState(null),[N,V]=ft.useState(null),[k,b]=ft.useState(!0),[v,w]=ft.useState({}),D="tenebrisverbot";ft.useEffect(()=>{(async()=>{var vt,Te,B,X;try{const F=(vt=window.Telegram)==null?void 0:vt.WebApp;let ht="guest_user";F&&(F.ready(),F.expand(),ht=((X=(B=(Te=F.initDataUnsafe)==null?void 0:Te.user)==null?void 0:B.id)==null?void 0:X.toString())||"guest_user"),V(ht),await _N(U4);const It=fA(n1,"users",ht),An=await VD(It);An.exists()&&_(An.data().subscription||null);const ae=await fetch("data/novels.json");if(!ae.ok)throw new Error("Failed to fetch novels");const Ot=await ae.json();s(Ot.novels)}catch(F){console.error("Ошибка инициализации:",F)}finally{b(!1)}})()},[]),ft.useEffect(()=>{r.length>0&&r.forEach(T=>{fetch(`data/chapters/${T.id}.json`).then(vt=>vt.json()).then(vt=>{w(Te=>({...Te,[T.id]:vt.chapters||[]}))}).catch(vt=>console.error(`Не удалось предзагрузить главы для ${T.title}:`,vt))})},[r]),ft.useEffect(()=>{document.documentElement.className=e},[e]);const z=ft.useCallback(()=>{n==="reader"?i("details"):n==="details"&&(i("list"),p(null))},[n]),L=ft.useCallback(()=>{i("list"),p(null)},[]);ft.useEffect(()=>{var vt;const T=(vt=window.Telegram)==null?void 0:vt.WebApp;if(T)return T.onEvent("backButtonClicked",z),n==="list"?T.BackButton.hide():T.BackButton.show(),()=>T.offEvent("backButtonClicked",z)},[n,z]),ft.useEffect(()=>{var vt;const T=(vt=window.Telegram)==null?void 0:vt.WebApp;T&&(T.setHeaderColor(jn[e].tgHeader),T.setBackgroundColor(jn[e].tgBg))},[e]);const E=T=>{l(T),i("details")},y=T=>{h(T),i("reader")},A=T=>{p(T),i("list")},S=()=>{p(null)};if(k)return M.jsx(K4,{theme:e});const R=()=>{switch(n){case"details":return M.jsx(J4,{novel:a,onSelectChapter:y,onGenreSelect:A,theme:e,subscription:m,botUsername:D,userId:N,chaptersCache:v});case"reader":return M.jsx(W4,{chapter:u,novel:a,theme:e});case"list":default:return M.jsx(Z4,{novels:r,onSelectNovel:E,theme:e,setTheme:t,genreFilter:d,onClearGenreFilter:S})}},I=jn[e];return M.jsxs("main",{className:`${I.bg} min-h-screen`,children:[R(),n!=="list"&&M.jsx($4,{onBack:z,onHome:L})]})}Nw.createRoot(document.getElementById("root")).render(M.jsx(ft.StrictMode,{children:M.jsx(tO,{})}));
